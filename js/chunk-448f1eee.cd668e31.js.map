{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.regexp.test.js","webpack:///./src/service/goods.js","webpack:///./src/views/address.vue?aa88","webpack:///./src/views/address.vue?5eff","webpack:///src/views/address.vue","webpack:///./src/views/address.vue?9b20","webpack:///./src/views/address.vue"],"names":["$","call","uncurryThis","isCallable","isObject","DELEGATES_TO_EXEC","execCalled","re","exec","apply","this","arguments","test","$TypeError","TypeError","un$Test","target","proto","forced","str","result","getAddress","params","$pay","get","addAddress","data","post","updateAddress","id","put","delAddress","delete","defaultAddress","getOrder","updateOrderAddress","orderId","addressId","updateOrderRemark","remark","getOrderId","closeOrder","toPay","toConfirm","getVirtual","render","_vm","_h","$createElement","_c","_self","staticClass","_m","attrs","on","add","_v","list","scopedSlots","_u","key","fn","scope","$event","change","row","model","value","callback","$$v","$set","expression","_s","province","city","area","address","edit","del","staticStyle","slot","visible","ref","form","rules","addressList","handleChange","submit","staticRenderFns","name","contact_name","contact_phone","required","message","trigger","validator","computed","methods","load","reset","location","formName","type","item","console","created","components","component"],"mappings":"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","file":"js/chunk-448f1eee.cd668e31.js","sourcesContent":["'use strict';\n// TODO: Remove from `core-js@4` since it's moved to entry points\nrequire('../modules/es.regexp.exec');\nvar $ = require('../internals/export');\nvar call = require('../internals/function-call');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar isCallable = require('../internals/is-callable');\nvar isObject = require('../internals/is-object');\n\nvar DELEGATES_TO_EXEC = function () {\n  var execCalled = false;\n  var re = /[ac]/;\n  re.exec = function () {\n    execCalled = true;\n    return /./.exec.apply(this, arguments);\n  };\n  return re.test('abc') === true && execCalled;\n}();\n\nvar $TypeError = TypeError;\nvar un$Test = uncurryThis(/./.test);\n\n// `RegExp.prototype.test` method\n// https://tc39.es/ecma262/#sec-regexp.prototype.test\n$({ target: 'RegExp', proto: true, forced: !DELEGATES_TO_EXEC }, {\n  test: function (str) {\n    var exec = this.exec;\n    if (!isCallable(exec)) return un$Test(this, str);\n    var result = call(exec, this, str);\n    if (result !== null && !isObject(result)) {\n      throw new $TypeError('RegExp exec method returned something other than an Object or null');\n    }\n    return !!result;\n  }\n});\n","import { $pay } from \"@jx3box/jx3box-common/js/https\";\n// 获取地址列表\nfunction getAddress(params) {\n    return $pay().get(`/mall/ship-address`, params)\n}\n// 添加地址\nfunction addAddress(data) {\n    return $pay().post(`/mall/ship-address`, data)\n}\n// 更新地址\nfunction updateAddress(id, data) {\n    return $pay().put(`/mall/ship-address/${id}`, data)\n}\n// 删除地址\nfunction delAddress(id) {\n    return $pay().delete(`/mall/ship-address/${id}`)\n}\n// 设定默认地址\nfunction defaultAddress(id) {\n    return $pay().put(`/mall/ship-address/default/${id}`, )\n}\n// 获取我的订单\nfunction getOrder(params) {\n    return $pay().get(`/mall/my/orders`, { params })\n}\n// 更改订单的收货地址\nfunction updateOrderAddress(orderId, addressId) {\n    return $pay().put(`/mall/my/orders/${orderId}/bind-address/${addressId}`, )\n}\n// 修改订单备注\nfunction updateOrderRemark(id, remark) {\n    return $pay().put(`/mall/my/orders/${id}/remark`, { remark })\n}\n// 查看对应id的订单详情\nfunction getOrderId(id) {\n    return $pay().get(`/mall/my/orders/${id}`)\n}\n// 关闭订单\nfunction closeOrder(id) {\n    return $pay().put(`/mall/my/orders/${id}/cancel`, )\n}\n// 支付订单\nfunction toPay(id) {\n    return $pay().post(`/mall/my/orders/${id}/pay`);\n}\n// 确认收货\nfunction toConfirm(id) {\n    return $pay().post(`/mall/my/orders/${id}/received`);\n}\n//\nfunction getVirtual(params) {\n    return $pay().get(`/mall/my/virtual_goods`, { params });\n}\n\n// 获取\nexport {\n    getAddress,\n    addAddress,\n    updateAddress,\n    delAddress,\n    defaultAddress,\n    getOrder,\n    updateOrderAddress,\n    updateOrderRemark,\n    getOrderId,\n    closeOrder,\n    toPay,\n    getVirtual,\n    toConfirm\n};","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./address.vue?vue&type=style&index=0&lang=less&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"m-page-address\"},[_vm._m(0),_c('el-button',{attrs:{\"type\":\"success\",\"icon\":\"el-icon-plus\",\"size\":\"small\"},on:{\"click\":_vm.add}},[_vm._v(\"添加地址\")]),_c('div',{staticClass:\"m-content\"},[_c('el-table',{attrs:{\"data\":_vm.list,\"size\":\"small\"}},[_c('el-table-column',{attrs:{\"prop\":\"contact_name\",\"label\":\"姓名\",\"width\":\"180\"}}),_c('el-table-column',{attrs:{\"prop\":\"contact_phone\",\"label\":\"电话\",\"width\":\"180\"}}),_c('el-table-column',{attrs:{\"label\":\"默认地址\",\"width\":\"180\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-switch',{on:{\"change\":function($event){return _vm.change(scope.row)}},model:{value:(scope.row.is_default),callback:function ($$v) {_vm.$set(scope.row, \"is_default\", $$v)},expression:\"scope.row.is_default\"}})]}}])}),_c('el-table-column',{attrs:{\"label\":\"地址\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\" \"+_vm._s(scope.row.province)+_vm._s(scope.row.city)+_vm._s(scope.row.area)+_vm._s(scope.row.address)+\" \")]}}])}),_c('el-table-column',{attrs:{\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',[_c('el-button',{attrs:{\"plain\":\"\",\"icon\":\"el-icon-edit\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.edit(scope.row)}}},[_vm._v(\"编辑\")]),_c('el-popconfirm',{attrs:{\"confirm-button-text\":\"确定\",\"cancel-button-text\":\"取消\",\"icon\":\"el-icon-info\",\"title\":\"确定删除吗？\"},on:{\"confirm\":function($event){return _vm.del(scope.row.id)}}},[_c('el-button',{staticStyle:{\"margin-left\":\"10px\"},attrs:{\"slot\":\"reference\",\"type\":\"info\",\"plain\":\"\",\"size\":\"mini\",\"icon\":\"el-icon-delete\"},slot:\"reference\"},[_vm._v(\"删除\")])],1)],1)]}}])})],1)],1),_c('el-dialog',{attrs:{\"custom-class\":\"m-address-dialog\",\"visible\":_vm.visible,\"title\":\"我的地址\",\"width\":\"750px\"},on:{\"update:visible\":function($event){_vm.visible=$event}}},[_c('el-form',{ref:\"ruleForm\",attrs:{\"model\":_vm.form,\"rules\":_vm.rules,\"label-position\":\"top\"}},[_c('el-form-item',{attrs:{\"label\":\"联系人\",\"prop\":\"contact_name\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入名称\"},model:{value:(_vm.form.contact_name),callback:function ($$v) {_vm.$set(_vm.form, \"contact_name\", $$v)},expression:\"form.contact_name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"手机号\",\"prop\":\"contact_phone\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入手机号\"},model:{value:(_vm.form.contact_phone),callback:function ($$v) {_vm.$set(_vm.form, \"contact_phone\", $$v)},expression:\"form.contact_phone\"}})],1),_c('el-form-item',{attrs:{\"label\":\"联系地址\",\"prop\":\"address\"}},[_c('div',{staticClass:\"m-line\"},[_c('el-cascader',{staticClass:\"u-address\",attrs:{\"options\":_vm.addressList},on:{\"change\":_vm.handleChange},model:{value:(_vm.address),callback:function ($$v) {_vm.address=$$v},expression:\"address\"}}),_c('el-input',{attrs:{\"placeholder\":\"详细地址\"},model:{value:(_vm.form.address),callback:function ($$v) {_vm.$set(_vm.form, \"address\", $$v)},expression:\"form.address\"}})],1)])],1),_c('span',{staticClass:\"m-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":function($event){_vm.visible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":function($event){return _vm.submit('ruleForm')}}},[_vm._v(\"确 定\")])],1)],1)],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('h2',{staticClass:\"u-title\"},[_c('span',{staticClass:\"i-title\"},[_c('i',{staticClass:\"el-icon-postcard\"}),_vm._v(\" 地址管理 \")])])}]\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"m-page-address\">\n        <!-- 标题 -->\n        <h2 class=\"u-title\">\n            <span class=\"i-title\"> <i class=\"el-icon-postcard\"></i> 地址管理 </span>\n        </h2>\n        <!-- 显示地址 -->\n        <el-button type=\"success\" icon=\"el-icon-plus\" @click=\"add\" size=\"small\">添加地址</el-button>\n\n        <div class=\"m-content\">\n            <el-table :data=\"list\" size=\"small\">\n                <el-table-column prop=\"contact_name\" label=\"姓名\" width=\"180\"> </el-table-column>\n                <el-table-column prop=\"contact_phone\" label=\"电话\" width=\"180\"> </el-table-column>\n                <el-table-column label=\"默认地址\" width=\"180\">\n                    <template slot-scope=\"scope\">\n                        <el-switch v-model=\"scope.row.is_default\" @change=\"change(scope.row)\"> </el-switch>\n                    </template>\n                </el-table-column>\n                <el-table-column label=\"地址\">\n                    <template slot-scope=\"scope\">\n                        {{ scope.row.province }}{{ scope.row.city }}{{ scope.row.area }}{{ scope.row.address }}\n                    </template>\n                </el-table-column>\n                <el-table-column label=\"操作\">\n                    <template slot-scope=\"scope\">\n                        <div>\n                            <el-button plain @click=\"edit(scope.row)\" icon=\"el-icon-edit\" size=\"mini\">编辑</el-button>\n                            <el-popconfirm\n                                confirm-button-text=\"确定\"\n                                cancel-button-text=\"取消\"\n                                icon=\"el-icon-info\"\n                                title=\"确定删除吗？\"\n                                @confirm=\"del(scope.row.id)\"\n                            >\n                                <el-button\n                                    style=\"margin-left: 10px\"\n                                    slot=\"reference\"\n                                    type=\"info\"\n                                    plain\n                                    size=\"mini\"\n                                    icon=\"el-icon-delete\"\n                                    >删除</el-button\n                                >\n                            </el-popconfirm>\n                        </div>\n                    </template>\n                </el-table-column>\n            </el-table>\n        </div>\n        <!-- 地址表单 -->\n        <el-dialog custom-class=\"m-address-dialog\" :visible.sync=\"visible\" title=\"我的地址\" width=\"750px\">\n            <el-form :model=\"form\" :rules=\"rules\" ref=\"ruleForm\" label-position=\"top\">\n                <el-form-item label=\"联系人\" prop=\"contact_name\">\n                    <el-input placeholder=\"请输入名称\" v-model=\"form.contact_name\"></el-input>\n                </el-form-item>\n                <el-form-item label=\"手机号\" prop=\"contact_phone\">\n                    <el-input placeholder=\"请输入手机号\" v-model=\"form.contact_phone\"></el-input>\n                </el-form-item>\n                <el-form-item label=\"联系地址\" prop=\"address\">\n                    <div class=\"m-line\">\n                        <el-cascader\n                            class=\"u-address\"\n                            v-model=\"address\"\n                            :options=\"addressList\"\n                            @change=\"handleChange\"\n                        ></el-cascader>\n                        <el-input placeholder=\"详细地址\" v-model=\"form.address\"></el-input>\n                    </div>\n                </el-form-item>\n            </el-form>\n            <span slot=\"footer\" class=\"m-footer\">\n                <el-button size=\"small\" @click=\"visible = false\">取 消</el-button>\n                <el-button size=\"small\" type=\"primary\" @click=\"submit('ruleForm')\">确 定</el-button>\n            </span>\n        </el-dialog>\n    </div>\n</template>\n\n<script>\nimport addressList from \"@/assets/data/address.json\";\nimport { getAddress, addAddress, delAddress, updateAddress, defaultAddress } from \"@/service/goods\";\nimport { omit } from \"lodash\";\nexport default {\n    name: \"myAddress\",\n    data: function () {\n        const checkPhone = (rule, value, callback) => {\n            if (value) {\n                const num = /^[1][3,4,5,7,8][0-9]{9}$/;\n                if (!num.test(value)) {\n                    callback(new Error(\"请输入正确的手机号\"));\n                } else {\n                    callback();\n                }\n            }\n        };\n        const checkAddress = (rule, value, callback) => {\n            if (value) {\n                if (this.form.province) {\n                    callback();\n                } else {\n                    callback(new Error(\"请选择省市区\"));\n                }\n            } else {\n                callback(new Error(\"请输入具体地址\"));\n            }\n        };\n        return {\n            address: \"\",\n            addressList,\n\n            list: [],\n            visible: false,\n            form: {\n                contact_name: \"\",\n                contact_phone: \"\",\n                province: \"\",\n                city: \"\",\n                area: \"\",\n                address: \"\",\n            },\n\n            rules: {\n                contact_name: [{ required: true, message: \"请输入联系人名称\", trigger: \"blur\" }],\n                contact_phone: [{ required: true, validator: checkPhone, trigger: \"blur\" }],\n                address: [{ required: true, validator: checkAddress, trigger: \"blur\" }],\n            },\n        };\n    },\n    computed: {},\n    methods: {\n        load() {\n            getAddress().then((res) => {\n                this.list = res.data.data.list;\n            });\n        },\n        add() {\n            this.visible = true;\n            this.form = this.$options.data().form;\n            this.address = \"\";\n        },\n        reset() {\n            this.visible = false;\n            this.form = this.$options.data().form;\n            this.address = \"\";\n            location.reload();\n        },\n        submit(formName) {\n            this.$refs[formName].validate((valid) => {\n                if (valid) {\n                    const form = omit(this.form, [\"created_at\", \"updated_at\", \"user_id\", \"id\", \"is_default\"]);\n                    this.form.id\n                        ? updateAddress(this.form.id, form).then(() => {\n                              this.$message({\n                                  message: \"编辑成功\",\n                                  type: \"success\",\n                              });\n                              this.reset();\n                          })\n                        : addAddress(this.form).then((res) => {\n                              this.$message({\n                                  message: \"添加成功\",\n                                  type: \"success\",\n                              });\n                              this.reset();\n                          });\n                }\n            });\n        },\n        handleChange(list) {\n            this.form.province = list[0];\n            this.form.city = list[1];\n            this.form.area = list[2];\n        },\n        edit(item) {\n            console.log(\"////\");\n            this.visible = true;\n            this.form = item;\n            this.address = [this.form.province, this.form.city, this.form.area];\n        },\n        del(id) {\n            delAddress(id).then(() => {\n                this.$message({\n                    message: \"删除成功\",\n                    type: \"success\",\n                });\n                location.reload();\n            });\n        },\n        change(row) {\n            if (!row.is_default) return;\n            defaultAddress(row.id).then(() => {\n                location.reload();\n            });\n        },\n    },\n    created: function () {\n        this.load();\n    },\n    components: {},\n};\n</script>\n\n<style lang=\"less\">\n@import \"../assets/css/address.less\";\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./address.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./address.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./address.vue?vue&type=template&id=e7b51e96&\"\nimport script from \"./address.vue?vue&type=script&lang=js&\"\nexport * from \"./address.vue?vue&type=script&lang=js&\"\nimport style0 from \"./address.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}