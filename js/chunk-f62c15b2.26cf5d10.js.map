{"version":3,"sources":["webpack:///./src/views/mall.vue?ef13","webpack:///./src/service/goods.js","webpack:///./src/service/msg.js","webpack:///./src/components/uc.vue?1aec","webpack:///./src/components/uc.vue","webpack:///./src/components/tabs.vue","webpack:///src/components/tabs.vue","webpack:///./src/components/tabs.vue?55f4","webpack:///./src/components/tabs.vue?b057","webpack:///src/components/uc.vue","webpack:///./src/components/uc.vue?375a","webpack:///./src/components/uc.vue?cd4f","webpack:///./src/views/mall.vue","webpack:///./src/components/form/comment.vue","webpack:///src/components/form/comment.vue","webpack:///./src/components/form/comment.vue?4994","webpack:///./src/components/form/comment.vue?d0e9","webpack:///src/views/mall.vue","webpack:///./src/views/mall.vue?90bd","webpack:///./src/views/mall.vue?12a2","webpack:///./src/components/form/comment.vue?179d"],"names":["getAddress","params","$pay","get","addAddress","data","post","updateAddress","id","put","concat","delAddress","delete","defaultAddress","getOrder","updateOrderAddress","orderId","addressId","updateOrderRemark","remark","getOrderId","closeOrder","toPay","toConfirm","getVirtual","goodsRate","appendGoodsRate","delGoodsRate","getMsgs","$next","readMsg","readAll","removeMsg","getMessageUnread","mute","getLetterUnread","getCommentMsgDetail","render","_vm","this","_c","_self","staticClass","class","icon","_v","_s","title","_t","attrs","tabList","msgChangeCount","staticRenderFns","on","changeTab","model","value","active","callback","$$v","expression","_l","tabs","item","key","name","slot","label","showCount","count","countMap","_e","props","type","Array","default","Number","msg","letter","message","watch","$route","routeName","immediate","handler","num","computed","includes","methods","$router","push","loadCount","_this","then","res","_res$data","_res$data$data","unread_count","mounted","components","component","String","profileTab","list","length","i","order","created_at","$event","showDetail","goods","order_no","goods_num","orderStatus","order_status","payStatus","pay_status","is_vitural_gift_order","showPay","isReceipt","cancel","handleShow","pageSize","total","pageIndex","dialogVisible","handleClose","order_id","ref","form","rules","rate","$set","express_rate","comment","is_anonymous","close","submitForm","required","trigger","$emit","formName","$refs","validate","valid","$message","uc","GoodComment","mallTab","_params","params_pageIndex","append","deep","load","val","page","_ref","_ref2","_this2","map","row","_this3","_this4"],"mappings":"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","file":"js/chunk-f62c15b2.26cf5d10.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./mall.vue?vue&type=style&index=0&id=e8355554&prod&lang=less&scoped=true\"","import { $pay } from \"@jx3box/jx3box-common/js/https\";\n// 获取地址列表\nfunction getAddress(params) {\n    return $pay().get(`/api/mall/ship-address`, params)\n}\n// 添加地址\nfunction addAddress(data) {\n    return $pay().post(`/api/mall/ship-address`, data)\n}\n// 更新地址\nfunction updateAddress(id, data) {\n    return $pay().put(`/api/mall/ship-address/${id}`, data)\n}\n// 删除地址\nfunction delAddress(id) {\n    return $pay().delete(`/api/mall/ship-address/${id}`)\n}\n// 设定默认地址\nfunction defaultAddress(id) {\n    return $pay().put(`/api/mall/ship-address/default/${id}`, )\n}\n// 获取我的订单\nfunction getOrder(params) {\n    return $pay().get(`/api/mall/my/orders`, { params })\n}\n// 更改订单的收货地址\nfunction updateOrderAddress(orderId, addressId) {\n    return $pay().put(`/api/mall/my/orders/${orderId}/bind-address/${addressId}`, )\n}\n// 修改订单备注\nfunction updateOrderRemark(id, remark) {\n    return $pay().put(`/api/mall/my/orders/${id}/remark`, { remark })\n}\n// 查看对应id的订单详情\nfunction getOrderId(id) {\n    return $pay().get(`/api/mall/my/orders/${id}`)\n}\n// 关闭订单\nfunction closeOrder(id) {\n    return $pay().put(`/api/mall/my/orders/${id}/cancel`, )\n}\n// 支付订单\nfunction toPay(id) {\n    return $pay().post(`/api/mall/my/orders/${id}/pay`);\n}\n// 确认收货\nfunction toConfirm(id) {\n    return $pay().post(`/api/mall/my/orders/${id}/received`);\n}\n// 获取虚拟商品\nfunction getVirtual(params) { \n    return $pay().get(`/api/mall/my/virtual_goods`, { params });\n}\n\n// 商品评价\nfunction goodsRate(data) {\n    return $pay().post(`/api/mall/goods-rate`, data);\n}\n// 追评\nfunction appendGoodsRate(id, data) {\n    return $pay().post(`/api/mall/goods-rate/${id}/append-comments`,data);\n}\n// 删除评论\nfunction delGoodsRate(id) {\n    return $pay().delete(`/api/mall/goods-rate/${id}`);\n}\n\n\nexport {\n    getAddress,\n    addAddress,\n    updateAddress,\n    delAddress,\n    defaultAddress,\n    getOrder,\n    updateOrderAddress,\n    updateOrderRemark,\n    getOrderId,\n    closeOrder,\n    toPay,\n    getVirtual,\n    toConfirm,\n    // 评价\n    goodsRate,\n    appendGoodsRate,\n    delGoodsRate\n};\n","import { $next } from \"@jx3box/jx3box-common/js/https\";\n\nfunction getMsgs(params) {\n    return $next().get(`/api/next2/userdata/messages`, { params });\n}\n\nfunction readMsg(id) {\n    return $next().put(`/api/next2/userdata/messages/read/${id}`);\n}\n\nfunction readAll() {\n    return $next().put(`/api/next2/userdata/messages/read`);\n}\n\nfunction removeMsg(id) {\n    return $next().delete(`/api/next2/userdata/messages/${id}`);\n}\n\nfunction getMessageUnread() {\n    return $next({ mute: true }).get(\"/api/next2/userdata/messages/unread_total\");\n}\n\nfunction getLetterUnread() {\n    return $next({ mute: true }).get(\"/api/letter/unread/count\");\n}\n\nfunction getCommentMsgDetail(id) {\n    return $next().get(`/api/next2/comment/item/${id}`);\n}\n\nexport { getMsgs, readMsg, readAll, removeMsg, getLetterUnread, getCommentMsgDetail, getMessageUnread };\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./uc.vue?vue&type=style&index=0&id=58434bd0&prod&lang=less\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"m-dashboard-profile m-profile\"},[_c('h2',{staticClass:\"u-title\"},[_c('i',{class:_vm.icon}),_vm._v(\" \"+_vm._s(_vm.title)+\" \"),_vm._t(\"header\")],2),_c('tabs',{attrs:{\"tabs\":_vm.tabList,\"msg-change-count\":_vm.msgChangeCount}}),_vm._t(\"default\")],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('el-tabs',{staticClass:\"m-dashboard-tabs\",on:{\"tab-click\":_vm.changeTab},model:{value:(_vm.active),callback:function ($$v) {_vm.active=$$v},expression:\"active\"}},_vm._l((_vm.tabs),function(item){return _c('el-tab-pane',{key:item.name,attrs:{\"name\":item.name}},[_c('span',{attrs:{\"slot\":\"label\"},slot:\"label\"},[_c('i',{staticClass:\"u-tab-icon\",class:item.icon}),_vm._v(\" \"+_vm._s(item.label)+\" \"),(_vm.showCount)?_c('span',{staticClass:\"u-count\",class:_vm.count[_vm.countMap[item.name]] ? 'is-orange' : ''},[_vm._v(\"(\"+_vm._s(_vm.count[_vm.countMap[item.name]] || 0)+\")\")]):_vm._e()])])}),1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <el-tabs class=\"m-dashboard-tabs\" v-model=\"active\" @tab-click=\"changeTab\">\n        <el-tab-pane v-for=\"item in tabs\" :key=\"item.name\" :name=\"item.name\">\n            <span slot=\"label\"\n                ><i :class=\"item.icon\" class=\"u-tab-icon\"></i> {{ item.label }}\n                <span v-if=\"showCount\" class=\"u-count\" :class=\"count[countMap[item.name]] ? 'is-orange' : ''\"\n                    >({{ count[countMap[item.name]] || 0 }})</span\n                >\n            </span>\n        </el-tab-pane>\n    </el-tabs>\n</template>\n\n<script>\nimport { getLetterUnread, getMessageUnread } from \"@/service/msg\";\nexport default {\n    name: \"\",\n    props: {\n        tabs: {\n            type: Array,\n            default: () => [],\n        },\n        msgChangeCount: {\n            type: Number,\n            default: 0,\n        },\n    },\n    data: function () {\n        return {\n            active: \"\",\n            countMap: {\n                msg: \"message\",\n                letter: \"letter\",\n            },\n            count: {\n                message: 0,\n                letter: 0,\n            },\n        };\n    },\n    watch: {\n        $route: function () {\n            this.active = this.routeName;\n        },\n        msgChangeCount: {\n            immediate: true,\n            handler(num) {\n                if (num > 0) {\n                    // 全读\n                    this.count.message = 0;\n                }\n                if (num < 0) {\n                    // 单个已读\n                    if (this.count.message > 0) {\n                        this.count.message += num;\n                    }\n                }\n            },\n        },\n    },\n    computed: {\n        showCount() {\n            return [\"msg\", \"letter\"].includes(this.routeName);\n        },\n        routeName() {\n            return this.$route.name;\n        },\n    },\n    methods: {\n        changeTab: function () {\n            this.$router.push({ name: this.active });\n        },\n        loadCount() {\n            getLetterUnread().then((res) => {\n                const data = res.data?.data || {};\n                this.count.letter = data.letter || 0;\n            });\n\n            getMessageUnread().then((res) => {\n                this.count.message = res.data.data?.unread_count || 0;\n            })\n        },\n    },\n    mounted: function () {\n        this.active = this.routeName;\n        if (this.showCount) {\n            this.loadCount();\n        }\n    },\n    components: {},\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./tabs.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./tabs.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./tabs.vue?vue&type=template&id=3877b214\"\nimport script from \"./tabs.vue?vue&type=script&lang=js\"\nexport * from \"./tabs.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n    <div class=\"m-dashboard-profile m-profile\">\n        <h2 class=\"u-title\">\n            <i :class=\"icon\"></i> {{ title }}\n            <slot name=\"header\"></slot>\n        </h2>\n        <tabs :tabs=\"tabList\" :msg-change-count=\"msgChangeCount\" />\n        <slot></slot>\n    </div>\n</template>\n\n<script>\nimport tabs from \"@/components/tabs.vue\";\nimport { profileTab } from \"@/assets/data/tabs.json\";\nexport default {\n    name: \"uc\",\n    props: {\n        icon: {\n            type: String,\n            default: \"el-icon-user\",\n        },\n        title: {\n            type: String,\n            default: \"我的资料\",\n        },\n        tabList: {\n            type: Array,\n            default: function () {\n                return profileTab;\n            },\n        },\n        msgChangeCount: {\n            type: Number,\n            default: 0,\n        },\n    },\n    data: function () {\n        return {};\n    },\n    computed: {},\n    methods: {},\n    mounted: function () {},\n    components: {\n        tabs,\n    },\n};\n</script>\n\n<style lang=\"less\">\n@import \"../assets/css/profile/uc.less\";\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./uc.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./uc.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./uc.vue?vue&type=template&id=58434bd0\"\nimport script from \"./uc.vue?vue&type=script&lang=js\"\nexport * from \"./uc.vue?vue&type=script&lang=js\"\nimport style0 from \"./uc.vue?vue&type=style&index=0&id=58434bd0&prod&lang=less\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('uc',{attrs:{\"icon\":\"el-icon-shopping-bag-1\",\"title\":\"订单中心\",\"tabList\":_vm.tabList}},[_c('div',{staticClass:\"m-dashboard m-dashboard-work m-dashboard-orders\"},[_c('div',{staticClass:\"m-dashboard-orders-cont\"},[(_vm.list && _vm.list.length)?_c('div',{staticClass:\"m-mall-list\"},[_c('table',[_c('thead',[_c('th',[_vm._v(\"兑换时间\")]),_c('th',[_vm._v(\"兑换商品\")]),_c('th',[_vm._v(\"订单号\")]),_c('th',[_vm._v(\"数量\")]),_c('th',[_vm._v(\"订单状态\")]),_c('th',[_vm._v(\"付款状态\")]),_c('th',[_vm._v(\"是否为赠送\")]),_c('th',[_vm._v(\"操作\")])]),_c('tbody',_vm._l((_vm.list),function(item,i){return _c('tr',{key:i},[_c('td',[_vm._v(_vm._s(item.order.created_at))]),_c('td',[_c('span',{staticClass:\"u-title\",on:{\"click\":function($event){return _vm.showDetail(item)}}},[_c('i',{staticClass:\"el-icon-link\"}),_vm._v(_vm._s(item.goods.title))])]),_c('td',[_vm._v(_vm._s(item.order.order_no))]),_c('td',[_vm._v(_vm._s(item.order.goods_num))]),_c('td',[_vm._v(_vm._s(_vm.orderStatus[item.order.order_status]))]),_c('td',[_vm._v(_vm._s(_vm.payStatus[item.order.pay_status]))]),_c('td',[_vm._v(_vm._s(item.order.is_vitural_gift_order ? \"是\" : \"否\"))]),_c('td',[_c('div',{staticClass:\"u-op\"},[(_vm.showPay(item.order))?_c('el-tooltip',{attrs:{\"effect\":\"dark\",\"content\":\"点击支付\",\"placement\":\"top\"}},[_c('el-button',{attrs:{\"link\":\"\",\"size\":\"mini\",\"type\":\"success\",\"plain\":\"\",\"icon\":\"el-icon-wallet\",\"circle\":\"\"},on:{\"click\":function($event){return _vm.toPay(item)}}})],1):_vm._e(),(item.order.order_status == 3)?[_c('el-tooltip',{attrs:{\"effect\":\"dark\",\"content\":\"确认收货\",\"placement\":\"top\"}},[_c('el-button',{attrs:{\"link\":\"\",\"size\":\"mini\",\"plain\":\"\",\"icon\":\"el-icon-circle-check\",\"circle\":\"\"},on:{\"click\":function($event){return _vm.isReceipt(item.order.id)}}})],1)]:_vm._e(),(item.order.order_status == 0)?_c('el-tooltip',{attrs:{\"effect\":\"dark\",\"content\":\"取消订单\",\"placement\":\"top\"}},[_c('el-popconfirm',{attrs:{\"confirm-button-text\":\"确定\",\"cancel-button-text\":\"取消\",\"icon\":\"el-icon-info\",\"title\":\"确定取消吗？\"},on:{\"confirm\":function($event){return _vm.cancel(item.order.id)}}},[_c('el-button',{attrs:{\"slot\":\"reference\",\"size\":\"mini\",\"type\":\"info\",\"plain\":\"\",\"icon\":\"el-icon-circle-close\",\"circle\":\"\"},slot:\"reference\"})],1)],1):_vm._e(),(item.order.order_status == 4)?[_c('el-tooltip',{attrs:{\"effect\":\"dark\",\"content\":\"评价商品\",\"placement\":\"top\"}},[_c('el-button',{attrs:{\"icon\":\"el-icon-chat-dot-square\",\"size\":\"mini\",\"plain\":\"\",\"circle\":\"\"},on:{\"click\":function($event){return _vm.handleShow('comment', item.order.id)}}})],1)]:_vm._e()],2)])])}),0)]),_c('div',{staticClass:\"m-mall-pages\"},[_c('el-pagination',{attrs:{\"background\":\"\",\"layout\":\"total, prev, pager, next,jumper\",\"page-size\":_vm.pageSize,\"total\":_vm.total,\"current-page\":_vm.pageIndex},on:{\"update:currentPage\":function($event){_vm.pageIndex=$event},\"update:current-page\":function($event){_vm.pageIndex=$event}}})],1)]):_c('div',{staticClass:\"m-mall-null\"},[_c('el-alert',{attrs:{\"title\":\"还有任何订单记录\",\"type\":\"info\",\"show-icon\":\"\"}})],1)])]),_c('el-dialog',{attrs:{\"title\":_vm.title,\"visible\":_vm.dialogVisible,\"width\":\"30%\",\"before-close\":_vm.handleClose},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('GoodComment',{attrs:{\"order_id\":_vm.order_id,\"type\":_vm.type},on:{\"close\":_vm.handleClose}})],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('el-form',{ref:\"form\",staticClass:\"m-goods-comment\",attrs:{\"model\":_vm.form,\"rules\":_vm.rules,\"label-width\":\"80px\"}},[_c('el-form-item',{attrs:{\"label\":\"商品评价\",\"prop\":\"rate\"}},[_c('el-rate',{attrs:{\"max\":3},model:{value:(_vm.form.rate),callback:function ($$v) {_vm.$set(_vm.form, \"rate\", $$v)},expression:\"form.rate\"}})],1),_c('el-form-item',{attrs:{\"label\":\"物流评价\",\"prop\":\"express_rate\"}},[_c('el-rate',{attrs:{\"max\":3},model:{value:(_vm.form.express_rate),callback:function ($$v) {_vm.$set(_vm.form, \"express_rate\", $$v)},expression:\"form.express_rate\"}})],1),_c('el-form-item',{attrs:{\"label\":\"评价内容\",\"prop\":\"comment\"}},[_c('el-input',{attrs:{\"type\":\"textarea\"},model:{value:(_vm.form.comment),callback:function ($$v) {_vm.$set(_vm.form, \"comment\", $$v)},expression:\"form.comment\"}})],1),_c('el-form-item',{attrs:{\"label\":\"是否匿名\",\"prop\":\"is_anonymous\"}},[_c('el-switch',{model:{value:(_vm.form.is_anonymous),callback:function ($$v) {_vm.$set(_vm.form, \"is_anonymous\", $$v)},expression:\"form.is_anonymous\"}})],1),_c('div',{staticClass:\"m-button\"},[_c('el-button',{on:{\"click\":function($event){return _vm.close('form')}}},[_vm._v(\"取消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.submitForm('form')}}},[_vm._v(\"确定\")])],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <el-form class=\"m-goods-comment\" :model=\"form\" :rules=\"rules\" ref=\"form\" label-width=\"80px\">\n        <el-form-item label=\"商品评价\" prop=\"rate\">\n            <el-rate v-model=\"form.rate\" :max=\"3\"></el-rate>\n        </el-form-item>\n        <el-form-item label=\"物流评价\" prop=\"express_rate\">\n            <el-rate v-model=\"form.express_rate\" :max=\"3\"></el-rate>\n        </el-form-item>\n        <el-form-item label=\"评价内容\" prop=\"comment\">\n            <el-input type=\"textarea\" v-model=\"form.comment\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"是否匿名\" prop=\"is_anonymous\">\n            <el-switch v-model=\"form.is_anonymous\"></el-switch>\n        </el-form-item>\n\n        <div class=\"m-button\">\n            <el-button @click=\"close('form')\">取消</el-button>\n            <el-button type=\"primary\" @click=\"submitForm('form')\">确定</el-button>\n        </div>\n    </el-form>\n</template>\n<script>\nimport { goodsRate } from \"@/service/goods\";\nexport default {\n    name: \"goodComment\",\n    props: [\"order_id\"],\n    data: function () {\n        return {\n            form: {\n                rate: 3,\n                express_rate: 3,\n                comment: \"\",\n                is_anonymous: true,\n                order_id: this.order_id,\n            },\n\n            rules: {\n                comment: { required: true, message: \"请填写评价内容\", trigger: \"blur\" },\n            },\n        };\n    },\n\n    methods: {\n        close(data) {\n            this.$emit(\"close\", data);\n        },\n        submitForm(formName) {\n            this.$refs[formName].validate((valid) => {\n                if (valid) {\n                    goodsRate(this.form).then(() => {\n                        this.$message({\n                            message: \"评价成功\",\n                            type: \"success\",\n                        });\n                        this.close(this.order_id);\n                    });\n                }\n            });\n        },\n    },\n};\n</script>\n<style lang=\"less\">\n.m-goods-comment {\n    .el-form-item {\n        .flex;\n        .mb(12px);\n        align-items: center;\n    }\n    .el-form-item__content {\n        flex: 1;\n        .ml(0) !important;\n    }\n    .m-button {\n        .flex;\n        .pt(12px);\n        align-items: center;\n        justify-content: center;\n        gap: 20px;\n    }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./comment.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./comment.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./comment.vue?vue&type=template&id=5efb880c\"\nimport script from \"./comment.vue?vue&type=script&lang=js\"\nexport * from \"./comment.vue?vue&type=script&lang=js\"\nimport style0 from \"./comment.vue?vue&type=style&index=0&id=5efb880c&prod&lang=less\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n    <uc icon=\"el-icon-shopping-bag-1\" title=\"订单中心\" :tabList=\"tabList\">\n        <div class=\"m-dashboard m-dashboard-work m-dashboard-orders\">\n            <div class=\"m-dashboard-orders-cont\">\n                <!-- 表单 -->\n                <div class=\"m-mall-list\" v-if=\"list && list.length\">\n                    <table>\n                        <thead>\n                            <th>兑换时间</th>\n                            <th>兑换商品</th>\n                            <th>订单号</th>\n                            <th>数量</th>\n                            <th>订单状态</th>\n                            <th>付款状态</th>\n                            <th>是否为赠送</th>\n                            <th>操作</th>\n                        </thead>\n                        <tbody>\n                            <tr v-for=\"(item, i) in list\" :key=\"i\">\n                                <td>{{ item.order.created_at }}</td>\n                                <td>\n                                    <span class=\"u-title\" @click=\"showDetail(item)\"\n                                        ><i class=\"el-icon-link\"></i>{{ item.goods.title }}</span\n                                    >\n                                </td>\n                                <td>{{ item.order.order_no }}</td>\n                                <td>{{ item.order.goods_num }}</td>\n                                <td>{{ orderStatus[item.order.order_status] }}</td>\n                                <td>{{ payStatus[item.order.pay_status] }}</td>\n                                <td>{{ item.order.is_vitural_gift_order ? \"是\" : \"否\" }}</td>\n                                <td>\n                                    <div class=\"u-op\">\n                                        <!-- 未支付 -->\n                                        <el-tooltip effect=\"dark\" content=\"点击支付\" placement=\"top\" v-if=\"showPay(item.order)\">\n                                            <el-button\n                                                link\n                                                size=\"mini\"\n                                                type=\"success\"\n                                                plain\n                                                icon=\"el-icon-wallet\"\n                                                @click=\"toPay(item)\"\n                                                circle\n                                            ></el-button>\n                                        </el-tooltip>\n\n                                        <!-- 已发货操作： 确认收货&申请退货 -->\n                                        <template v-if=\"item.order.order_status == 3\">\n                                            <el-tooltip effect=\"dark\" content=\"确认收货\" placement=\"top\">\n                                                <el-button\n                                                    link\n                                                    size=\"mini\"\n                                                    plain\n                                                    icon=\"el-icon-circle-check\"\n                                                    @click=\"isReceipt(item.order.id)\"\n                                                    circle\n                                                ></el-button>\n                                            </el-tooltip>\n                                        </template>\n\n                                        <!-- 未发货允许操作： 取消订单 -->\n                                        <el-tooltip effect=\"dark\" content=\"取消订单\" placement=\"top\" v-if=\"item.order.order_status == 0\">\n                                            <el-popconfirm\n                                                confirm-button-text=\"确定\"\n                                                cancel-button-text=\"取消\"\n                                                icon=\"el-icon-info\"\n                                                title=\"确定取消吗？\"\n                                                @confirm=\"cancel(item.order.id)\"\n                                            >\n                                                <el-button\n                                                    size=\"mini\"\n                                                    slot=\"reference\"\n                                                    type=\"info\"\n                                                    plain\n                                                    icon=\"el-icon-circle-close\"\n                                                    circle\n                                                ></el-button>\n                                            </el-popconfirm>\n                                        </el-tooltip>\n\n                                        <!-- 已收货操作： 评价 -->\n                                        <template v-if=\"item.order.order_status == 4\">\n                                            <el-tooltip effect=\"dark\" content=\"评价商品\" placement=\"top\">\n                                                <el-button\n                                                    icon=\"el-icon-chat-dot-square\"\n                                                    @click=\"handleShow('comment', item.order.id)\"\n                                                    size=\"mini\"\n                                                    plain\n                                                    circle\n                                                ></el-button>\n                                            </el-tooltip>\n                                        </template>\n                                    </div>\n                                </td>\n                            </tr>\n                        </tbody>\n                    </table>\n                    <!-- 分页 -->\n                    <div class=\"m-mall-pages\">\n                        <el-pagination\n                            background\n                            layout=\"total, prev, pager, next,jumper\"\n                            :page-size=\"pageSize\"\n                            :total=\"total\"\n                            :current-page.sync=\"pageIndex\"\n                        ></el-pagination>\n                    </div>\n                </div>\n                <div class=\"m-mall-null\" v-else>\n                    <el-alert title=\"还有任何订单记录\" type=\"info\" show-icon></el-alert>\n                </div>\n            </div>\n        </div>\n        <el-dialog :title=\"title\" :visible.sync=\"dialogVisible\" width=\"30%\" :before-close=\"handleClose\">\n            <GoodComment :order_id=\"order_id\" :type=\"type\" @close=\"handleClose\" />\n        </el-dialog>\n    </uc>\n</template>\n\n<script>\nimport uc from \"@/components/uc.vue\";\nimport GoodComment from \"@/components/form/comment.vue\";\nimport { getOrder, closeOrder, toPay, toConfirm } from \"@/service/goods\";\nimport { payStatus, orderStatus } from \"@/assets/data/mall.json\";\nimport { mallTab } from \"@/assets/data/tabs.json\";\nexport default {\n    name: \"mall\",\n    components: {\n        uc,\n        GoodComment,\n    },\n    data: function () {\n        return {\n            list: [],\n\n            total: 0,\n            pageIndex: 1,\n            pageSize: 10,\n\n            payStatus,\n            orderStatus,\n\n            order_id: \"\",\n\n            tabList: mallTab,\n            dialogVisible: false,\n            type: \"\",\n        };\n    },\n    computed: {\n        params() {\n            const _params = {\n                pageIndex: this.pageIndex,\n                pageSize: this.pageSize,\n            };\n            return _params;\n        },\n        params_pageIndex() {\n            return this.$route.params.pageIndex;\n        },\n        title() {\n            const data = {\n                comment: \"商品评价\",\n                append: \"追加评价\",\n            };\n            return data[this.type] || \"\";\n        },\n    },\n    watch: {\n        params: {\n            deep: true,\n            handler: function () {\n                this.load();\n            },\n        },\n        params_pageIndex: {\n            immediate: true,\n            handler: function (val) {\n                if (val) this.pageIndex = val;\n            },\n        },\n    },\n    methods: {\n        load() {\n            getOrder(this.params).then((res) => {\n                this.list = res.data.data.list;\n                this.total = res.data.data.page.total;\n            });\n        },\n        // 显示支付按钮\n        showPay({ order_status, pay_status }) {\n            if (order_status == 1 || order_status == 2 || order_status == 7) return false;\n            return pay_status == 0 ? true : false;\n        },\n        // 查看详情\n        showDetail({ order }) {\n            this.$router.push({\n                name: \"order-detail\",\n                params: {\n                    id: order.id,\n                    pageIndex: this.pageIndex,\n                },\n            });\n        },\n        // 关闭订单\n        cancel(id) {\n            closeOrder(id).then(() => {\n                this.$message({\n                    message: \"关闭订单成功\",\n                    type: \"success\",\n                });\n                this.list = this.list.map((item) => {\n                    if (item.order.id == id) item.order.order_status = 1;\n                    return item;\n                });\n            });\n        },\n        // 付款\n        toPay(row) {\n            const id = row.order.id;\n            toPay(id).then(() => {\n                this.$message({\n                    message: \"付款成功\",\n                    type: \"success\",\n                });\n                this.list = this.list.map((item) => {\n                    if (item.order.id == id) item.order.pay_status = 1;\n                    return item;\n                });\n            });\n        },\n        // 确认收货\n        isReceipt(id) {\n            toConfirm(id).then(() => {\n                this.$message({\n                    message: \"收货成功\",\n                    type: \"success\",\n                });\n                this.list = this.list.map((item) => {\n                    if (item.order.id == id) item.order.order_status = 4;\n                    return item;\n                });\n            });\n        },\n        handleShow(type, id) {\n            this.type = type;\n            this.order_id = id;\n            this.dialogVisible = true;\n        },\n        handleClose(id) {\n            this.dialogVisible = false;\n            this.order_id = \"\";\n            this.type = \"\";\n            if (id) {\n                this.list = this.list.map((item) => {\n                    if (item.order.id == id) item.order.order_status = 5;\n                    return item;\n                });\n            }\n        },\n    },\n    mounted() {\n        this.load();\n    },\n};\n</script>\n<style lang=\"less\" scoped>\n@import \"../assets/css/record.less\";\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./mall.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./mall.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./mall.vue?vue&type=template&id=e8355554&scoped=true\"\nimport script from \"./mall.vue?vue&type=script&lang=js\"\nexport * from \"./mall.vue?vue&type=script&lang=js\"\nimport style0 from \"./mall.vue?vue&type=style&index=0&id=e8355554&prod&lang=less&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e8355554\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./comment.vue?vue&type=style&index=0&id=5efb880c&prod&lang=less\""],"sourceRoot":""}