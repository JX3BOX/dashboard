(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-47693024"],{1148:function(t,a,e){"use strict";var i=e("a691"),r=e("577e"),s=e("1d80");t.exports=function(t){var a=r(s(this)),e="",n=i(t);if(n<0||n==1/0)throw RangeError("Wrong number of repetitions");for(;n>0;(n>>>=1)&&(a+=a))1&n&&(e+=a);return e}},"1e4b":function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"m-dashboard m-dashboard-index"},[e("div",{staticClass:"m-basicinfo"},[e("i",{staticClass:"u-avatar"},[e("img",{staticClass:"u-avatar-pic",class:{isCircle:t.isCircle},attrs:{src:t._f("showAvatar")(t.info.user_avatar)}}),t.frameName?e("i",{staticClass:"u-avatar-frame"},[e("img",{attrs:{src:t.frameUrl}})]):t._e()]),e("div",{staticClass:"u-info"},[e("h1",{staticClass:"u-name"},[e("span",{staticClass:"u-name-txt"},[t._v(t._s(t.info.display_name))]),e("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"修改昵称",placement:"top"}},[e("a",{staticClass:"u-edit-name",attrs:{href:"/vip/rename?from=dashboard_index"}},[e("i",{staticClass:"el-icon-edit-outline"})])]),e("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"购买/续费会员服务",placement:"top"}},[e("span",{staticClass:"u-vip"},[t.isVIP||t.isPRO?[e("a",{staticClass:"i-icon-vip",class:{on:t.isVIP||t.isPRO},attrs:{href:"/vip/premium?from=dashboard_index",target:"_blank"}},[t._v(t._s(t.vipType))]),t.expire_date?e("span",{staticClass:"u-expire"},[t._v("(有效期至:"+t._s(t.expire_date)+")")]):t._e()]:e("a",{staticClass:"u-upgrade",attrs:{href:"/vip/premium?from=dashboard_index",target:"_blank"}},[t._v("升级账号类型")])],2)])],1),e("div",{staticClass:"u-identity"},[e("span",{staticClass:"u-uid"},[e("em",[t._v("UID")]),e("b",[t._v(t._s(t.uid))])]),t.isSuperAuthor?e("span",{staticClass:"u-superauth",attrs:{title:"签约作者"}},[e("img",{attrs:{src:t.super_author_icon,alt:"superAuthor"}})]):t._e(),e("span",{staticClass:"u-group"},[e("em",[t._v("Group")]),e("b",[t._v(t._s(t._f("showGroupName")(t.group)))])])]),t.medals&&t.medals.length?e("div",{staticClass:"u-medals"},t._l(t.medals,(function(a,i){return e("span",{key:i,staticClass:"u-medal"},[e("img",{attrs:{src:t._f("showTeamMedal")(a.medal),title:t.medal_map[a.medal]}})])})),0):t._e()])]),e("div",{staticClass:"m-credit"},[e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{span:6}},[e("div",{staticClass:"u-dot"},[e("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"积分可用于兑换限量纪念品、激活码等，通过发布作品或参与站内活动获取",placement:"top"}},[e("div",{staticClass:"u-credit-name"},[e("i",{staticClass:"el-icon-sugar"}),t._v(" 积分 ")])]),e("div",{staticClass:"u-credit-value"},[e("b",[t._v(t._s(t.asset.points))])]),e("div",{staticClass:"u-credit-op"},[e("a",{staticClass:"el-button el-button--primary el-button--mini is-disabled",attrs:{href:""}},[t._v("兑换")])])],1)]),e("el-col",{attrs:{span:6}},[e("div",{staticClass:"u-coin"},[e("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"1盒币可用于兑换1通宝，通过评审团/用户打赏获取",placement:"top"}},[e("div",{staticClass:"u-credit-name"},[e("i",{staticClass:"el-icon-coin"}),t._v(" 盒币 ")])]),e("div",{staticClass:"u-credit-value"},[e("b",[t._v(t._s(t.asset.box_coin))])]),e("div",{staticClass:"u-credit-op"},[e("a",{staticClass:"el-button el-button--primary el-button--mini",attrs:{href:"/vip/boxcoin",target:"_blank"}},[t._v("充值")]),e("router-link",{staticClass:"el-button el-button--primary el-button--mini",attrs:{to:"/boxcoin"}},[t._v("兑换")])],1)],1)]),e("el-col",{attrs:{span:6}},[e("div",{staticClass:"u-packet"},[e("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"红包可直接提现至支付宝/微信钱包，通过特殊活动抽奖获取",placement:"top"}},[e("div",{staticClass:"u-credit-name"},[e("i",{staticClass:"el-icon-wallet"}),t._v(" 红包 ")])]),e("div",{staticClass:"u-credit-value"},[e("b",[t._v(t._s(t._f("formatCredit")(t.asset.red_packet)))])]),e("div",{staticClass:"u-credit-op"},[e("router-link",{staticClass:"el-button el-button--primary el-button--mini",attrs:{to:"/packet"}},[t._v("提现")])],1)],1)]),e("el-col",{attrs:{span:6}},[e("div",{staticClass:"u-gift"},[e("div",{staticClass:"u-credit-name"},[e("i",{staticClass:"el-icon-present"}),t._v(" 订单 ")]),e("div",{staticClass:"u-credit-value"},[e("b",[t._v(t._s(t.asset.gift||0))])]),e("div",{staticClass:"u-credit-op"},[e("router-link",{staticClass:"el-button el-button--primary el-button--mini",attrs:{to:"/order"}},[t._v("查看")])],1)])])],1)],1)])},r=[],s=(e("99af"),e("b680"),e("65c2")),n=e("c9d2"),o=e("85e4"),u=e("41cb");function c(t){return Object(u["e"])().get("/api/user/"+t+"/medals")}function l(t){return Object(u["b"])().get("/api/cms/user/".concat(t,"/info"))}var f=e("8a7f"),d=e("46e8"),m=e("b4ff"),p=e("e4f1"),h=e("1645"),_={name:"index",props:[],data:function(){return{uid:n["a"].getInfo().uid,group:n["a"].getInfo().group,info:{uid:8,name:"匿名",user_avatar:"https://img.jx3box.com/image/common/avatar.png",user_avatar_frame:"default",bio:"-"},asset:{expire_date:"2022-03-07T00:00:00+08:00",total_day:395,was_vip:0,pro_expire_date:"2022-03-07T00:00:00+08:00",pro_total_day:366,was_pro:0,box_coin:0,red_packet:0,points:0,gift:0},medals:[],medal_map:m["a"],frames:h,isSuperAuthor:!1}},computed:{isVIP:function(){return n["a"]._isVIP(this.asset)||!1},isPRO:function(){return n["a"]._isPRO(this.asset)||!1},vipType:function(){return this.isPRO?"PRO":"PRE"},expire_date:function(){return this.isPRO?Object(p["a"])(this.asset.pro_expire_date):this.isVIP?Object(p["a"])(this.asset.expire_date):""},frameName:function(){return this.info&&this.info.user_avatar_frame&&this.frames[this.info.user_avatar_frame]?this.info.user_avatar_frame:""},frameUrl:function(){if(this.frameName){var t=this.frames[this.frameName].files.m.file;return s["__imgPath"]+"image/avatar/".concat(this.frameName,"/").concat(t)}return""},isCircle:function(){return this.frameName&&"circle"==this.frames[this.frameName].style},super_author_icon:function(){return s["__imgPath"]+"image/user/superauthor.svg"}},methods:{loadUserInfo:function(){var t=this;l(this.uid).then((function(a){a.data.data&&(t.info=a.data.data)}))},loadAsset:function(){var t=this;n["a"].getAsset().then((function(a){t.asset=a}))},loadMedals:function(){var t=this;this.uid&&c(this.uid).then((function(a){t.medals=a.data.data||[]}))},loadFrames:function(){var t=this;Object(d["d"])().then((function(a){a.data&&(t.frames=a.data||[])}))},checkSuperAuthor:function(){var t=this;Object(f["c"])(this.uid).then((function(a){t.isSuperAuthor=a.data.data}))},init:function(){this.loadUserInfo(),this.loadAsset(),this.loadMedals(),this.loadFrames(),this.checkSuperAuthor()}},filters:{groupicon:function(t){return s["__imgPath"]+"image/group/"+t+".svg"},showGroupName:function(t){return t?s["__userGroup"][t]:"游客"},formatCredit:function(t){return t?(t/100).toFixed(2):"0.00"},showTeamMedal:function(t){return s["__imgPath"]+"image/medals/team/"+t+"-20.gif"},showAvatar:function(t){return t&&Object(o["getThumbnail"])(t,120,!0)||Object(o["getThumbnail"])(s["default_avatar"],120,!0)}},mounted:function(){this.init()}},v=_,b=(e("3e0c"),e("2877")),g=Object(b["a"])(v,i,r,!1,null,null,null);a["default"]=g.exports},"3e0c":function(t,a,e){"use strict";e("9fd6")},"408a":function(t,a,e){var i=e("c6b6");t.exports=function(t){if("number"!=typeof t&&"Number"!=i(t))throw TypeError("Incorrect invocation");return+t}},"46e8":function(t,a,e){"use strict";e.d(a,"l",(function(){return o})),e.d(a,"e",(function(){return n})),e.d(a,"j",(function(){return u})),e.d(a,"k",(function(){return d})),e.d(a,"h",(function(){return _})),e.d(a,"a",(function(){return p})),e.d(a,"b",(function(){return m})),e.d(a,"g",(function(){return h})),e.d(a,"i",(function(){return b})),e.d(a,"c",(function(){return v})),e.d(a,"m",(function(){return c})),e.d(a,"d",(function(){return l})),e.d(a,"f",(function(){return f}));var i=e("2777"),r=e("41cb"),s=e("65c2");function n(){return Object(r["b"])().get("/api/cms/user/my/profile")}function o(t){return Object(r["b"])().put("/api/cms/user/my/profile",t)}function u(t){return Object(r["b"])().put("/api/cms/user/my/avatar",t)}function c(t){return Object(r["b"])().post("/api/cms/upload/avatar",t)}function l(){return i["c"].get(s["__imgPath"]+"data/user_avatar_frame.json")}function f(t){return Object(r["b"])().get("/api/cms/user/".concat(t,"/info"))}function d(t){return i["b"].post("profile/password",t)}function m(){return i["b"].get("profile/email/check")}function p(t){return i["b"].get("profile/email/available",{params:{user_email:t}})}function h(t){return i["b"].post("profile/email/bind",t)}function _(){return i["b"].post("profile/email/verify")}function v(){return i["b"].get("profile/oauth/check")}function b(t){return i["b"].post("profile/oauth/unbind",t)}},"8a7f":function(t,a,e){"use strict";e.d(a,"a",(function(){return r})),e.d(a,"c",(function(){return n})),e.d(a,"b",(function(){return s}));var i=e("41cb");function r(t){return Object(i["c"])().post("/api/contract_author/log",t)}function s(){return Object(i["c"])().get("/api/my/contract_author/logs")}function n(t){return Object(i["b"])().get("/api/cms/user/is_super_author/"+t)}},"9fd6":function(t,a,e){},b680:function(t,a,e){"use strict";var i=e("23e7"),r=e("a691"),s=e("408a"),n=e("1148"),o=e("d039"),u=1..toFixed,c=Math.floor,l=function(t,a,e){return 0===a?e:a%2===1?l(t,a-1,e*t):l(t*t,a/2,e)},f=function(t){var a=0,e=t;while(e>=4096)a+=12,e/=4096;while(e>=2)a+=1,e/=2;return a},d=function(t,a,e){var i=-1,r=e;while(++i<6)r+=a*t[i],t[i]=r%1e7,r=c(r/1e7)},m=function(t,a){var e=6,i=0;while(--e>=0)i+=t[e],t[e]=c(i/a),i=i%a*1e7},p=function(t){var a=6,e="";while(--a>=0)if(""!==e||0===a||0!==t[a]){var i=String(t[a]);e=""===e?i:e+n.call("0",7-i.length)+i}return e},h=u&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!o((function(){u.call({})}));i({target:"Number",proto:!0,forced:h},{toFixed:function(t){var a,e,i,o,u=s(this),c=r(t),h=[0,0,0,0,0,0],_="",v="0";if(c<0||c>20)throw RangeError("Incorrect fraction digits");if(u!=u)return"NaN";if(u<=-1e21||u>=1e21)return String(u);if(u<0&&(_="-",u=-u),u>1e-21)if(a=f(u*l(2,69,1))-69,e=a<0?u*l(2,-a,1):u/l(2,a,1),e*=4503599627370496,a=52-a,a>0){d(h,0,e),i=c;while(i>=7)d(h,1e7,0),i-=7;d(h,l(10,i,1),0),i=a-1;while(i>=23)m(h,1<<23),i-=23;m(h,1<<i),d(h,1,1),m(h,2),v=p(h)}else d(h,0,e),d(h,1<<-a,0),v=p(h)+n.call("0",c);return c>0?(o=v.length,v=_+(o<=c?"0."+n.call("0",c-o)+v:v.slice(0,o-c)+"."+v.slice(o-c))):v=_+v,v}})}}]);
//# sourceMappingURL=chunk-47693024.d50882cd.js.map