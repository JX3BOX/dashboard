(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f95b0aaa"],{"0cb2":function(t,e,n){var i=n("7b0b"),s=Math.floor,a="".replace,o=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,c=/\$([$&'`]|\d{1,2})/g;t.exports=function(t,e,n,l,r,u){var d=n+t.length,p=l.length,f=c;return void 0!==r&&(r=i(r),f=o),a.call(u,f,(function(i,a){var o;switch(a.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,n);case"'":return e.slice(d);case"<":o=r[a.slice(1,-1)];break;default:var c=+a;if(0===c)return i;if(c>p){var u=s(c/10);return 0===u?i:u<=p?void 0===l[u-1]?a.charAt(1):l[u-1]+a.charAt(1):i}o=l[c-1]}return void 0===o?"":o}))}},"159b":function(t,e,n){var i=n("da84"),s=n("fdbc"),a=n("17c2"),o=n("9112");for(var c in s){var l=i[c],r=l&&l.prototype;if(r&&r.forEach!==a)try{o(r,"forEach",a)}catch(u){r.forEach=a}}},"17c2":function(t,e,n){"use strict";var i=n("b727").forEach,s=n("a640"),a=s("forEach");t.exports=a?[].forEach:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}},"221a":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"c-editor-tinymce"},[n("div",{staticClass:"c-editor-header"},[t.attachmentEnable?n("Upload",{on:{insert:t.insertAttachments}}):t._e(),t.resourceEnable?n("Resource",{on:{insert:t.insertResource}}):t._e(),t._t("default")],2),n("editor",{staticClass:"c-tinymce",attrs:{id:"tinymce",init:t.init,placeholder:"✔ 图片可右键粘贴或拖拽至编辑器内自动上传 ✔ 支持word/excel内容一键粘贴"},model:{value:t.data,callback:function(e){t.data=e},expression:"data"}}),n("el-alert",{staticClass:"u-tutorial",attrs:{type:"warning","show-icon":""}},[t._v("进入特殊区域（代码块，折叠块等等）脱离或使用工具栏触发后，请使用键盘方向 → ↓ 键进行脱离，回车只是正常在区块内换行。去掉样式点击第二行第一个<清除格式>即可复位。"),n("a",{attrs:{href:"https://www.jx3box.com/tool/?pid=16227#/",target:"_blank"}},[t._v("[编辑器使用指南]")])])],1)},s=[],a=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],o=function(t){return-1!==a.map((function(t){return t.toLowerCase()})).indexOf(t.toLowerCase())},c=function(t,e,n){Object.keys(e).filter(o).forEach((function(i){var s=e[i];"function"===typeof s&&("onInit"===i?s(t,n):n.on(i.substring(2),(function(t){return s(t,n)})))}))},l=function(t,e){var n=t.$props.modelEvents?t.$props.modelEvents:null,i=Array.isArray(n)?n.join(" "):n;e.on(i||"change input undo redo",(function(){t.$emit("input",e.getContent({format:t.$props.outputFormat}))}))},r=function(t,e,n){var i=e.$props.value?e.$props.value:"",s=e.$props.initialValue?e.$props.initialValue:"";n.setContent(i||(e.initialized?e.cache:s)),e.$watch("value",(function(t,i){n&&"string"===typeof t&&t!==i&&t!==n.getContent({format:e.$props.outputFormat})&&n.setContent(t)})),e.$listeners.input&&l(e,n),c(t,e.$listeners,n),e.initialized=!0},u=0,d=function(t){var e=Date.now(),n=Math.floor(1e9*Math.random());return u++,t+"_"+n+u+String(e)},p=function(t){return null!==t&&"textarea"===t.tagName.toLowerCase()},f=function(t){return"undefined"===typeof t||""===t?[]:Array.isArray(t)?t:t.split(" ")},h=function(t,e){return f(t).concat(f(e))},m=function(t){return null===t||void 0===t},g=function(){return{listeners:[],scriptId:d("tiny-script"),scriptLoaded:!1}},v=function(){var t=g(),e=function(t,e,n,i){var s=e.createElement("script");s.referrerPolicy="origin",s.type="application/javascript",s.id=t,s.src=n;var a=function(){s.removeEventListener("load",a),i()};s.addEventListener("load",a),e.head&&e.head.appendChild(s)},n=function(n,i,s){t.scriptLoaded?s():(t.listeners.push(s),n.getElementById(t.scriptId)||e(t.scriptId,n,i,(function(){t.listeners.forEach((function(t){return t()})),t.scriptLoaded=!0})))},i=function(){t=g()};return{load:n,reinitialize:i}},b=v(),_=n("c4a9"),C={apiKey:String,cloudChannel:String,id:String,init:Object,initialValue:String,inline:Boolean,modelEvents:[String,Array],plugins:[String,Array],tagName:String,toolbar:[String,Array],value:String,disabled:Boolean,tinymceScriptSrc:String,outputFormat:{type:String,validator:function(t){return"html"===t||"text"===t}}},y=function(){return y=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var s in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t},y.apply(this,arguments)},w=function(t,e,n){return t(n||"div",{attrs:{id:e}})},x=function(t,e){return t("textarea",{attrs:{id:e},style:{visibility:"hidden"}})},k=function(t){return function(){var e=y(y({},t.$props.init),{readonly:t.$props.disabled,selector:"#"+t.elementId,plugins:h(t.$props.init&&t.$props.init.plugins,t.$props.plugins),toolbar:t.$props.toolbar||t.$props.init&&t.$props.init.toolbar,inline:t.inlineEditor,setup:function(e){t.editor=e,e.on("init",(function(n){return r(n,t,e)})),t.$props.init&&"function"===typeof t.$props.init.setup&&t.$props.init.setup(e)}});p(t.element)&&(t.element.style.visibility="",t.element.style.display=""),Object(_["a"])().init(e)}},I={props:C,created:function(){this.elementId=this.$props.id||d("tiny-vue"),this.inlineEditor=this.$props.init&&this.$props.init.inline||this.$props.inline,this.initialized=!1},watch:{disabled:function(){this.editor.setMode(this.disabled?"readonly":"design")}},mounted:function(){if(this.element=this.$el,null!==Object(_["a"])())k(this)();else if(this.element&&this.element.ownerDocument){var t=this.$props.cloudChannel?this.$props.cloudChannel:"5",e=this.$props.apiKey?this.$props.apiKey:"no-api-key",n=m(this.$props.tinymceScriptSrc)?"https://cdn.tiny.cloud/1/"+e+"/tinymce/"+t+"/tinymce.min.js":this.$props.tinymceScriptSrc;b.load(this.element.ownerDocument,n,k(this))}},beforeDestroy:function(){null!==Object(_["a"])()&&Object(_["a"])().remove(this.editor)},deactivated:function(){var t;this.inlineEditor||(this.cache=this.editor.getContent(),null===(t=Object(_["a"])())||void 0===t||t.remove(this.editor))},activated:function(){!this.inlineEditor&&this.initialized&&k(this)()},render:function(t){return this.inlineEditor?w(t,this.elementId,this.$props.tagName):x(t,this.elementId)}},S=I,$=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"c-upload"},[n("el-button",{attrs:{type:"primary",icon:"el-icon-upload"},on:{click:function(e){t.dialogVisible=!0}}},[t._v("上传附件")]),n("el-dialog",{staticClass:"c-large-dialog",attrs:{title:"上传",visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}},[n("el-button",{staticClass:"u-upload-clear",attrs:{plain:"",icon:"el-icon-delete",size:"mini"},on:{click:t.clear}},[t._v("清空")]),n("el-alert",{staticClass:"u-upload-tip",attrs:{title:t.tip,type:"info","show-icon":"",closable:!1}}),n("el-upload",{ref:"uploadbox",attrs:{action:t.API,"list-type":"picture-card","auto-upload":!1,limit:10,multiple:"","with-credentials":"","file-list":t.fileList,"on-change":t.change},scopedSlots:t._u([{key:"file",fn:function(e){var i=e.file;return n("div",{staticClass:"u-file-wrapper",class:{isSelected:i.selected,disabled:"success"!=i.status},on:{click:function(e){return t.select(i)}}},[i.is_img?n("img",{staticClass:"el-upload-list__item-thumbnail u-imgbox",attrs:{src:i.url,alt:""}}):n("div",{staticClass:"u-filebox"},[n("svg",{class:"u-fileplaceholder",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 469.333 469.333","svg-inline":"",role:"presentation",focusable:"false",tabindex:"-1"}},[n("path",{attrs:{d:"M466.208 88.458L380.875 3.125c-2-2-4.708-3.125-7.542-3.125H42.667C19.146 0 0 19.135 0 42.667v384c0 23.531 19.146 42.667 42.667 42.667h384c23.521 0 42.667-19.135 42.667-42.667V96a10.665 10.665 0 00-3.126-7.542zM106.667 21.333h234.667v128c0 11.76-9.563 21.333-21.333 21.333H128c-11.771 0-21.333-9.573-21.333-21.333v-128zM384 448H85.333V256H384v192zm64-21.333c0 11.76-9.563 21.333-21.333 21.333h-21.333V245.333a10.66 10.66 0 00-10.667-10.667h-320A10.66 10.66 0 0064 245.333V448H42.667c-11.771 0-21.333-9.573-21.333-21.333v-384c0-11.76 9.563-21.333 21.333-21.333h42.667v128C85.333 172.865 104.479 192 128 192h192c23.521 0 42.667-19.135 42.667-42.667v-128h6.25L448 100.417v326.25z"}}),n("path",{attrs:{d:"M266.667 149.333h42.667a10.66 10.66 0 0010.667-10.667V53.333a10.66 10.66 0 00-10.667-10.667h-42.667A10.66 10.66 0 00256 53.333v85.333a10.66 10.66 0 0010.667 10.667zM277.333 64h21.333v64h-21.333V64z"}})]),n("span",{staticClass:"u-filename"},[t._v(t._s(i.name))])]),n("label",{directives:[{name:"show",rawName:"v-show",value:i.selected,expression:"file.selected"}],staticClass:"u-file-select-label"},[n("i",{staticClass:"el-icon-upload-success el-icon-check"})])])}}])},[n("i",{staticClass:"el-icon-plus",attrs:{slot:"default"},slot:"default"})]),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:t.insert}},[t._v(t._s(t.buttonTXT))])],1)],1)],1)},E=[],F=(n("1276"),n("ac1f"),n("b0c0"),n("caad"),n("99af"),n("159b"),n("a15b"),n("a434"),n("9ec4")),D=n.n(F),M=n("65c2"),z=(n("c5d8"),M["__server"]+"upload"),L=["jpg","png","gif","bmp","webp"],j={name:"Upload",data:function(){return{API:z,dialogVisible:!1,tip:"一次最多同时上传10个文件（不超过5M），格式限常见的图片、文档、数据表及压缩包",fileList:[],selectedCount:0,insertList:""}},watch:{fileList:{deep:!0,handler:function(t){this.$emit("update",t)}},insertList:function(t){this.$emit("htmlUpdate",t)}},computed:{buttonTXT:function(){return this.selectedCount?"插 入":"确 定"}},methods:{change:function(t,e){var n=this;if("success"!=t.status){var i=new FormData;i.append("file",t.raw),D.a.post(z,i,{headers:{"Content-Type":"multipart/form-data"},withCredentials:!0}).then((function(e){n.$message({message:"上传成功",type:"success"}),t.url=e.data.data.list[0];var i=t.name.split(".").pop(),s=L.includes(i);t.is_img=s,t.selected=!0,t.status="success",n.fileList.push(t),n.selectedCount++})).catch((function(t){t.response.data.code?n.$message.error("[".concat(t.response.data.code,"] ").concat(t.response.data.msg)):n.$message.error("请求异常")}))}},select:function(t){"success"==t.status&&(this.$set(t,"selected",!t.selected),t.selected?this.selectedCount++:this.selectedCount--)},buildHTML:function(){var t=[];return this.fileList.forEach((function(e){e.selected&&(e.is_img?t.push('<img src="'.concat(e.url,'" />')):t.push('<a target="_blank" href="'.concat(e.url,'">').concat(e.name,"</a>")))})),this.insertList=t.join(" \n"),this.insertList},insert:function(){this.dialogVisible=!1,this.selectedCount&&(this.$emit("insert",{list:this.fileList,html:this.buildHTML()}),this.resetSelectStatus())},resetSelectStatus:function(){var t=this;this.fileList.forEach((function(e,n){t.$set(t.fileList[n],"selected",!1)})),this.selectedCount=0},clear:function(){this.$refs.uploadbox.clearFiles(),this.fileList=[]},removeFile:function(t,e){t.forEach((function(n,i){n.uid==e&&t.splice(i,1)}))}},mounted:function(){},components:{}},P=j,A=(n("df4f"),n("2877")),N=Object(A["a"])(P,$,E,!1,null,null,null),O=N.exports,U=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"c-resource"},[n("el-button",{staticClass:"u-switch",attrs:{type:"primary"},on:{click:function(e){t.dialogVisible=!0}}},[n("svg",{class:"u-icon",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100","svg-inline":"",role:"presentation",focusable:"false",tabindex:"-1"}},[n("path",{attrs:{d:"M14.4 92.2c.4-8.2.6-11.8 4.3-16.9 3.7 3.9 7.7 7.1 12.4 9.1 1 .4 2.1.8 3.1 1.2-6.8 6-10.1 6.1-19.8 6.6zm37-55.1c-1.2.8-2.3 1.7-3.3 2.7-1.6 1.7-2.9 3.6-3.6 5.5L49 41c.8-.9 1.9-2.7 2.4-3.9zm10.4-9.7c-1.8.3-3.3.7-4.6 1.2 1.4.4 2.7.8 4.6 1.4v-2.6zM72 22.6l1.3.5 1-1c-1.4-.7-2.9-1.3-4.5-1.8l2.2 2.3zm-5-3c-2.5-.6-5.1-1-7.9-1.2 1.7-1.3 5.4-2 7.9-2.6-4.2-1.7-11.5-1.9-17.5 0-.3 1-1 2.6-1.8 3.3-1.1 1-2.1 1.8-2.9 2.6 6.8-3 14-3.2 21.1-1.2l1.1-.9zm-46.9-.4c.8 5.3-1.3 13.8-1.7 14.9-.4 1.1-1 2.3-2.7 6.8-1.8 4.5-1.6 13-.4 15.7-2.9-2-6.5-3.2-9.9-2 5.8 2.9 9 9.4 12.8 14.4C27 80.5 37.8 85.8 51.7 82c6.9-1.9 16.8-15.2 10.9-20.3-10.3 5.8-21.2-1.5-21.7-12.7-.3-8.2 8.6-16.4 17.2-17.5-3.5-1.1-4.7-1.6-9.2-.9 4.1-3 7.1-5.3 14.1-6 .4-.8 1.1-1.3 1.8-1.9-8.7-2.3-21.4-2-32.5 12.7 3.3-7.3 5.7-10.2 13.9-18.2 2.2-2.1 1.7-5.2 1.5-7.4-2.3 3.8-6.5 5.9-12.3 8.4-4.4 1.9-8.3 5.1-11.2 9.2-.8-3.2-1.6-6-4.1-8.2zM61.7 79c1-.4 2.1-.9 3.1-1.4-2.9 4.7-10 10-22.7 11.7 13.6 3.6 26.6 1.5 34.8-6.9-.7 1.2-1.3 2.4-2.1 3.5C84.8 80 97.9 63 88.5 46.5c1.6 1.3 2.9 2.8 4 5 .1-7.8-2.3-14.9-6.8-20.5l-2.6 2.7 4.9 4.8-3.6 4.4c-1.8 2.2-3 2.2-5.2 2.2h-3.1c-.1 1-.5 2-1.3 2.7v2.3c0 2.2-1.3 4.3-3.4 4.9-2.6.8-4.7 2.3-6.6 4.3 1.3 1.1 2.1 2.5 2.6 4.1.7 2.6.3 5.4-.9 8.2-1.1 2.7-2.9 5.2-4.8 7.4zM44.4 49.5l6.6-6.3c1.3-1.3 3.3-4.5 4-6.9.2-.5.8-1 1.7-1l4.3-.1.2-.8c.1-.4.3-.5.7-.5h2.8c.1 0 .3-.1.3-.3v-6.2c0-1.2 0-1.8.9-2.6l2-1.6 5 5.1 12.7-12.5.8-3.1c.3-1.2 1.2-1.2 2.1-.4l3 2.6 2.6 3c.8.9.9 1.8-.4 2.1l-3 1-12.5 12.7 5.1 5-1.6 2c-.8 1-1.4.9-2.6.9h-6.2c-.1 0-.3.1-.3.3v2.8c0 .4-.1.5-.5.7l-.8.2V50c0 .9-.5 1.6-1 1.7-2.4.7-5.6 2.7-6.9 4L60 59.2c-3.9 2-7.9 1.7-11.5-1.5-2-1.8-3.5-4.4-4-7.2 0-.3-.1-.7-.1-1z",fill:"#24292e"}})]),t._v("剑三资源")]),n("el-dialog",{staticClass:"c-large-dialog",attrs:{title:"剑三数据库",visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}},[n("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"c-resource-content"},[n("div",{staticClass:"m-database-search"},[n("el-input",{attrs:{placeholder:"请输入 ID 或 名称"},on:{change:t.search},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.search(e)}},model:{value:t.query,callback:function(e){t.query=e},expression:"query"}},[n("template",{slot:"prepend"},[t._v("ID ／名称")]),t.isPC?n("template",{slot:"append"},[n("el-switch",{attrs:{"active-text":"精确匹配"},on:{change:t.search},model:{value:t.strict,callback:function(e){t.strict=e},expression:"strict"}})],1):t._e()],2)],1),n("el-tabs",{staticClass:"m-database-tabs",attrs:{type:"card"},on:{"tab-click":t.changeType},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}},[n("el-tab-pane",{attrs:{label:"技能",name:"skill"}},[n("span",{attrs:{slot:"label"},slot:"label"},[n("svg",{class:"u-icon",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"467.374",height:"467.374",viewBox:"0 0 467.374 467.374","svg-inline":"",role:"presentation",focusable:"false",tabindex:"-1"}},[n("path",{attrs:{d:"M459.657 82.222c0-5.136-1.704-9.419-5.133-12.843l-56.531-56.531c-3.425-3.427-7.706-5.14-12.847-5.14-5.144 0-9.421 1.713-12.847 5.14L5.14 380.005C1.709 383.434 0 387.719 0 392.858c0 5.141 1.709 9.418 5.14 12.847l56.529 56.527c3.431 3.429 7.708 5.141 12.85 5.141 5.137 0 9.419-1.704 12.847-5.141l367.162-367.16c3.425-3.43 5.129-7.708 5.129-12.85zm-127.619 83.655l-30.546-30.55 83.651-83.654 30.546 30.549-83.651 83.655zM65.384 73.087l8.564-27.978 27.977-8.564-27.977-8.566L65.384.001l-8.566 27.978-27.978 8.566 27.978 8.564zM139.61 108.494l17.133 55.961 17.133-55.961 55.959-17.133-55.959-17.131-17.133-55.961L139.61 74.23 83.651 91.361zM439.392 210.7l-8.563-27.977-8.562 27.977-27.98 8.565 27.98 8.565 8.562 27.975 8.563-27.975 27.982-8.565zM248.106 73.087l8.566-27.978 27.976-8.564-27.976-8.566L248.106.001l-8.562 27.978-27.98 8.566 27.98 8.564z"}})]),n("b",[t._v("技能")]),n("em",{staticClass:"u-count"},[t._v(t._s(t.stat.skill))])]),t.skill.length&&t.done?n("p",{staticClass:"m-resource-count"},[n("i",{staticClass:"el-icon-s-data"}),t._v(" 共找到 "),n("b",[t._v(t._s(t.skill.length))]),t._v(" 条记录 ")]):t._e(),n("ul",{staticClass:"m-resource-list"},t._l(t.skill,(function(e,i){return n("li",{key:i,ref:"skill",refInFor:!0,staticClass:"u-item",class:{on:!!e.isSelected},on:{click:function(n){return t.selectCommon("skill",e,i)}}},[n("span",{staticClass:"u-id"},[t._v("ID:"+t._s(e.SkillID))]),n("img",{staticClass:"u-pic",attrs:{title:"IconID:"+e.IconID,src:t._f("iconURL")(e.IconID)}}),n("span",{staticClass:"u-primary"},[n("span",{staticClass:"u-name"},[t._v(t._s(e.Name)+" "),e.SkillName?n("em",[t._v("("+t._s(e.SkillName)+")")]):t._e()]),n("span",{staticClass:"u-content"},[t._v(t._s(t._f("filterRaw")(e.Desc)))])])])})),0),!t.skill.length&&t.done?n("el-alert",{attrs:{title:"没有找到相关条目",type:"info","show-icon":""}}):t._e()],1),n("el-tab-pane",{attrs:{label:"Buff",name:"buff"}},[n("span",{attrs:{slot:"label"},slot:"label"},[n("svg",{class:"u-icon",attrs:{height:"640",viewBox:"0 0 480 480.01",width:"640",xmlns:"http://www.w3.org/2000/svg","svg-inline":"",role:"presentation",focusable:"false",tabindex:"-1"}},[n("path",{attrs:{d:"M400.117 353.61l13.977 38.687a23.992 23.992 0 01-1.559 19.707 24 24 0 01-15.82 11.855 701.88 701.88 0 01-156.711 16.149 704.609 704.609 0 01-157.32-16.278 23.721 23.721 0 01-15.438-11.656 24.36 24.36 0 01-1.539-19.832l13.496-38.496c-46.992 12.16-79.2 30.39-79.2 54.262 0 46.8 123.68 72 240 72 116.321 0 240-25.2 240-72 0-24-32.534-42.285-79.886-54.399zm0 0"}}),n("path",{attrs:{d:"M86.406 408.168a687.757 687.757 0 00153.598 15.84c51.555.504 103-4.809 153.36-15.84a7.992 7.992 0 005.679-10.477l-10.293-28.503a704.722 704.722 0 01-148.746 14.82 703.391 703.391 0 01-149.23-14.934L80.726 397.77a8.007 8.007 0 00.476 6.48c1.086 2 2.98 3.43 5.203 3.918zm0 0M383.277 354.035L315.285 165.77a136.138 136.138 0 01-4.664-15.88l-41.703 32.438-9.824-12.637 44.047-34.257-56.192-7.497 2.113-15.855 58.133 7.75c-.015-5.715.332-11.43 1.051-17.102l11.68-93.761a8 8 0 00-4-7.918 7.842 7.842 0 00-8.883.719l-87.68 70.16a151.83 151.83 0 00-48.558 68.48l-74.72 213.473a664.153 664.153 0 00143.919 14.125 665.606 665.606 0 00143.273-13.973zm-172.71-23.945a8.006 8.006 0 01-3.204-7.84l4.082-23.36-17.039-16.562a7.942 7.942 0 01-2-8.16 8.07 8.07 0 016.48-5.52l23.438-3.359 10.48-21.281a8.39 8.39 0 017.2-4.078 8.385 8.385 0 017.2 4.078l10.48 21.281 23.441 3.36a8.076 8.076 0 016.48 5.519 7.958 7.958 0 01-2 8.16l-17.039 16.563 4.079 23.359a8.003 8.003 0 01-3.2 7.84 7.91 7.91 0 01-4.718 1.52 8.959 8.959 0 01-3.762-.88l-20.961-11.039-20.961 11.04a8.283 8.283 0 01-8.477-.641zm0 0"}})]),n("b",[t._v("Buff")]),n("em",{staticClass:"u-count"},[t._v(t._s(t.stat.buff))])]),t.buff.length&&t.done?n("p",{staticClass:"m-resource-count"},[n("i",{staticClass:"el-icon-s-data"}),t._v(" 共找到 "),n("b",[t._v(t._s(t.buff.length))]),t._v(" 条记录 ")]):t._e(),n("ul",{staticClass:"m-resource-list"},t._l(t.buff,(function(e,i){return n("li",{key:i,ref:"buff",refInFor:!0,staticClass:"u-item",class:{on:!!e.isSelected},on:{click:function(n){return t.selectCommon("buff",e,i)}}},[n("span",{staticClass:"u-id"},[t._v("ID:"+t._s(e.BuffID))]),n("img",{staticClass:"u-pic",attrs:{title:"IconID:"+e.IconID,src:t._f("iconURL")(e.IconID)}}),n("span",{staticClass:"u-primary"},[n("span",{staticClass:"u-name"},[t._v(t._s(e.Name)+" "),e.BuffName?n("em",[t._v("("+t._s(e.BuffName)+")")]):t._e()]),n("span",{staticClass:"u-content"},[t._v(t._s(e.Desc))])])])})),0),!t.buff.length&&t.done?n("el-alert",{attrs:{title:"没有找到相关条目",type:"info","show-icon":""}}):t._e()],1),n("el-tab-pane",{attrs:{label:"物品",name:"item"}},[n("span",{attrs:{slot:"label"},slot:"label"},[n("svg",{class:"u-icon",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","svg-inline":"",role:"presentation",focusable:"false",tabindex:"-1"}},[n("path",{attrs:{d:"M447.988 139.696A4 4 0 00444 136h-72v-20C372 52.036 319.96 0 256 0S140 52.036 140 116v20H68a4 4 0 00-3.988 3.696l-28 368a3.988 3.988 0 001.056 3.02A3.988 3.988 0 0040 512h432a4 4 0 003.988-4.3l-28-368.004zM172 116c0-46.316 37.68-84 84-84s84 37.684 84 84v20H172v-20zm-16 132c-22.06 0-40-17.944-40-40 0-15.964 8-30.348 24-36.66V208c0 8.824 7.18 16 16 16s16-7.176 16-16v-36.636c16 6.312 24 20.804 24 36.636 0 22.056-17.94 40-40 40zm200 0c-22.06 0-40-17.944-40-40 0-15.964 8-30.348 24-36.66V208c0 8.824 7.18 16 16 16s16-7.176 16-16v-36.636c16 6.312 24 20.804 24 36.636 0 22.056-17.94 40-40 40z"}})]),n("b",[t._v("物品")]),n("em",{staticClass:"u-count"},[t._v(t._s(t.stat.item))])]),t.item.length&&t.done?n("p",{staticClass:"m-resource-count"},[n("i",{staticClass:"el-icon-s-data"}),t._v(" 共找到 "),n("b",[t._v(t._s(t.item.length))]),t._v(" 条记录 ")]):t._e(),t.item.length?n("ul",{staticClass:"m-resource-list"},t._l(t.item,(function(e,i){return n("li",{key:i,ref:"item",refInFor:!0,staticClass:"u-item",class:{on:e.isSelected},on:{click:function(n){return t.selectItem(e,i)}}},[n("span",{staticClass:"u-id"},[t._v("UiID:"+t._s(e.UiID))]),n("img",{staticClass:"u-pic",attrs:{title:"IconID:"+e.IconID,src:t._f("iconURL")(e.IconID)}}),n("span",{staticClass:"u-name"},[t._v(t._s(e.Name))]),n("span",{staticClass:"u-content",domProps:{innerHTML:t._s(e.DescHtml)}}),n("span",{staticClass:"u-remark"},[t._v(t._s(e.Requirement))])])})),0):t._e(),!t.item.length&&t.done?n("el-alert",{attrs:{title:"没有找到相关条目",type:"info","show-icon":""}}):t._e()],1),n("el-tab-pane",{attrs:{label:"图标",name:"icon"}},[n("span",{attrs:{slot:"label"},slot:"label"},[n("svg",{class:"u-icon",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 54.4 54.4","svg-inline":"",role:"presentation",focusable:"false",tabindex:"-1"}},[n("path",{attrs:{d:"M4.9 21l19.6 24.4L15.6 21zM17.4 21l9.5 26 9.7-26zM29 46l20.2-25H38.3zM41.5 7.8H28.7l8.8 10.8zM36 19.3l-9-11-9 11zM25.3 7.8H12.5l4 10.8zM11.2 8.9L4.6 19.3H15zM49.4 19.3L42.8 8.8l-3.9 10.5z"}})]),n("b",[t._v("图标")]),n("em",{staticClass:"u-count"},[t._v(t._s(t.stat.icon))])]),t.icon.length&&t.done?n("p",{staticClass:"m-resource-count"},[n("i",{staticClass:"el-icon-s-data"}),t._v(" 共找到 "),n("b",[t._v(t._s(t.icon.length))]),t._v(" 条记录 ")]):t._e(),n("ul",{staticClass:"m-resource-iconlist"},t._l(t.icon,(function(e,i){return n("li",{key:i,ref:"icon",refInFor:!0,staticClass:"u-item",class:{on:!!e.isSelected},on:{click:function(n){return t.selectIcon(e)}}},[n("img",{staticClass:"e-jx3-icon",attrs:{src:t._f("iconURL")(e.iconID),alt:t.query}})])})),0),!t.icon.length&&t.done?n("el-alert",{attrs:{title:"没有找到相关条目",type:"info","show-icon":""}}):t._e()],1)],1),t.multipage?[n("el-button",{staticClass:"m-archive-more",class:{show:t.hasNextPage},attrs:{type:"primary",icon:"el-icon-arrow-down"},on:{click:t.appendPage}},[t._v("加载更多")]),n("el-pagination",{staticClass:"m-archive-pages",attrs:{background:"",layout:"total, prev, pager, next,jumper","hide-on-single-page":!0,"page-size":t.per,total:t.total,"current-page":t.page},on:{"update:currentPage":function(e){t.page=e},"update:current-page":function(e){t.page=e},"current-change":t.changePage}})]:t._e(),n("div",{directives:[{name:"show",rawName:"v-show",value:t.isBlank,expression:"isBlank"}],staticClass:"m-database-tip"},[t._v(" ❤ 请输入搜索条件查询 ")])],2),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:t.insert}},[t._v(t._s(t.buttonTXT))])],1)])],1)},B=[];n("d3b7"),n("5319");const V=M["__node"];function R(t,e,n){switch(t){case"item":return D.a.get(M["__helperUrl"]+"api/item/search",{params:{keyword:e,page:n.page,limit:n.per}},{headers:{Accept:"application/prs.helper.v2+json"},withCredentials:!0}).then(t=>{let e=t.data;return 200===e.code?e.data:null}).catch(t=>{console.log(t)});default:let i=isNaN(e)?"name":"id";return D.a.get(V+`${t}/${i}/${e}`,{params:n}).then(t=>t.data).catch(t=>{console.log(t)})}}function T(){return D.a.get(M["__node"]).then(t=>t.data).catch(t=>{console.log(t)})}function q(t,e){return D.a.get(M["__node"]+"icon/name/"+t,{params:e}).then(t=>{let e=t.data,n=[...e.skill,...e.buff,...e.item],i=new Set;n.forEach(t=>{i.add(t.iconID)});let s=[];return i.forEach(t=>{s.push({iconID:t,isSelected:!1})}),n=Array.from(s),n}).catch(t=>{console.log(t)})}n("c9d2");var H=n("69e3"),K={name:"Resource",props:[],data:function(){return{dialogVisible:!1,type:"skill",query:"",strict:!1,skill:[],buff:[],item:[],icon:[],stat:{skill:0,buff:0,item:0,npc:0,icon:0},done:!1,loading:!1,isSuper:!1,schools:H["a"],html:"",isPC:!0,per:10,page:1,total:1,pages:1}},computed:{buttonTXT:function(){return this.selectedCount?"插 入":"确 定"},isBlank:function(){return!this.query&&!this[this.type]["length"]},selectedCount:function(){return!!this.html},isNumber:function(){return!isNaN(this.query)},hasNextPage:function(){return this.total>1&&this.page<this.pages},multipage:function(){return"icon"!==this.type&&this.done&&this.pages>1}},watch:{html:function(t){this.$emit("update",t)}},methods:{getData:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.query){this.loading=!0,this.done=!1;var i=this.query,s={strict:~~this.strict,per:this.per,page:e};if("icon"==this.type)if(isNaN(i))q(i,s).then((function(e){t.icon=e})).finally((function(){t.done=!0,t.loading=!1}));else{var a=[{iconID:~~this.query,isSelected:!1}];this.icon=a,this.done=!0,this.loading=!1}else R(this.type,i,s).then((function(e){var i;n||(t[t.type]=[]),"item"==t.type?(i=t.transformData(e.data),t.pages=e.last_page,t.total=e.total):(i=t.transformData(e.list),t.pages=e.pages,t.total=e.total),t[t.type]=t[t.type].concat(i)})).finally((function(){t.done=!0,t.loading=!1}))}},search:function(){this.getData()},appendPage:function(){this.getData(++this.page,!0)},changePage:function(t){this.getData(t)},changeType:function(){this.page=1,this.getData()},insert:function(){this.dialogVisible=!1,this.$emit("insert",this.html)},transformData:function(t){return t.forEach((function(t){t.isSelected=!1})),t},selectCommon:function(t,e,n){this.resetItems(),e.isSelected=!0,this.html='<pre data-type="'.concat(t,'" data-id="').concat(e.id,'" class="e-jx3-resource">').concat(this.$refs[this.type][n]["innerHTML"],"</pre>")},selectItem:function(t,e){this.resetItems(),t.isSelected=!0,this.html='<a class="e-jx3-item e-jx3-item-q'.concat(t.Quality,'" data-id="').concat(t.id,'" data-quality="').concat(t.Quality,'" target="_blank" href="').concat(t.Link,'">[').concat(t.Name,"]</a>")},selectIcon:function(t){this.resetItems(),t.isSelected=!0,this.html='<img class="e-jx3-icon" src="'.concat(M["__iconPath"],"icon/").concat(t.iconID,'.png" alt="').concat(t.iconID,'"/>'),console.log(this.html)},resetItems:function(){var t=this[this.type];t.forEach((function(t){t.isSelected=!1}))},showIcon:function(t){return M["__iconPath"]+"icon/"+t+".png"},checkUA:function(){this.isPC=window.innerWidth>720}},filters:{filterRaw:function(t){return t&&t.replace(/\\n/g,"\n")},iconURL:function(t){return M["__iconPath"]+"icon/"+t+".png"}},created:function(){var t=this;this.checkUA(),T().then((function(e){t.stat=e}))},components:{}},X=K,G=(n("d8ec"),Object(A["a"])(X,U,B,!1,null,null,null)),J=G.exports,Q=M["__server"]+"upload/tinymce",W={name:"Tinymce",props:["content","height","attachmentEnable","resourceEnable"],data:function(){return{data:this.content,init:{selector:"#tinymce",language:"zh_CN",convert_urls:!1,body_class:"c-article c-article-editor",height:this.height||800,autosave_ask_before_unload:!1,icons:"custom",menubar:!1,branding:!1,contextmenu:"",plugins:["link autolink","hr lists advlist table codeinline codesample checklist foldtext mathjax","image emoticons media videox macro qixue","autosave code fullscreen wordcount powerpaste pagebreak printpage"],toolbar:["undo | formatselect | fontsizeselect | forecolor backcolor | bold italic underline strikethrough superscript subscript | link unlink | restoredraft fullscreen code","removeformat | hr alignleft aligncenter alignright alignjustify indent outdent | bullist numlist checklist table blockquote foldtext codeinline codesample mathjax | emoticons image media videox | macro qixue pagebreak printpage"],mobile:{toolbar_drawer:!0,toolbar:["undo emoticons bold forecolor backcolor removeformat pagebreak fullscreen","hr alignleft aligncenter alignright alignjustify indent outdent bullist numlist checklist table blockquote codesample mathjax macro qixue media"]},block_formats:"段落=p;一级标题=h1;二级标题=h2;三级标题=h3;四级标题=h4;五级标题=h5;六级标题=h6;",fontsize_formats:"12px 14px 16px 18px 22px 24px 26px 28px 32px 48px 72px",color_map:["FF99CC","浅粉","FF3399","深粉","FF0000","正红","CC99FF","紫色","9933ff","深紫","FFFF99","浅黄","FFFF00","金黄","FFCC00","亮黄","FFCC99","浅桃","FF6600","橘色","CCFFCC","浅绿","9bf915","荧光绿","00FF00","辣眼绿","49c10f","深绿","008080","深青","CCFFFF","浅蓝","00FFFF","参考线","00CCFF","天蓝","99CCFF","蔚蓝","0000FF","辣眼蓝","CC0000","深红","000000","黑色"],mathjax:{lib:"https://oss.jx3box.com/static/tinymce/plugins/mathjax/tex-mml-chtml.js",className:"math-tex",configUrl:"https://oss.jx3box.com/static/tinymce/plugins/mathjax/config.js"},image_advtab:!0,file_picker_types:"file image",images_upload_url:Q,automatic_uploads:!0,images_upload_credentials:!0,setup:this.setup,init_instance_callback:this.ready}}},model:{prop:"content",event:"update"},watch:{data:function(t){this.$emit("update",t)},content:function(t){this.data=t}},methods:{setup:function(t){},ready:function(t){},insertAttachments:function(t){tinyMCE.editors["tinymce"].insertContent(t.html)},insertResource:function(t){tinyMCE.editors["tinymce"].insertContent(t)}},mounted:function(){},components:{Editor:S,Upload:O,Resource:J}},Y=W,Z=(n("f609"),Object(A["a"])(Y,i,s,!1,null,null,null));e["a"]=Z.exports},5319:function(t,e,n){"use strict";var i=n("d784"),s=n("825a"),a=n("50c4"),o=n("a691"),c=n("1d80"),l=n("8aa5"),r=n("0cb2"),u=n("14c3"),d=Math.max,p=Math.min,f=function(t){return void 0===t?t:String(t)};i("replace",2,(function(t,e,n,i){var h=i.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,m=i.REPLACE_KEEPS_$0,g=h?"$":"$0";return[function(n,i){var s=c(this),a=void 0==n?void 0:n[t];return void 0!==a?a.call(n,s,i):e.call(String(s),n,i)},function(t,i){if(!h&&m||"string"===typeof i&&-1===i.indexOf(g)){var c=n(e,t,this,i);if(c.done)return c.value}var v=s(t),b=String(this),_="function"===typeof i;_||(i=String(i));var C=v.global;if(C){var y=v.unicode;v.lastIndex=0}var w=[];while(1){var x=u(v,b);if(null===x)break;if(w.push(x),!C)break;var k=String(x[0]);""===k&&(v.lastIndex=l(b,a(v.lastIndex),y))}for(var I="",S=0,$=0;$<w.length;$++){x=w[$];for(var E=String(x[0]),F=d(p(o(x.index),b.length),0),D=[],M=1;M<x.length;M++)D.push(f(x[M]));var z=x.groups;if(_){var L=[E].concat(D,F,b);void 0!==z&&L.push(z);var j=String(i.apply(void 0,L))}else j=r(E,b,F,D,z,i);F>=S&&(I+=b.slice(S,F)+j,S=F+E.length)}return I+b.slice(S)}]}))},6487:function(t,e,n){},"66ee":function(t,e,n){},"69e3":function(t){t.exports=JSON.parse('{"a":{"江湖":0,"天策":1,"万花":2,"纯阳":3,"七秀":4,"少林":5,"藏剑":6,"丐帮":7,"明教":8,"五毒":9,"唐门":10,"苍云":18,"长歌":19,"霸刀":20,"蓬莱":21,"凌雪":22}}')},a15b:function(t,e,n){"use strict";var i=n("23e7"),s=n("44ad"),a=n("fc6a"),o=n("a640"),c=[].join,l=s!=Object,r=o("join",",");i({target:"Array",proto:!0,forced:l||!r},{join:function(t){return c.call(a(this),void 0===t?",":t)}})},a640:function(t,e,n){"use strict";var i=n("d039");t.exports=function(t,e){var n=[][t];return!!n&&i((function(){n.call(null,e||function(){throw 1},1)}))}},c4a9:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return s}));var i=function(){return"undefined"!==typeof window?window:t},s=function(){var t=i();return t&&t.tinymce?t.tinymce:null}}).call(this,n("c8ba"))},d22a:function(t,e,n){},d8ec:function(t,e,n){"use strict";n("d22a")},df4f:function(t,e,n){"use strict";n("6487")},f609:function(t,e,n){"use strict";n("66ee")}}]);
//# sourceMappingURL=chunk-f95b0aaa.f32e3c36.js.map