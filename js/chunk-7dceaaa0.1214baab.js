(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7dceaaa0"],{"0138":function(a,t,s){},1645:function(a){a.exports=JSON.parse('{"default":{"name":"default","style":"square","files":{"xs":{"w":48,"width":60,"file":"default-xs.gif"},"s":{"w":68,"width":84,"file":"default-s.gif"},"m":{"w":108,"width":136,"file":"default-m.png"},"l":{"w":180,"width":224,"file":"default-l.png"},"xl":{"w":240,"width":300,"file":"default-xl.png"}}},"flower_1":{"name":"flower_1","style":"circle","files":{"xs":{"w":48,"width":60,"file":"flower_1-xs.png"},"s":{"w":68,"width":84,"file":"flower_1-s.png"},"m":{"w":108,"width":136,"file":"flower_1-m.png"},"l":{"w":180,"width":224,"file":"flower_1-l.png"},"xl":{"w":240,"width":300,"file":"flower_1-xl.png"}}}}')},"2c50":function(a,t,s){"use strict";s("0138")},4208:function(a,t,s){"use strict";s.r(t);s("b0c0");var e=function(){var a=this,t=a._self._c;return t("uc",{staticClass:"m-dashboard-avatar"},[t("div",{staticClass:"m-profile-avatar"},[t("div",{staticClass:"m-profile-avatar-primary"},[t("div",{staticClass:"u-avatar"},[t("img",{staticClass:"u-avatar u-avatar-l",attrs:{src:a._f("showAvatar")(a.avatar)}})]),t("el-upload",{staticClass:"u-upload",attrs:{drag:"",accept:"image/png, image/gif, image/jpeg","on-change":a.upload,action:"upload/avatar","auto-upload":!1}},[t("i",{staticClass:"el-icon-upload"}),t("div",{staticClass:"el-upload__text"},[a._v(" 将文件拖到此处，或 "),t("em",[a._v("点击上传")]),t("br"),t("span",{staticClass:"u-tip"},[a._v("只能上传jpg/png/gif文件")])])]),t("p",{staticClass:"u-btng"},[t("el-button",{attrs:{type:"primary"},on:{click:a.submit}},[a._v("确认")]),t("el-button",{on:{click:a.reset}},[a._v("重置")])],1)],1),t("div",{staticClass:"m-profile-avatar-frame"},[t("h3",{staticClass:"u-title"},[a._v(" 自定义头像框 "),t("span",{staticClass:"u-limit",class:{on:a.isVIP}},[a._v(" ( "),t("i",{class:a.isVIP?"el-icon-unlock":"el-icon-lock"}),a._v("仅"),t("a",{attrs:{href:"/vip/premium?from=dashboard_avatar",target:"_blank"}},[a._v("高级/专业版")]),a._v("账户适用 ) ")])]),a.frames?t("div",{staticClass:"u-list"},[t("li",{staticClass:"u-item",class:{on:!a.frame},on:{click:function(t){return a.selectFrame("")}}},[t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"无边框",placement:"top","open-delay":200}},[t("div",[t("img",{directives:[{name:"show",rawName:"v-show",value:!a.frame,expression:"!frame"}],staticClass:"u-pic",attrs:{src:a._f("showSmallAvatar")(a.avatar)}}),t("i",{staticClass:"u-frame u-frame-none"})])])],1),a._l(a.frames,(function(s,e){return t("li",{key:e,staticClass:"u-item",class:{on:e==a.frame},on:{click:function(t){return a.selectFrame(s)}}},[t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:s.desc,placement:"top","open-delay":300}},[t("div",{class:{"u-blocked":!s.status}},[t("img",{directives:[{name:"show",rawName:"v-show",value:e==a.frame,expression:"name == frame"}],staticClass:"u-pic isCircle",attrs:{src:a._f("showSmallAvatar")(a.avatar)}}),t("i",{staticClass:"u-frame"},[t("img",{attrs:{src:a.showFrame(s.name)}})])])])],1)}))],2):a._e(),t("div",{staticClass:"u-tip"},[t("i",{staticClass:"el-icon-warning-outline"}),a._v(" 「限定头像框」仅在指定时间段可选择激活。 ")])])])])},i=[],r=(s("99af"),s("b547")),n=s("46e8"),l=s("c9d2"),c=s("85e4"),o=s("1645"),f=s("65c2"),u={name:"avatar",props:[],data:function(){return{bak:"",avatar:"",frame:"",isVIP:!1,uid:l["a"].getInfo().uid,frames:o}},computed:{data:function(){return{user_avatar:this.avatar,user_avatar_frame:this.frame}}},methods:{upload:function(a,t){var s=this,e=new FormData,i=a.raw;e.append("avatar",i),Object(n["m"])(e).then((function(a){s.$message({message:"上传成功",type:"success"}),s.avatar=a.data.data[0]}))},reset:function(){this.avatar=this.bak},submit:function(){var a=this;this.isVIP||(this.frame&&this.$notify({title:"头像框未生效",message:"头像框仅高级/专业账号可用",type:"warning"}),this.frame=""),Object(n["j"])(this.data).then((function(t){l["a"].refresh("avatar",a.avatar),a.$message({message:"头像更新成功",type:"success"})}))},loadFrames:function(){var a=this;Object(n["d"])().then((function(t){a.frames=t.data}))},showFrame:function(a){return f["__imgPath"]+"avatar/images/".concat(a,"/").concat(a,".svg")},selectFrame:function(a){a?a.status&&(this.frame=a.name):this.frame=""},init:function(){var a=this;this.loadFrames(),l["a"].isVIP().then((function(t){a.isVIP=t})),this.avatar=this.bak=l["a"].getInfo().avatar_origin,Object(n["f"])(this.uid).then((function(t){a.frame=t.data.data.user_avatar_frame||""}))}},filters:{showAvatar:function(a){return Object(c["showAvatar"])(a,480,!1)},showSmallAvatar:function(a){return Object(c["showAvatar"])(a,136,!1)}},created:function(){this.init()},components:{uc:r["a"]}},m=u,d=(s("2c50"),s("2877")),v=Object(d["a"])(m,e,i,!1,null,null,null);t["default"]=v.exports}}]);
//# sourceMappingURL=chunk-7dceaaa0.1214baab.js.map