(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c046c836"],{2777:function(t,a,n){"use strict";n.d(a,"a",(function(){return u}));var r=n("bc3a"),e=n.n(r);n.d(a,"b",(function(){return e.a}));var s=n("64c7"),u=e.a.create({baseURL:s["__server"],withCredentials:!0});e.a.create({baseURL:s["__next"],withCredentials:!0})},4208:function(t,a,n){"use strict";n.r(a);var r=function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",{staticClass:"m-dashboard m-dashboard-avatar"},[n("div",{staticClass:"u-preview"},[n("img",{staticClass:"u-avatar u-avatar-l",attrs:{src:t.avatar}})]),n("el-upload",{staticClass:"u-upload",attrs:{drag:"",action:t.upload_url,"with-credentials":"","on-success":t.success,"on-error":t.fail,accept:"image/png,image/gif,image/jpeg"}},[n("i",{staticClass:"el-icon-upload"}),n("div",{staticClass:"el-upload__text"},[t._v(" 将文件拖到此处，或"),n("em",[t._v("点击上传")]),n("br"),n("span",{staticClass:"u-tip"},[t._v("只能上传jpg/png/gif文件")])])]),n("p",{staticClass:"u-btng"},[n("el-button",{attrs:{type:"primary"},on:{click:t.submit}},[t._v("确认")]),n("el-button",{on:{click:t.reset}},[t._v("重置")])],1)],1)},e=[],s=n("ee8f"),u=n("46e8"),i=s["JX3BOX"].__server,c={name:"avatar",props:[],data:function(){return{avatar:"",bak:"",upload_url:i+"upload/avatar",path:""}},computed:{},methods:{success:function(t){this.$message({message:"上传成功",type:"success"}),this.avatar=s["Utils"].showAvatar(t.data.list[0],"l"),this.path=t.data.list[0]},fail:function(t){this.$message.error("上传失败,网络异常或非法请求")},reset:function(){this.avatar=this.bak},submit:function(){var t=this;Object(u["j"])({uid:s["User"].getInfo().uid,path:this.path}).then((function(a){s["User"].refresh("avatar",t.path),t.$message({message:"头像更新成功",type:"success"})})).catch((function(a){t.failCallback(a,t)}))}},mounted:function(){this.avatar=s["Utils"].showAvatar(s["User"].getInfo().avatar_origin,"l"),this.bak=this.avatar}},o=c,d=(n("bfad"),n("2877")),f=Object(d["a"])(o,r,e,!1,null,null,null);a["default"]=f.exports},"46e8":function(t,a,n){"use strict";n.d(a,"f",(function(){return e})),n.d(a,"c",(function(){return s})),n.d(a,"k",(function(){return u})),n.d(a,"m",(function(){return i})),n.d(a,"e",(function(){return c})),n.d(a,"j",(function(){return o})),n.d(a,"l",(function(){return d})),n.d(a,"h",(function(){return h})),n.d(a,"a",(function(){return l})),n.d(a,"b",(function(){return f})),n.d(a,"g",(function(){return p})),n.d(a,"i",(function(){return b})),n.d(a,"d",(function(){return v}));var r=n("2777");function e(t){return r["a"].get("user/info",{params:{uid:t}})}function s(t){return r["a"].get("dashboard/nickname/check",{params:{name:t}})}function u(t){return r["a"].post("dashboard/nickname/update",{name:t})}function i(t){return r["a"].post("dashboard/profile/update",t)}function c(){return r["a"].get("user/profile").then((function(t){return t.data.data}))}function o(t){return r["a"].post("dashboard/avatar/update",t)}function d(t){return r["a"].post("dashboard/password/update",t)}function f(t){return r["a"].get("dashboard/email/check",{params:{uid:t}})}function l(t){return r["a"].get("account/has",{params:{user_login:t}})}function p(t){return r["a"].post("dashboard/email/bind",t)}function h(t){return r["a"].get("dashboard/email/verify",{params:{uid:t}})}function b(t){return r["a"].post("dashboard/oauth/unbind",t)}function v(t){return r["a"].post("dashboard/oauth/check",t)}},bfad:function(t,a,n){"use strict";var r=n("d38b"),e=n.n(r);e.a},d38b:function(t,a,n){}}]);
//# sourceMappingURL=chunk-c046c836.89fa93ea.js.map