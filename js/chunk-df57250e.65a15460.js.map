{"version":3,"sources":["webpack:///./src/views/pwd.vue?9f2d","webpack:///./src/service/profile.js","webpack:///./src/views/pwd.vue","webpack:///src/views/pwd.vue","webpack:///./src/views/pwd.vue?7aea","webpack:///./src/views/pwd.vue?5720","webpack:///./node_modules/sterilizer/main.js"],"names":["getProfile","$cms","get","updateProfile","data","put","updateAvatar","uploadAvatar","post","getFrames","url","__imgPath","axios","getUserOverview","uid","concat","params","__no_cache","updatePassword","checkEmailAvailable","email","sendBindEmail","sendVerifyEmail","code","app","checkOAuth","unbindOAuth","type","popType","delete","getWechatQrcode","unbindWechat","render","_vm","this","_c","_self","staticClass","status","class","attrs","on","checkPass","model","value","pwd1","callback","$$v","expression","slot","directives","name","rawName","pass_validate","pass_validate_tip","pwd2","accordance","pass_accordance_tip","ready","done","_v","reset","staticRenderFns","props","computed","methods","validator","len","_this","password","then","res","$message","message","mounted","components","uc","component","_typeof","o","s","Object","prototype","toString","call","match","toLowerCase","defineProperty","exports","Sterilizer","str","Error","_symbols","$","_","symbols","keys","regs","values","_str","_type","_iter","includes","_toRemove","join","re","RegExp","replace","germ","undefined","Set","_detected","_germ","char","add","_sterilize","probiotics","kill","words","replacement","custom","some","item","sterilizer","Validator","val","opt","isOptional","rule","e","console","error","_invalid","test","is","range","length","options","isIn","maxValue","minValue","ins","check"],"mappings":"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","file":"js/chunk-df57250e.65a15460.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./pwd.vue?vue&type=style&index=0&id=3f3cee39&prod&lang=less\"","import { $cms, $_https } from \"@jx3box/jx3box-common/js/https.js\";\n\nimport axios from \"axios\";\nimport { __imgPath } from \"@jx3box/jx3box-common/data/jx3box.json\";\n\n// 1.资料\n// -------------------------------\nfunction getProfile() {\n    return $cms().get(\"/api/cms/user/my/profile\");\n}\nfunction updateProfile(data) {\n    return $cms().put(\"/api/cms/user/my/profile\", data);\n}\n\n// 2.头像\n// -------------------------------\nfunction updateAvatar(data) {\n    return $cms().put(\"/api/cms/user/my/avatar\", data);\n}\nfunction uploadAvatar(data) {\n    return $cms().post(\"/api/cms/upload/avatar\", data);\n}\nfunction getFrames() {\n    // let url = process.env.NODE_ENV == 'development'?'/temp/user_avatar_frame.json':(__imgPath + \"avatar/index.json\")\n    let url = __imgPath + \"avatar/index.json\";\n    return axios.get(url);\n}\nfunction getUserOverview(uid) {\n    return $cms().get(`/api/cms/user/${uid}/info`, {\n        params: {\n            __no_cache: 1,\n        },\n    });\n}\n\n// 3.密码\n// -------------------------------\n// 发送验证码\nfunction sendVerifyCode(data) {\n    return $cms().post(\"/api/cms/user/account/email/forgot-password\", data, {\n        app: \"jx3box\",\n    });\n}\n// 重设密码\nfunction updatePassword(data) {\n    return $cms().put(\"/api/cms/user/my/password\", data);\n}\n\n// 4.邮箱\n// -------------------------------\nfunction checkEmailAvailable(email) {\n    return $cms().get(\"/api/cms/user/account/email/valid\", {\n        params: {\n            email\n        }\n    });\n}\n\nfunction sendBindEmail(data) {\n    return $cms().post(\"/api/cms/user/account/email/bind\", data);\n}\n\nfunction sendVerifyEmail(code) {\n    return $cms().put(\"/api/cms/user/account/email/verify\", {\n        code,\n    }, { app: 'jx3box' });\n}\n\n// 5.互联\nfunction checkOAuth() {\n    return $cms().get(\"/api/cms/account/oauth/status\");\n}\n\nfunction unbindOAuth(type) {\n    return $cms({\n        popType: \"alert\",\n    }).delete(`/api/cms/account/oauth/unbind/${type}`);\n}\n\n// 6.微信\n// 获取微信二维码\nfunction getWechatQrcode() {\n    return $cms().get(`/api/cms/wechat/mp/bind`);\n}\n\n// 解除绑定\nfunction unbindWechat() {\n    return $cms().get(`/api/cms/wechat/mp/unbind`);\n}\n\nexport {\n    updateProfile,\n    getProfile,\n    updateAvatar,\n    updatePassword,\n    sendVerifyEmail,\n    checkEmailAvailable,\n    sendBindEmail,\n    unbindOAuth,\n    checkOAuth,\n    uploadAvatar,\n    getFrames,\n    getUserOverview,\n    getWechatQrcode,\n    unbindWechat,\n    sendVerifyCode\n};\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('uc',{staticClass:\"m-dashboard-pwd\"},[_c('div',{staticClass:\"m-profile-pwd\"},[(_vm.status)?_c('form',{staticClass:\"m-dashboard-pwd-doing\"},[_c('svg',{class:'u-pic',attrs:{\"height\":\"512\",\"viewBox\":\"0 0 512 512\",\"width\":\"512\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"svg-inline\":'',\"role\":'presentation',\"focusable\":'false',\"tabindex\":'-1'}},[_c('path',{attrs:{\"d\":\"M509.984 334.503a14.94 14.94 0 01-6.338 5.938l-32.32 15.981a15 15 0 01-14.149-.456L271.722 248.893c-16.227 12.244-35.316 19.908-55.809 22.322-24.735 2.915-49.24-2.143-70.864-14.628-54.916-31.706-73.798-102.177-42.093-157.093s102.177-73.798 157.093-42.093c21.624 12.485 38.257 31.177 48.1 54.056 8.156 18.955 11.063 39.318 8.573 59.493l68.939 39.802 31.449-2.028a14.998 14.998 0 0114.411 8.32l11.549 23.357 26.002-1.677a15 15 0 0115.043 9.791l26.962 73.301a14.994 14.994 0 01-1.093 12.687z\",\"fill\":\"#fa9100\"}}),_c('path',{attrs:{\"d\":\"M343.493 464.426a14.942 14.942 0 01-8.458 1.974l-35.981-2.32a15 15 0 01-12.025-7.469L179.956 271.155c-20.175 2.49-40.538-.417-59.493-8.573-22.879-9.843-41.571-26.476-54.056-48.1C34.702 159.566 53.584 89.095 108.5 57.389s125.387-12.823 157.093 42.093c12.485 21.624 17.543 46.128 14.628 70.864-2.415 20.493-10.078 39.582-22.322 55.809l39.802 68.939 28.25 13.968a15 15 0 018.32 14.411l-1.677 26.002 23.357 11.549a15 15 0 018.132 16l-13.301 76.962a14.992 14.992 0 01-7.289 10.44z\",\"fill\":\"#a76100\"}}),_c('path',{attrs:{\"d\":\"M114.991 512c-2.871 0-5.765-.822-8.312-2.52l-30-20A15 15 0 0170 477V262.854c-18.717-7.931-34.898-20.63-47.236-37.171C7.872 205.72 0 181.969 0 157 0 93.589 51.589 42 115 42s115 51.589 115 115c0 24.969-7.872 48.72-22.764 68.684-12.338 16.541-28.519 29.24-47.236 37.171v79.604l17.481 26.221a15 15 0 010 16.641L163.028 407l14.453 21.68a15 15 0 01-.958 17.923l-50 60A14.983 14.983 0 01114.991 512z\",\"fill\":\"#ffe16e\"}}),_c('path',{attrs:{\"d\":\"M126.524 506.603l50-60a15.002 15.002 0 00.958-17.923L163.028 407l14.453-21.68a15 15 0 000-16.641L160 342.458v-79.604c18.717-7.931 34.898-20.63 47.236-37.171C222.129 205.72 230 181.969 230 157c0-63.411-51.589-115-115-115v470a14.987 14.987 0 0011.524-5.397z\",\"fill\":\"#ff8e00\"}}),_c('path',{attrs:{\"d\":\"M100 117V15c0-8.284 6.716-15 15-15s15 6.716 15 15v102z\",\"fill\":\"#00337a\"}}),_c('path',{attrs:{\"d\":\"M130 117V15c0-8.284-6.716-15-15-15v117z\",\"fill\":\"#002659\"}}),_c('path',{attrs:{\"d\":\"M135 132H95c-8.284 0-15-6.716-15-15s6.716-15 15-15h40c8.284 0 15 6.716 15 15s-6.716 15-15 15z\",\"fill\":\"#00429b\"}}),_c('path',{attrs:{\"d\":\"M135 102h-20v30h20c8.284 0 15-6.716 15-15s-6.716-15-15-15z\",\"fill\":\"#00337a\"}})]),_c('el-alert',{staticClass:\"u-ac\",attrs:{\"title\":\"请妥善保管\",\"type\":\"warning\",\"description\":\"未绑定邮箱用户将无法使用找回密码功能\",\"show-icon\":\"\",\"closable\":false}}),_c('div',{staticClass:\"u-pass\"},[_c('el-input',{staticClass:\"u-text\",attrs:{\"placeholder\":\"新密码\",\"show-password\":\"\"},on:{\"change\":_vm.checkPass},model:{value:(_vm.pwd1),callback:function ($$v) {_vm.pwd1=$$v},expression:\"pwd1\"}},[_c('template',{slot:\"prepend\"},[_c('svg',{class:'i-pass',attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 512 512\",\"svg-inline\":'',\"role\":'presentation',\"focusable\":'false',\"tabindex\":'-1'}},[_c('path',{attrs:{\"d\":\"M437.333 192h-32v-42.667C405.333 66.99 338.344 0 256 0S106.667 66.99 106.667 149.333V192h-32A10.66 10.66 0 0064 202.667v266.667C64 492.865 83.135 512 106.667 512h298.667C428.865 512 448 492.865 448 469.333V202.667A10.66 10.66 0 00437.333 192zM287.938 414.823a10.67 10.67 0 01-10.604 11.844h-42.667a10.67 10.67 0 01-10.604-11.844l6.729-60.51c-10.927-7.948-17.458-20.521-17.458-34.313 0-23.531 19.135-42.667 42.667-42.667s42.667 19.135 42.667 42.667c0 13.792-6.531 26.365-17.458 34.313l6.728 60.51zM341.333 192H170.667v-42.667C170.667 102.281 208.948 64 256 64s85.333 38.281 85.333 85.333V192z\"}})])])],2),_c('div',{staticClass:\"u-tip\"},[_c('el-alert',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.pass_validate == false),expression:\"pass_validate == false\"}],attrs:{\"title\":_vm.pass_validate_tip,\"type\":\"error\",\"show-icon\":\"\",\"closable\":false}})],1)],1),_c('div',{staticClass:\"u-pass\"},[_c('el-input',{staticClass:\"u-text\",attrs:{\"placeholder\":\"重复密码\",\"show-password\":\"\"},on:{\"input\":_vm.checkPass},model:{value:(_vm.pwd2),callback:function ($$v) {_vm.pwd2=$$v},expression:\"pwd2\"}},[_c('template',{slot:\"prepend\"},[_c('svg',{class:'i-pass',attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 512 512\",\"svg-inline\":'',\"role\":'presentation',\"focusable\":'false',\"tabindex\":'-1'}},[_c('path',{attrs:{\"d\":\"M437.333 192h-32v-42.667C405.333 66.99 338.344 0 256 0S106.667 66.99 106.667 149.333V192h-32A10.66 10.66 0 0064 202.667v266.667C64 492.865 83.135 512 106.667 512h298.667C428.865 512 448 492.865 448 469.333V202.667A10.66 10.66 0 00437.333 192zM287.938 414.823a10.67 10.67 0 01-10.604 11.844h-42.667a10.67 10.67 0 01-10.604-11.844l6.729-60.51c-10.927-7.948-17.458-20.521-17.458-34.313 0-23.531 19.135-42.667 42.667-42.667s42.667 19.135 42.667 42.667c0 13.792-6.531 26.365-17.458 34.313l6.728 60.51zM341.333 192H170.667v-42.667C170.667 102.281 208.948 64 256 64s85.333 38.281 85.333 85.333V192z\"}})])])],2),_c('div',{staticClass:\"u-tip\"},[_c('el-alert',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.pwd2 && _vm.accordance == false),expression:\"pwd2 && accordance == false\"}],attrs:{\"title\":_vm.pass_accordance_tip,\"type\":\"error\",\"show-icon\":\"\",\"closable\":false}})],1)],1),_c('el-button',{staticClass:\"u-submit u-button\",attrs:{\"type\":\"primary\",\"disabled\":!_vm.ready},on:{\"click\":_vm.done}},[_vm._v(\"提交\")])],1):_c('div',{staticClass:\"m-dashboard-pwd-done\"},[_c('svg',{class:'u-icon',attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 512 512\",\"svg-inline\":'',\"role\":'presentation',\"focusable\":'false',\"tabindex\":'-1'}},[_c('path',{attrs:{\"d\":\"M256 0C115.3 0 0 115.3 0 256s115.3 256 256 256 256-115.3 256-256S396.7 0 256 0z\",\"fill\":\"#7d0\"}}),_c('path',{attrs:{\"d\":\"M512 256c0 140.7-115.3 256-256 256V0c140.7 0 256 115.3 256 256z\",\"fill\":\"#6b0\"}}),_c('path',{attrs:{\"fill\":\"#e7e7e7\",\"d\":\"M401.8 212.5L226 388.299l-126.301-126 42.602-42.6 83.699 84 30-30L359.5 170.2z\"}}),_c('path',{attrs:{\"fill\":\"#d3d3d8\",\"d\":\"M401.8 212.5L256 358.299v-84.6L359.5 170.2z\"}})]),_c('p',[_vm._v(\"修改成功\")]),_c('el-button',{staticClass:\"u-submit u-button\",attrs:{\"type\":\"primary\"},on:{\"click\":_vm.reset}},[_vm._v(\"返回\")])],1)])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <uc class=\"m-dashboard-pwd\">\n        <div class=\"m-profile-pwd\">\n            <form v-if=\"status\" class=\"m-dashboard-pwd-doing\">\n                <svg height=\"512\" viewBox=\"0 0 512 512\" width=\"512\" xmlns=\"http://www.w3.org/2000/svg\" v-bind:class=\"'u-pic'\" v-bind:svg-inline=\"''\" v-bind:role=\"'presentation'\" v-bind:focusable=\"'false'\" v-bind:tabindex=\"'-1'\"><path d=\"M509.984 334.503a14.94 14.94 0 01-6.338 5.938l-32.32 15.981a15 15 0 01-14.149-.456L271.722 248.893c-16.227 12.244-35.316 19.908-55.809 22.322-24.735 2.915-49.24-2.143-70.864-14.628-54.916-31.706-73.798-102.177-42.093-157.093s102.177-73.798 157.093-42.093c21.624 12.485 38.257 31.177 48.1 54.056 8.156 18.955 11.063 39.318 8.573 59.493l68.939 39.802 31.449-2.028a14.998 14.998 0 0114.411 8.32l11.549 23.357 26.002-1.677a15 15 0 0115.043 9.791l26.962 73.301a14.994 14.994 0 01-1.093 12.687z\" fill=\"#fa9100\"/><path d=\"M343.493 464.426a14.942 14.942 0 01-8.458 1.974l-35.981-2.32a15 15 0 01-12.025-7.469L179.956 271.155c-20.175 2.49-40.538-.417-59.493-8.573-22.879-9.843-41.571-26.476-54.056-48.1C34.702 159.566 53.584 89.095 108.5 57.389s125.387-12.823 157.093 42.093c12.485 21.624 17.543 46.128 14.628 70.864-2.415 20.493-10.078 39.582-22.322 55.809l39.802 68.939 28.25 13.968a15 15 0 018.32 14.411l-1.677 26.002 23.357 11.549a15 15 0 018.132 16l-13.301 76.962a14.992 14.992 0 01-7.289 10.44z\" fill=\"#a76100\"/><path d=\"M114.991 512c-2.871 0-5.765-.822-8.312-2.52l-30-20A15 15 0 0170 477V262.854c-18.717-7.931-34.898-20.63-47.236-37.171C7.872 205.72 0 181.969 0 157 0 93.589 51.589 42 115 42s115 51.589 115 115c0 24.969-7.872 48.72-22.764 68.684-12.338 16.541-28.519 29.24-47.236 37.171v79.604l17.481 26.221a15 15 0 010 16.641L163.028 407l14.453 21.68a15 15 0 01-.958 17.923l-50 60A14.983 14.983 0 01114.991 512z\" fill=\"#ffe16e\"/><path d=\"M126.524 506.603l50-60a15.002 15.002 0 00.958-17.923L163.028 407l14.453-21.68a15 15 0 000-16.641L160 342.458v-79.604c18.717-7.931 34.898-20.63 47.236-37.171C222.129 205.72 230 181.969 230 157c0-63.411-51.589-115-115-115v470a14.987 14.987 0 0011.524-5.397z\" fill=\"#ff8e00\"/><path d=\"M100 117V15c0-8.284 6.716-15 15-15s15 6.716 15 15v102z\" fill=\"#00337a\"/><path d=\"M130 117V15c0-8.284-6.716-15-15-15v117z\" fill=\"#002659\"/><path d=\"M135 132H95c-8.284 0-15-6.716-15-15s6.716-15 15-15h40c8.284 0 15 6.716 15 15s-6.716 15-15 15z\" fill=\"#00429b\"/><path d=\"M135 102h-20v30h20c8.284 0 15-6.716 15-15s-6.716-15-15-15z\" fill=\"#00337a\"/></svg>\n                <el-alert\n                    class=\"u-ac\"\n                    title=\"请妥善保管\"\n                    type=\"warning\"\n                    description=\"未绑定邮箱用户将无法使用找回密码功能\"\n                    show-icon\n                    :closable=\"false\"\n                >\n                </el-alert>\n\n                <!-- 新密码 -->\n                <div class=\"u-pass\">\n                    <el-input\n                        class=\"u-text\"\n                        placeholder=\"新密码\"\n                        v-model=\"pwd1\"\n                        show-password\n                        @change=\"checkPass\"\n                    >\n                        <template slot=\"prepend\">\n                            <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\" v-bind:class=\"'i-pass'\" v-bind:svg-inline=\"''\" v-bind:role=\"'presentation'\" v-bind:focusable=\"'false'\" v-bind:tabindex=\"'-1'\"><path d=\"M437.333 192h-32v-42.667C405.333 66.99 338.344 0 256 0S106.667 66.99 106.667 149.333V192h-32A10.66 10.66 0 0064 202.667v266.667C64 492.865 83.135 512 106.667 512h298.667C428.865 512 448 492.865 448 469.333V202.667A10.66 10.66 0 00437.333 192zM287.938 414.823a10.67 10.67 0 01-10.604 11.844h-42.667a10.67 10.67 0 01-10.604-11.844l6.729-60.51c-10.927-7.948-17.458-20.521-17.458-34.313 0-23.531 19.135-42.667 42.667-42.667s42.667 19.135 42.667 42.667c0 13.792-6.531 26.365-17.458 34.313l6.728 60.51zM341.333 192H170.667v-42.667C170.667 102.281 208.948 64 256 64s85.333 38.281 85.333 85.333V192z\"/></svg>\n                        </template>\n                    </el-input>\n                    <div class=\"u-tip\">\n                        <el-alert\n                            v-show=\"pass_validate == false\"\n                            :title=\"pass_validate_tip\"\n                            type=\"error\"\n                            show-icon\n                            :closable=\"false\"\n                        ></el-alert>\n                    </div>\n                </div>\n\n                <!-- 重复密码 -->\n                <div class=\"u-pass\">\n                    <el-input\n                        class=\"u-text\"\n                        placeholder=\"重复密码\"\n                        v-model=\"pwd2\"\n                        show-password\n                        @input=\"checkPass\"\n                    >\n                        <template slot=\"prepend\">\n                            <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\" v-bind:class=\"'i-pass'\" v-bind:svg-inline=\"''\" v-bind:role=\"'presentation'\" v-bind:focusable=\"'false'\" v-bind:tabindex=\"'-1'\"><path d=\"M437.333 192h-32v-42.667C405.333 66.99 338.344 0 256 0S106.667 66.99 106.667 149.333V192h-32A10.66 10.66 0 0064 202.667v266.667C64 492.865 83.135 512 106.667 512h298.667C428.865 512 448 492.865 448 469.333V202.667A10.66 10.66 0 00437.333 192zM287.938 414.823a10.67 10.67 0 01-10.604 11.844h-42.667a10.67 10.67 0 01-10.604-11.844l6.729-60.51c-10.927-7.948-17.458-20.521-17.458-34.313 0-23.531 19.135-42.667 42.667-42.667s42.667 19.135 42.667 42.667c0 13.792-6.531 26.365-17.458 34.313l6.728 60.51zM341.333 192H170.667v-42.667C170.667 102.281 208.948 64 256 64s85.333 38.281 85.333 85.333V192z\"/></svg>\n                        </template>\n                    </el-input>\n                    <div class=\"u-tip\">\n                        <el-alert\n                            v-show=\"pwd2 && accordance == false\"\n                            :title=\"pass_accordance_tip\"\n                            type=\"error\"\n                            show-icon\n                            :closable=\"false\"\n                        ></el-alert>\n                    </div>\n                </div>\n\n                <!-- 提交 -->\n                <el-button\n                    class=\"u-submit u-button\"\n                    type=\"primary\"\n                    @click=\"done\"\n                    :disabled=\"!ready\"\n                    >提交</el-button\n                >\n            </form>\n            <div v-else class=\"m-dashboard-pwd-done\">\n                <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\" v-bind:class=\"'u-icon'\" v-bind:svg-inline=\"''\" v-bind:role=\"'presentation'\" v-bind:focusable=\"'false'\" v-bind:tabindex=\"'-1'\"><path d=\"M256 0C115.3 0 0 115.3 0 256s115.3 256 256 256 256-115.3 256-256S396.7 0 256 0z\" fill=\"#7d0\"/><path d=\"M512 256c0 140.7-115.3 256-256 256V0c140.7 0 256 115.3 256 256z\" fill=\"#6b0\"/><path fill=\"#e7e7e7\" d=\"M401.8 212.5L226 388.299l-126.301-126 42.602-42.6 83.699 84 30-30L359.5 170.2z\"/><path fill=\"#d3d3d8\" d=\"M401.8 212.5L256 358.299v-84.6L359.5 170.2z\"/></svg>\n                <p>修改成功</p>\n                <el-button\n                    class=\"u-submit u-button\"\n                    type=\"primary\"\n                    @click=\"reset\"\n                    >返回</el-button\n                >\n            </div>\n        </div>\n    </uc>\n</template>\n\n<script>\nimport uc from \"@/components/uc.vue\";\nimport { validator } from \"sterilizer\";\nimport User from \"@jx3box/jx3box-common/js/user\";\nimport { updatePassword } from \"../service/profile\";\nexport default {\n    name: \"pwd\",\n    props: [],\n    data: function() {\n        return {\n            pwd1: \"\",\n            pwd2: \"\",\n            pass_validate: null,\n            pass_validate_tip: \"密码有效长度为6-50个字符\",\n            pass_accordance_tip: \"两次密码不一致\",\n            status: true,\n        };\n    },\n    computed: {\n        accordance: function() {\n            return this.pwd1 === this.pwd2;\n        },\n        ready: function() {\n            return this.pass_validate && this.accordance;\n        },\n    },\n    methods: {\n        checkPass: function() {\n            // 如果为空\n            if (this.pwd1 == \"\") {\n                this.pass_validate = null;\n            }\n\n            // 校验第1个值\n            this.pass_validate = validator(this.pwd1, {\n                len: [6, 50],\n            });\n        },\n        done: function() {\n            updatePassword({\n                password: this.pwd1,\n            }).then((res) => {\n                this.$message({\n                    message: \"密码修改成功\",\n                    type: \"success\",\n                });\n                this.status = false;\n            });\n        },\n        reset: function() {\n            this.status = true;\n        },\n    },\n    mounted: function() {},\n    components: {\n        uc,\n    },\n};\n</script>\n\n<style lang=\"less\">\n@import \"../assets/css/profile/pwd.less\";\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./pwd.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./pwd.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./pwd.vue?vue&type=template&id=3f3cee39\"\nimport script from \"./pwd.vue?vue&type=script&lang=js\"\nexport * from \"./pwd.vue?vue&type=script&lang=js\"\nimport style0 from \"./pwd.vue?vue&type=style&index=0&id=3f3cee39&prod&lang=less\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\n/**\n * \n * @param {any} o any object to be detected\n * @return {string} the type string\n */\nfunction _typeof(o){\n    var s = Object.prototype.toString.call(o);\n    return s.match(/\\[object (.*?)\\]/)[1].toLowerCase();\n}\n\n/**\n * @desc  Remove specified symbols & charaters\n * @param {string} str string will be sterilized\n * @return {str} the clean string\n * @return {object} a sterilizer object \n */\nclass Sterilizer {\n    constructor(str) {\n\n        if(_typeof(str)!=='string'){\n            throw new Error(\n                \"[Sterilizer::init] params should be string\"\n            );\n        }\n\n        this._symbols = {\n            \"`\": \"`\",\n            \"~\": \"~\",\n            \"!\": \"!\",\n            \"@\": \"@\",\n            \"#\": \"#\",\n            $: \"\\\\$\",\n            \"%\": \"%\",\n            \"^\": \"\\\\^\",\n            \"&\": \"&\",\n            \"*\": \"\\\\*\",\n            \"-\": \"\\\\-\",\n            _: \"_\",\n            \"=\": \"=\",\n            \"+\": \"+\",\n            \"(\": \"\\\\(\",\n            \")\": \"\\\\)\",\n            \"[\": \"\\\\[\",\n            \"]\": \"\\\\]\",\n            \"{\": \"\\\\{\",\n            \"}\": \"\\\\}\",\n            \"|\": \"\\\\|\",\n            \"\\\\\": \"\\\\\\\\\",\n            \"/\": \"/\",\n            \"?\": \"\\\\?\",\n            \":\": \":\",\n            \";\": \";\",\n            \"'\": \"'\",\n            '\"': '\"',\n            \">\": \">\",\n            \"<\": \"<\",\n            \",\": \",\",\n            \".\": \"\\\\.\",\n        };\n        this.symbols = Object.keys(this._symbols);\n        this.regs = Object.values(this._symbols);\n        this.str = str;\n        this._str = str;\n    }\n\n    // output the clean string\n    toString() {\n        return this._str;\n    }\n\n    // detected the object type\n    _detected(o) {\n        let _type = _typeof(o);\n        let _iter = [\"string\", \"array\", \"set\"];\n        if (!_iter.includes(_type))\n            throw new Error(\n                \"[Sterilizer::remove] params should be string|array|set\"\n            );\n        return o;\n    }\n\n    // replaced the specified symbols by RegExp\n    _sterilize(_toRemove) {\n        _toRemove = [..._toRemove].join(\"\");\n        let re = new RegExp(`[${_toRemove}]`, \"gm\");\n        this._str = this._str.replace(re, \"\");\n        return this\n    }\n\n    // remove the specified symbols\n    kill(germ) {\n        let _toRemove = null;\n\n        // build unique toRemove set\n        if (germ == undefined) {\n            _toRemove = new Set(this.regs);\n        } else {\n            this._detected(germ);\n            _toRemove = new Set();\n            let _germ = new Set(germ);\n            for (let char of _germ) {\n                if (this.symbols.includes(char))\n                    _toRemove.add(this._symbols[char]);\n            }\n        }\n\n        return this._sterilize(_toRemove);\n    }\n\n    // remove all the symbols exclude args\n    live(probiotics) {\n        this._detected(probiotics);\n\n        // build unique toRemove set\n        let _toRemove = new Set(this.regs);\n        for (let char of probiotics) {\n            if (this.symbols.includes(char)) {\n                _toRemove.delete(this._symbols[char]);\n            }\n        }\n\n        return this._sterilize(_toRemove);\n    }\n\n    // remove htmlspecialchars + urlspecialchars\n    safe() {\n        return this.kill([\n            \"&\",\n            \"<\",\n            \">\",\n            '\"',\n            \"'\",\n            \"+\",\n            \":\",\n            \"/\",\n            \"?\",\n            \"=\",\n            \"#\",\n            \"%\",\n        ]);\n    }\n\n    // remove htmlspecialchars\n    removeHSC() {\n        return this.kill([\"&\", \"<\", \">\", '\"', \"'\"]);\n    }\n\n    // remove urlspecialchars\n    removeURL() {\n        return this.kill([\"+\", \":\", \"/\", \"?\", \"=\", \"&\", \"#\", \"%\"]);\n    }\n\n    // remove all the space\n    removeSpace() {\n        this._str = this._str.replace(/\\s/gm, \"\");\n        return this\n    }\n\n    // remove specified charaters\n    remove(words, replacement) {\n        let re = new RegExp(`${words}`, \"gm\");\n        replacement = replacement !== undefined ? replacement : \"\";\n        this._str = this._str.replace(re, replacement);\n        return this\n    }\n\n    // remove all the HTML tags\n    removeHTMLtag() {\n        this._str = this._str.replace(/<[^>]+>/gm, \"\");\n        return this\n    }\n\n    // has symbols\n    isDirty(custom){\n        if(custom){\n            return this.str.includes(custom)\n        }else {\n            return this.symbols.some((item) => {\n                return this.str.includes(item)\n            })\n        }\n    }\n}\n\nfunction sterilizer(str) {\n    return new Sterilizer(str);\n}\n\n/**\n * @desc  Validate input value with sequelize similar interface\n * @param {any} val input will be validated\n * @param {object} opt validate option\n * @return {boolean} true or false\n */\nclass Validator {\n    constructor(val, opt) {\n        this.val = val;\n        this.opt = opt || {};\n    }\n\n    check() {\n        try {\n            // if it sets optional && invalid value\n            if (this.opt.isOptional == true) {\n                if (this.isOptional()) {\n                    return true;\n                }\n            }\n\n            // check all the conditions are right\n            for (let rule in this.opt) {\n                if (rule == \"isOptional\") continue;\n                if (!this[rule](this.opt[rule])) {\n                    return false;\n                }\n            }\n\n            return true;\n        } catch (e) {\n            console.error(e);\n        }\n    }\n\n    isOptional() {\n        let _invalid = [\"\", undefined, null];\n        return _invalid.includes(this.val) ? true : false;\n    }\n\n    is(re) {\n        if (!re instanceof RegExp)\n            throw new Error(\"[Validator::is] param should be a RegExp\");\n        return re.test(this.val);\n    }\n\n    not(re) {\n        return !this.is(re);\n    }\n\n    len(range) {\n        let length = this.val.length;\n        if (_typeof(range) == \"array\") {\n            return length >= range[0] && length <= range[1];\n        }\n        if (_typeof(range) == \"string\" || _typeof(range) == \"number\") {\n            return length == range;\n        }\n        throw new Error(\"[Validator::len] param should be array|string|number\");\n    }\n\n    isIn(options) {\n        if (_typeof(options) != \"array\") {\n            throw new Error(\"[Validator::isIn] param should be an array\");\n        }\n        return options.includes(this.val) ? true : false;\n    }\n\n    notIn(options) {\n        return !this.isIn(options);\n    }\n\n    isAlpha(status) {\n        return status ? /^[A-Z]+$/i.test(this.val) : true;\n    }\n\n    isAlphanumeric(status) {\n        return status ? /^[A-Z0-9]+$/i.test(this.val) : true;\n    }\n\n    isNumeric(status) {\n        return status ? /^[0-9]+$/.test(this.val) : true;\n    }\n\n    isInt(status) {\n        return status ? /^(?:[-+]?(?:0|[1-9][0-9]*))$/.test(this.val) : true;\n    }\n\n    isFloat(status) {\n        return status ? /^[-+]?[0-9]*\\.?[0-9]+$/.test(this.val) : true;\n    }\n\n    max(maxValue) {\n        return this.val <= maxValue;\n    }\n\n    min(minValue) {\n        return this.val >= minValue;\n    }\n\n    // Chinese Characters\n    isChinese(status) {\n        return status ? /^[\\u4e00-\\u9fa5]+$/.test(this.val) : true;\n    }\n\n    // Chinese Identity Card (should be verfied the validity again)\n    isIdentityCard(status) {\n        return status\n            ? /^[1-9]\\d{5}(18|19|20)\\d{2}((0[1-9])|(1[0-2]))(([0-2][1-9])|10|20|30|31)\\d{3}[0-9Xx]$/.test(\n                this.val\n            )\n            : true;\n    }\n\n    // Chinese Mobile Phone Number\n    isMobilePhone(status) {\n        return status ? /^1[3456789]\\d{9}$/.test(this.val) : true;\n    }\n\n    // Only English domain\n    isEmail(status) {\n        return status\n            ? /^([A-Za-z0-9_\\-\\.\\u4e00-\\u9fa5])+@([A-Za-z0-9_\\-\\.])+\\.([A-Za-z]{2,8})$/.test(this.val)\n            : true;\n    }\n\n    // not empty allowed\n    notEmpty(status){\n        return status\n            ? !/\\s/gm.test(this.val)\n            : true;\n    }\n}\n\nfunction validator(val, opt) {\n    const ins = new Validator(val, opt);\n    return ins.check();\n}\n\nexports.Sterilizer = Sterilizer;\nexports.Validator = Validator;\nexports.sterilizer = sterilizer;\nexports.validator = validator;\n"],"sourceRoot":""}