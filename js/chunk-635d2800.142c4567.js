(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-635d2800"],{"04d1":function(t,e,n){var i=n("342f"),a=i.match(/firefox\/(\d+)/i);t.exports=!!a&&+a[1]},"4e82":function(t,e,n){"use strict";var i=n("23e7"),a=n("e330"),o=n("59ed"),c=n("7b0b"),r=n("07fa"),s=n("083a"),u=n("577e"),d=n("d039"),l=n("addb"),f=n("a640"),v=n("04d1"),p=n("d998"),h=n("2d00"),m=n("512ce"),b=[],g=a(b.sort),y=a(b.push),_=d((function(){b.sort(void 0)})),C=d((function(){b.sort(null)})),j=f("sort"),O=!d((function(){if(h)return h<70;if(!(v&&v>3)){if(p)return!0;if(m)return m<603;var t,e,n,i,a="";for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(i=0;i<47;i++)b.push({k:e+i,v:n})}for(b.sort((function(t,e){return e.v-t.v})),i=0;i<b.length;i++)e=b[i].k.charAt(0),a.charAt(a.length-1)!==e&&(a+=e);return"DGBEFHACIJK"!==a}})),k=_||!C||!j||!O,A=function(t){return function(e,n){return void 0===n?-1:void 0===e?1:void 0!==t?+t(e,n)||0:u(e)>u(n)?1:-1}};i({target:"Array",proto:!0,forced:k},{sort:function(t){void 0!==t&&o(t);var e=c(this);if(O)return void 0===t?g(e):g(e,t);var n,i,a=[],u=r(e);for(i=0;i<u;i++)i in e&&y(a,e[i]);l(a,A(t)),n=r(a),i=0;while(i<n)e[i]=a[i++];while(i<u)s(e,i++);return e}})},"4ec9":function(t,e,n){n("6f48")},"512ce":function(t,e,n){var i=n("342f"),a=i.match(/AppleWebKit\/(\d+)\./);t.exports=!!a&&+a[1]},"6f48":function(t,e,n){"use strict";var i=n("6d61"),a=n("6566");i("Map",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),a)},"9e9a":function(t,e,n){"use strict";n("aa09")},a83c:function(t,e,n){"use strict";n.r(e);n("b0c0");var i=function(){var t=this,e=t._self._c;return e("uc",{staticClass:"m-dashboard-theme m-dashboard-skin",attrs:{icon:"el-icon-brush",title:"主题装扮","tab-list":t.tabList},scopedSlots:t._u([{key:"header",fn:function(){return[e("a",{staticClass:"u-link el-button el-button--default el-button--mini is-round is-plain",attrs:{href:"/vip/mall?category=virtual",target:"_blank"}},[e("i",{staticClass:"el-icon-shopping-cart-2"}),t._v(" 前往获取装扮")])]},proxy:!0}])},[e("div",{staticClass:"m-theme-box"},[e("div",{staticClass:"m-theme-left"},[e("div",{staticClass:"u-top"},[t.previewUrl?e("img",{staticClass:"u-img",attrs:{src:t.previewUrl,fit:"contain"}}):e("div",{staticClass:"u-no-preview"},[t._v(" 暂 无"),e("br"),t._v(" 预 览 ")])]),e("div",{staticClass:"u-bottom"},t._l(t.themeType,(function(n,i){return e("div",{key:i,staticClass:"u-type-box"},[t.isStatus(n)?e("img",{staticClass:"u-img",attrs:{src:t.getActiveImg(n),fit:"contain"},on:{click:function(e){return t.preview(n)}}}):n.statue?e("div",{staticClass:"u-no-select"},[t._v(" 暂 无"),e("br"),t._v(" 设 置 ")]):e("div",{staticClass:"u-no-select"},[t._v(" 敬 请"),e("br"),t._v(" 期 待 ")]),e("div",{staticClass:"u-title"},[t._v(t._s(n.name))])])})),0)]),e("div",{staticClass:"m-theme-right"},[e("div",{staticClass:"u-tips"},[e("i",{staticClass:"el-icon-warning-outline"}),t._v(" 仅限同主题配置，该主题下部位可分别激活")]),e("div",{staticClass:"u-theme"},t._l(t.decoration,(function(n,i){return e("div",{key:i+n.val,staticClass:"u-decoration-list"},[e("div",{staticClass:"u-title"},[e("span",{staticClass:"u-name"},[e("i",{staticClass:"el-icon-collection-tag"}),t._v(" "+t._s(n.name))]),e("a",{staticClass:"u-buy",attrs:{href:"/vip/mall?category=virtual&sub_category=skin&search=".concat(n.name),target:"_blank"}},[e("i",{staticClass:"el-icon-shopping-cart-2"}),t._v(" 前往获取")])]),e("div",{staticClass:"u-decoration-item"},t._l(n.list,(function(n,a){return e("div",{key:"c"+a,staticClass:"u-picbox",attrs:{title:n.name}},[e("div",{staticClass:"u-pic",class:n.isHave?n.using?"select":"":"noHave",on:{click:function(e){return t.setStatus(i,a,n)}}},[e("el-image",{attrs:{src:t._f("showDecoration")(n),fit:"contain"}})],1),e("div",{staticClass:"u-decoration-name"},[t._v(t._s(n.text))])])})),0)])})),0)])]),e("div",{staticClass:"u-btn"},[e("el-button",{attrs:{type:"primary"},on:{click:t.decorationSubmit}},[t._v("确认")]),e("el-button",{on:{click:t.reset}},[t._v("重置")])],1)])},a=[],o=n("ade3"),c=(n("e9c4"),n("4de4"),n("d3b7"),n("159b"),n("7db0"),n("4e82"),n("14d9"),n("4ec9"),n("3ca3"),n("ddb0"),n("b64b"),n("99af"),n("d81d"),n("b547")),r=n("aa38"),s=n("c9d2"),u=n("65c2"),d=n("2ef0"),l=n("46c1"),f={name:"theme",props:[],data:function(){return{tabList:l["e"],uid:s["a"].getInfo().uid,themeType:[{name:"个人名片",type:"atcard",statue:1},{name:"主页风格",type:"homebg",statue:1},{name:"侧栏主题",type:"sidebar",statue:1},{name:"首页日历",type:"calendar",statue:1},{name:"评论皮肤",type:"comment",statue:1}],previewUrl:"",decoration:[],decorationJson:[],decorationActivate:null,originalActivateName:null,back:{}}},computed:{},methods:{reset:function(){var t=Object(d["cloneDeep"])(this.back);this.previewUrl="",this.decoration=t.decoration,this.decorationActivate=t.decorationActivate,this.originalActivateName=t.originalActivateName},loadDecoration:function(){var t=this;Object(r["c"])().then((function(e){sessionStorage.setItem("decoration_json",JSON.stringify(e.data)),t.decorationJson=e.data,Object(r["b"])().then((function(e){var n=["atcard","homebg","sidebar","calendar","comment"],i=e.data.data.filter((function(t){return""!=t.type&&-1!=n.indexOf(t.type)}));t.decoration=t.formattingData(i,"val"),t.back.decoration=Object(d["cloneDeep"])(t.decoration),t.back.decorationActivate=Object(d["cloneDeep"])(t.decorationActivate),t.back.originalActivateName=Object(d["cloneDeep"])(t.originalActivateName)}))}))},formattingData:function(t,e){var n=this,i={},a=[],c=[],r=[{type:"atcard",text:"个人名片",sort:1,isHave:0,using:0},{type:"homebg",text:"主页风格",sort:2,isHave:0,using:0},{type:"sidebar",text:"侧栏主题",sort:3,isHave:0,using:0},{type:"calendar",text:"首页日历",sort:4,isHave:0,using:0},{type:"comment",text:"评论皮肤",sort:5,isHave:0,using:0}];t.forEach((function(t,a){var o=r.find((function(e){return e.type==t.type}));o&&(t.sort=o.sort,i[t[e]]?i[t[e]].push(t):i[t[e]]=[t],t.using&&(n.originalActivateName=t[e]))}));var s=function(t){return function(e,n){return e[t]-n[t]}},u=function(t,e,n){var i=new Map,a=[],o=Object(d["cloneDeep"])(r),s=t.filter((function(t){return!i.has(t[e])&&i.set(t[e],1)}));return o.forEach((function(t,e){if(t.val=n,-1===c.indexOf(n)){var i=s.find((function(e){return e.type==t.type}));i&&(t.isHave=1,t.using=i.using)}a.push(t)})),a},l=Object(d["cloneDeep"])(this.decorationJson);return Object.keys(l).forEach((function(t,e){if(!i[t]&&1==l[t].status){c.push(t);var n=Object(d["cloneDeep"])(r),a=[];n.forEach((function(e){e.val=t,a.push(e)})),i[t]=a}})),Object.keys(i).forEach((function(t,c){var r,d;t==n.originalActivateName&&(n.decorationActivate=c),a.push((d={},Object(o["a"])(d,e,t),Object(o["a"])(d,"name",null===(r=l[t])||void 0===r?void 0:r.desc),Object(o["a"])(d,"list",u(i[t],"type",t).sort(s("sort"))),d))})),a},noSet:function(){for(var t=this.decorationActivate,e=this.decoration[t]?this.decoration[t].list:[],n=0;n<e.length;n++)e[n].using=0;this.decorationActivate=null,this.previewUrl=""},setStatus:function(t,e,n){if(n.isHave){1==n.using?n.using=0:n.using=1;var i=this.decorationActivate;if(t!=i){for(var a=this.decoration[i]?this.decoration[i].list:[],o=0;o<a.length;o++)a[o].using=0;this.decorationActivate=t}}},isStatus:function(t){var e=this.decorationActivate,n=this.decoration[e]?this.decoration[e].list:[],i=n.find((function(e){return e.type==t.type&&1==e.using}));return!!i},preview:function(t){this.previewUrl=this.getActiveImg(t)},getActiveImg:function(t){var e=this.decorationActivate,n=this.decoration[e]?this.decoration[e].val:null,i="https://cdn.jx3box.com/static/dashboard/img/no.5fe91973.svg";return n?u["__imgPath"]+"decoration/images/".concat(n,"/").concat(t.type,"_preview.png"):i},decorationSubmit:function(){var t=this,e=this.decorationActivate,n=[],i=e?this.decoration[e].val:"",a=Object(d["flatten"])(this.decoration.map((function(t){return t.list}))),o=a.map((function(t){return 1==t.using&&n.push(t.type),{val:t.val,using:t.using,type:t.type}}));Object(r["h"])(o).then((function(e){var a={name:i,type:n};i||(a.name=!1),localStorage.setItem("decoration_all",JSON.stringify(a)),sessionStorage.removeItem("decoration_me"+t.uid),sessionStorage.removeItem("decoration_sidebar"+t.uid),sessionStorage.removeItem("decoration_calendar"),sessionStorage.removeItem("decoration_atcard"+t.uid),t.$message({message:"主题更新成功",type:"success"})}))}},mounted:function(){this.loadDecoration()},filters:{showDecoration:function(t){return u["__imgPath"]+"decoration/images/".concat(t.val,"/").concat(t.type,"_preview.png")}},components:{uc:c["a"]}},v=f,p=(n("9e9a"),n("2877")),h=Object(p["a"])(v,i,a,!1,null,null,null);e["default"]=h.exports},aa09:function(t,e,n){},aa38:function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"h",(function(){return s})),n.d(e,"c",(function(){return u})),n.d(e,"d",(function(){return d})),n.d(e,"g",(function(){return l})),n.d(e,"j",(function(){return f})),n.d(e,"e",(function(){return v})),n.d(e,"f",(function(){return p})),n.d(e,"i",(function(){return h})),n.d(e,"a",(function(){return m}));n("99af");var i=n("41cb"),a=n("bc3a"),o=n.n(a),c=n("65c2");function r(t){return Object(i["b"])().get("/api/cms/user/decoration",{params:t})}function s(t){return Object(i["b"])().post("/api/cms/user/decoration",t)}function u(){var t=c["__imgPath"]+"decoration/index.json?".concat(Date.now(),"}");return o.a.get(t)}function d(){return o.a.get("".concat(c["__dataPath"],"emotion/output/catalog.json?").concat(Date.now()))}function l(t,e){return Object(i["b"])().post("/api/cms/user/decoration/check-suit/".concat(t,"/").concat(e,"/for/avatar"))}function f(t){return Object(i["b"])().put("/api/cms/user/my/avatar-frame",t)}function v(){return Object(i["b"])().get("/api/cms/user/config/honor")}function p(t){return Object(i["c"])({mute:!0}).get("/api/next2/user/"+t+"/honors").then((function(t){return t.data.data}))}function h(t){return Object(i["b"])().put("/api/cms/user/honor/use/".concat(t))}function m(){return Object(i["b"])().delete("/api/cms/user/honor/use")}},d998:function(t,e,n){var i=n("342f");t.exports=/MSIE|Trident/.test(i)}}]);
//# sourceMappingURL=chunk-635d2800.142c4567.js.map