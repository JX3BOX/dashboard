{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.array.reduce.js","webpack:///./src/views/tasks.vue?c366","webpack:///./src/views/tasks.vue","webpack:///./src/service/tasks.js","webpack:///./src/components/task/item.vue","webpack:///src/components/task/item.vue","webpack:///./src/components/task/item.vue?9299","webpack:///./src/components/task/item.vue?cf2c","webpack:///src/views/tasks.vue","webpack:///./src/views/tasks.vue?33ea","webpack:///./src/views/tasks.vue?e900","webpack:///./node_modules/core-js/modules/es.iterator.reduce.js","webpack:///./node_modules/core-js/modules/esnext.iterator.reduce.js","webpack:///./node_modules/core-js/internals/array-reduce.js"],"names":["$","$reduce","left","arrayMethodIsStrict","CHROME_VERSION","IS_NODE","CHROME_BUG","FORCED","target","proto","forced","reduce","callbackfn","length","arguments","this","undefined","render","_vm","_c","_self","staticClass","_m","directives","name","rawName","value","loading","expression","_l","list","item","index","key","attrs","on","checkFinish","Object","keys","group","task","class","groupInfo","open","img","url","_v","_s","$event","_e","staticRenderFns","getTasks","params","$pay","get","getCheckTasks","id","concat","data","task_icon","defaultTaskIcon","action_type_desc","task_url","task_detail","attr","attr_name","count","hasFinish","props","experience","points","computed","__imgPath","methods","$emit","component","components","taskItem","loadTasks","_this","is_limit_everyday","os_visible","then","res","filter","task_group","action_type","sort","a","b","numA","parseInt","split","pop","numB","acc","cur","push","finally","loadAc","_this2","getBreadcrumb","replace","JSON","parse","_this3","$notify","title","message","type","location","reload","mounted","iterate","aCallable","anObject","getIteratorDirect","$TypeError","TypeError","real","reducer","record","noInitial","accumulator","counter","IS_RECORD","toObject","IndexedObject","lengthOfArrayLike","REDUCE_EMPTY","createMethod","IS_RIGHT","that","argumentsLength","memo","O","self","i","module","exports","right"],"mappings":"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","file":"js/chunk-16d0b02a.0a8bdc80.js","sourcesContent":["'use strict';\nvar $ = require('../internals/export');\nvar $reduce = require('../internals/array-reduce').left;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar CHROME_VERSION = require('../internals/environment-v8-version');\nvar IS_NODE = require('../internals/environment-is-node');\n\n// Chrome 80-82 has a critical bug\n// https://bugs.chromium.org/p/chromium/issues/detail?id=1049982\nvar CHROME_BUG = !IS_NODE && CHROME_VERSION > 79 && CHROME_VERSION < 83;\nvar FORCED = CHROME_BUG || !arrayMethodIsStrict('reduce');\n\n// `Array.prototype.reduce` method\n// https://tc39.es/ecma262/#sec-array.prototype.reduce\n$({ target: 'Array', proto: true, forced: FORCED }, {\n  reduce: function reduce(callbackfn /* , initialValue */) {\n    var length = arguments.length;\n    return $reduce(this, callbackfn, length, length > 1 ? arguments[1] : undefined);\n  }\n});\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./tasks.vue?vue&type=style&index=0&id=04a203e5&prod&lang=less\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"m-credit m-tasks\"},[_vm._m(0),_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"m-tasks-list\"},[_vm._l((_vm.list),function(item,index){return _c('taskItem',{key:index,attrs:{\"data\":item},on:{\"update\":_vm.checkFinish}})}),(Object.keys(_vm.group).length)?_vm._l((_vm.group),function(task,key){return _c('div',{key:key,staticClass:\"u-item u-group\",class:_vm.groupInfo[key].open ? 'open' : 'close'},[_c('div',{staticClass:\"u-parent u-item\"},[_c('img',{staticClass:\"u-img\",attrs:{\"src\":_vm.groupInfo[key].img,\"alt\":_vm.groupInfo[key].name}}),_c('div',{staticClass:\"u-box\"},[_c('a',{staticClass:\"u-title\",attrs:{\"href\":_vm.groupInfo[key].url,\"target\":\"_blank\"}},[_vm._v(_vm._s(_vm.groupInfo[key].name))]),_c('el-button',{attrs:{\"size\":\"small\",\"type\":_vm.groupInfo[key].open ? 'primary' : ''},on:{\"click\":function($event){_vm.groupInfo[key].open = !_vm.groupInfo[key].open}}},[_vm._v(_vm._s(_vm.groupInfo[key].open ? \"折叠\" : \"展开\")),_c('i',{class:_vm.groupInfo[key].open ? 'el-icon-caret-top' : 'el-icon-caret-right'})])],1)]),_vm._l((task),function(item,index){return _c('taskItem',{key:index,attrs:{\"data\":item},on:{\"update\":_vm.checkFinish}})})],2)}):_vm._e()],2)])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('h2',{staticClass:\"u-title\"},[_c('i',{staticClass:\"el-icon-coffee-cup\"}),_vm._v(\" 任务中心\")])\n}]\n\nexport { render, staticRenderFns }","import { $pay } from \"@jx3box/jx3box-common/js/https\";\n\nfunction getTasks(params) {\n    return $pay().get(`/api/personal/task`, {\n        params,\n    });\n}\nfunction getCheckTasks(id) {\n    return $pay().get(`/api/personal/task/${id}/check-status`);\n}\n\nexport { getTasks, getCheckTasks };\n","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.data)?_c('div',{staticClass:\"u-item\"},[_c('img',{staticClass:\"u-img\",attrs:{\"src\":_vm.data.task.task_icon || _vm.defaultTaskIcon,\"alt\":_vm.data.task.action_type_desc}}),_c('div',{staticClass:\"u-box\"},[_c('div',{staticClass:\"u-info\"},[_c('a',{staticClass:\"u-title\",attrs:{\"href\":_vm.data.task.task_url,\"target\":\"_blank\"}},[_vm._v(_vm._s(_vm.data.task.action_type_desc))]),_c('span',{staticClass:\"u-desc\"},[_vm._v(\" \"+_vm._s(_vm.data.task.task_detail)+\" ∕ \"),_vm._l((_vm.data.attr),function(attr,key){return _c('span',{key:key,staticClass:\"u-attr\"},[_vm._v(\" \"+_vm._s(_vm.attr_name[attr.name])+\" +\"+_vm._s(attr.count)+\" \")])})],2)]),_c('div',{staticClass:\"u-btn\"},[_c('el-button',{attrs:{\"size\":\"small\",\"type\":_vm.data.hasFinish ? 'success' : 'warning',\"disabled\":_vm.data.hasFinish,\"icon\":(_vm.data.hasFinish && 'el-icon-check') || ''},on:{\"click\":function($event){return _vm.checkFinish(_vm.data.task.id)}}},[_vm._v(_vm._s(_vm.data.hasFinish ? \"已完成\" : \"领取奖励\"))])],1)])]):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"u-item\" v-if=\"data\">\n        <img class=\"u-img\" :src=\"data.task.task_icon || defaultTaskIcon\" :alt=\"data.task.action_type_desc\" />\n        <div class=\"u-box\">\n            <div class=\"u-info\">\n                <a class=\"u-title\" :href=\"data.task.task_url\" target=\"_blank\">{{ data.task.action_type_desc }}</a>\n                <span class=\"u-desc\">\n                    {{ data.task.task_detail }} ∕\n                    <span v-for=\"(attr, key) in data.attr\" :key=\"key\" class=\"u-attr\">\n                        {{ attr_name[attr.name] }} +{{ attr.count }}\n                    </span>\n                </span>\n            </div>\n            <div class=\"u-btn\">\n                <el-button\n                    size=\"small\"\n                    :type=\"data.hasFinish ? 'success' : 'warning'\"\n                    :disabled=\"data.hasFinish\"\n                    :icon=\"(data.hasFinish && 'el-icon-check') || ''\"\n                    @click=\"checkFinish(data.task.id)\"\n                    >{{ data.hasFinish ? \"已完成\" : \"领取奖励\" }}</el-button\n                >\n            </div>\n        </div>\n    </div>\n</template>\n<script>\nimport { __imgPath } from \"@jx3box/jx3box-common/data/jx3box.json\";\nexport default {\n    name: \"tasks\",\n    props: [\"data\"],\n    data: function () {\n        return {\n            attr_name: {\n                experience: \"经验\",\n                points: \"积分\",\n            },\n        };\n    },\n    computed: {\n        defaultTaskIcon() {\n            return __imgPath + \"image/common/jx3box_black.svg\";\n        },\n    },\n    methods: {\n        checkFinish(id) {\n            this.$emit(\"update\", id);\n        },\n    },\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./item.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./item.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./item.vue?vue&type=template&id=4c47597e\"\nimport script from \"./item.vue?vue&type=script&lang=js\"\nexport * from \"./item.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n    <div class=\"m-credit m-tasks\">\n        <h2 class=\"u-title\"><i class=\"el-icon-coffee-cup\"></i> 任务中心</h2>\n        <div class=\"m-tasks-list\" v-loading=\"loading\">\n            <taskItem v-for=\"(item, index) in list\" :key=\"index\" :data=\"item\" @update=\"checkFinish\" />\n            <!-- 任务组 -->\n            <template v-if=\"Object.keys(group).length\">\n                <div\n                    class=\"u-item u-group\"\n                    v-for=\"(task, key) in group\"\n                    :key=\"key\"\n                    :class=\"groupInfo[key].open ? 'open' : 'close'\"\n                >\n                    <div class=\"u-parent u-item\">\n                        <img class=\"u-img\" :src=\"groupInfo[key].img\" :alt=\"groupInfo[key].name\" />\n                        <div class=\"u-box\">\n                            <a class=\"u-title\" :href=\"groupInfo[key].url\" target=\"_blank\">{{ groupInfo[key].name }}</a>\n                            <el-button\n                                size=\"small\"\n                                :type=\"groupInfo[key].open ? 'primary' : ''\"\n                                @click=\"groupInfo[key].open = !groupInfo[key].open\"\n                                >{{ groupInfo[key].open ? \"折叠\" : \"展开\"\n                                }}<i :class=\"groupInfo[key].open ? 'el-icon-caret-top' : 'el-icon-caret-right'\"></i\n                            ></el-button>\n                        </div>\n                    </div>\n                    <taskItem v-for=\"(item, index) in task\" :key=\"index\" :data=\"item\" @update=\"checkFinish\" />\n                </div>\n            </template>\n        </div>\n    </div>\n</template>\n<script>\nimport { getTasks, getCheckTasks } from \"@/service/tasks.js\";\nimport { __imgPath } from \"@jx3box/jx3box-common/data/jx3box.json\";\nimport taskItem from \"@/components/task/item.vue\";\nimport { getBreadcrumb } from \"@jx3box/jx3box-common/js/api_misc.js\";\nexport default {\n    name: \"tasks\",\n    components: {\n        taskItem,\n    },\n    data: function () {\n        return {\n            loading: false,\n            list: [],\n            group: {},\n            groupInfo: {},\n        };\n    },\n    methods: {\n        // 加载任务列表\n        loadTasks() {\n            this.loading = true;\n            getTasks({ is_limit_everyday: 0, os_visible: 1 })\n                .then((res) => {\n                    const list = res.data.data.list;\n                    this.list = list.filter((item) => {\n                        return item.task.task_group == \"\" && item?.task.action_type != \"task_account_bind_github\";\n                    });\n                    this.group = list\n                        .sort((a, b) => {\n                            const numA = parseInt(a.task.action_type.split(\"_\").pop(), 10);\n                            const numB = parseInt(b.task.action_type.split(\"_\").pop(), 10);\n                            return numA - numB;\n                        })\n                        .reduce((acc, cur) => {\n                            if (cur.task.task_group) {\n                                if (!acc[cur.task.task_group]) {\n                                    acc[cur.task.task_group] = [];\n                                }\n                                acc[cur.task.task_group].push(cur);\n                            }\n                            return acc;\n                        }, {});\n                })\n                .finally(() => {\n                    this.loading = false;\n                });\n        },\n        loadAc() {\n            getBreadcrumb(\"task_group_info\").then((data) => {\n                data = data.replace(/ /g, \"\");\n                this.groupInfo = JSON.parse(data);\n            });\n        },\n        // 点击完成\n        checkFinish(id) {\n            getCheckTasks(id).then((res) => {\n                if (res.data.data.hasFinish) {\n                    this.$notify({\n                        title: \"成功\",\n                        message: \"完成任务，获得奖励\",\n                        type: \"success\",\n                    });\n                    location.reload();\n                } else {\n                    this.$notify({\n                        title: \"提示\",\n                        message: \"您没有完成任务\",\n                        type: \"warning\",\n                    });\n                }\n            });\n        },\n    },\n    mounted: function () {\n        this.loadTasks();\n        this.loadAc();\n    },\n};\n</script>\n<style lang=\"less\">\n@import \"~@/assets/css/tasks.less\";\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./tasks.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./tasks.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./tasks.vue?vue&type=template&id=04a203e5\"\nimport script from \"./tasks.vue?vue&type=script&lang=js\"\nexport * from \"./tasks.vue?vue&type=script&lang=js\"\nimport style0 from \"./tasks.vue?vue&type=style&index=0&id=04a203e5&prod&lang=less\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar $ = require('../internals/export');\nvar iterate = require('../internals/iterate');\nvar aCallable = require('../internals/a-callable');\nvar anObject = require('../internals/an-object');\nvar getIteratorDirect = require('../internals/get-iterator-direct');\n\nvar $TypeError = TypeError;\n\n// `Iterator.prototype.reduce` method\n// https://tc39.es/ecma262/#sec-iterator.prototype.reduce\n$({ target: 'Iterator', proto: true, real: true }, {\n  reduce: function reduce(reducer /* , initialValue */) {\n    anObject(this);\n    aCallable(reducer);\n    var record = getIteratorDirect(this);\n    var noInitial = arguments.length < 2;\n    var accumulator = noInitial ? undefined : arguments[1];\n    var counter = 0;\n    iterate(record, function (value) {\n      if (noInitial) {\n        noInitial = false;\n        accumulator = value;\n      } else {\n        accumulator = reducer(accumulator, value, counter);\n      }\n      counter++;\n    }, { IS_RECORD: true });\n    if (noInitial) throw new $TypeError('Reduce of empty iterator with no initial value');\n    return accumulator;\n  }\n});\n","'use strict';\n// TODO: Remove from `core-js@4`\nrequire('../modules/es.iterator.reduce');\n","'use strict';\nvar aCallable = require('../internals/a-callable');\nvar toObject = require('../internals/to-object');\nvar IndexedObject = require('../internals/indexed-object');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\n\nvar $TypeError = TypeError;\n\nvar REDUCE_EMPTY = 'Reduce of empty array with no initial value';\n\n// `Array.prototype.{ reduce, reduceRight }` methods implementation\nvar createMethod = function (IS_RIGHT) {\n  return function (that, callbackfn, argumentsLength, memo) {\n    var O = toObject(that);\n    var self = IndexedObject(O);\n    var length = lengthOfArrayLike(O);\n    aCallable(callbackfn);\n    if (length === 0 && argumentsLength < 2) throw new $TypeError(REDUCE_EMPTY);\n    var index = IS_RIGHT ? length - 1 : 0;\n    var i = IS_RIGHT ? -1 : 1;\n    if (argumentsLength < 2) while (true) {\n      if (index in self) {\n        memo = self[index];\n        index += i;\n        break;\n      }\n      index += i;\n      if (IS_RIGHT ? index < 0 : length <= index) {\n        throw new $TypeError(REDUCE_EMPTY);\n      }\n    }\n    for (;IS_RIGHT ? index >= 0 : length > index; index += i) if (index in self) {\n      memo = callbackfn(memo, self[index], index, O);\n    }\n    return memo;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.reduce` method\n  // https://tc39.es/ecma262/#sec-array.prototype.reduce\n  left: createMethod(false),\n  // `Array.prototype.reduceRight` method\n  // https://tc39.es/ecma262/#sec-array.prototype.reduceright\n  right: createMethod(true)\n};\n"],"sourceRoot":""}