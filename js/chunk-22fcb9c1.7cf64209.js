(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-22fcb9c1"],{"46e8":function(n,t,e){"use strict";e.d(t,"o",(function(){return r})),e.d(t,"e",(function(){return o})),e.d(t,"m",(function(){return s})),e.d(t,"n",(function(){return m})),e.d(t,"j",(function(){return b})),e.d(t,"a",(function(){return l})),e.d(t,"h",(function(){return h})),e.d(t,"k",(function(){return v})),e.d(t,"b",(function(){return _})),e.d(t,"p",(function(){return p})),e.d(t,"d",(function(){return d})),e.d(t,"f",(function(){return f})),e.d(t,"g",(function(){return g})),e.d(t,"l",(function(){return j})),e.d(t,"i",(function(){return O})),e.d(t,"q",(function(){return w})),e.d(t,"c",(function(){return y}));var c=e("41cb"),a=e("bc3a"),i=e.n(a),u=e("65c2");function o(){return Object(c["a"])().get("/api/cms/user/my/profile")}function r(n){return Object(c["a"])().put("/api/cms/user/my/profile",n)}function s(n){return Object(c["a"])().put("/api/cms/user/my/avatar",n)}function p(n){return Object(c["a"])().post("/api/cms/upload/avatar",n)}function d(){var n=u["__imgPath"]+"avatar/index.json";return i.a.get(n)}function f(n){return Object(c["a"])().get("/api/cms/user/".concat(n,"/info"),{params:{__no_cache:1}})}function m(n){return Object(c["a"])().put("/api/cms/user/my/password",n)}function l(n){return Object(c["a"])().get("/api/cms/user/account/email/valid",{params:{email:n}})}function h(n){return Object(c["a"])().post("/api/cms/user/account/email/bind",n)}function b(n){return Object(c["a"])().put("/api/cms/user/account/email/verify",{code:n},{app:"jx3box"})}function _(){return Object(c["a"])().get("/api/cms/account/oauth/status")}function v(n){return Object(c["a"])({popType:"alert"}).delete("/api/cms/account/oauth/unbind/".concat(n))}function g(){return Object(c["a"])().get("/api/cms/wechat/mp/bind")}function j(){return Object(c["a"])().get("/api/cms/wechat/mp/unbind")}function O(n){return Object(c["a"])().post("/api/cms/account/oauth/phone/bind",n,{app:"jx3box"})}function w(n){return Object(c["a"])().put("/api/cms/account/oauth/phone/verify",n,{app:"jx3box"})}function y(n){return Object(c["a"])().get("/api/cms/account/oauth/phone/check",{params:n})}},"6ecd":function(n,t,e){"use strict";e.r(t);e("b0c0");var c=function(){var n=this,t=n._self._c;return t("uc",{staticClass:"m-auth"},[t("div",{staticClass:"m-block"},[t("div",{domProps:{innerHTML:n._s(n.content)}})]),t("div",{directives:[{name:"loading",rawName:"v-loading",value:n.loading,expression:"loading"}],staticClass:"m-dashboard-content-list"},n._l(n.oauth,(function(e){return t("div",{key:e,staticClass:"m-item"},[t("span",{staticClass:"u-profile-item"},[t("img",{class:"u-"+e,attrs:{"svg-inline":"",src:n.icon(e)}}),t("span",{staticClass:"u-status"},[n._v(" "+n._s(n.types[e].name)+" ")])]),"user_phone"!=e||"user_phone"==e&&n.level>=3?[n.checkStatus(e)?t("i",{staticClass:"el-icon-success u-bind"}):t("el-button",{staticClass:"u-button",attrs:{type:n.checkStatus(e)?"danger":"primary"},on:{click:function(t){return n.toBind(e)}}},[n._v(" 前往绑定 ")])]:n._e()],2)})),0)])},a=[],i=(e("14d9"),e("d3b7"),e("cc9a")),u=e("b547"),o=e("65c2"),r=e("46e8"),s=e("c9d2"),p=e("8e44"),d={wechat_mp_openid:{icon:"official",name:"微信公众号"},wechat_miniprogram_openid:{icon:"app",name:"微信小程序"},user_phone:{icon:"phone",name:"手机号"}},f={name:"auth",components:{uc:u["a"]},data:function(){return{content:"",data:{},oauth:["wechat_mp_openid","wechat_miniprogram_openid","user_phone"],types:d,loading:!1,info:{}}},computed:{level:function(){var n;return s["a"].getLevel((null===(n=this.info)||void 0===n?void 0:n.experience)||0)}},mounted:function(){var n=this;Object(i["b"])("auth_ac").then((function(t){n.content=t})),this.loadAuth(),this.loadUserInfo()},methods:{checkStatus:function(n){return!!this.data[n]},getNickname:function(n){return this.data[n+"_name"]||"已绑定"},icon:function(n){return o["__cdn"]+"design/user/"+d[n]["icon"]+".png"},loadAuth:function(){var n=this;this.loading=!0,Object(r["b"])().then((function(t){n.data=t.data.data})).finally((function(){n.loading=!1}))},toBind:function(n){var t={wechat_mp_openid:"notice",wechat_miniprogram_openid:"connect",user_phone:"notice"}[n];this.$router.push({name:t})},loadUserInfo:function(){var n=this;Object(p["b"])().then((function(t){n.info=t.data.data||{}}))}}},m=f,l=(e("f228"),e("2877")),h=Object(l["a"])(m,c,a,!1,null,null,null);t["default"]=h.exports},ef67:function(n,t,e){},f228:function(n,t,e){"use strict";e("ef67")}}]);
//# sourceMappingURL=chunk-22fcb9c1.7cf64209.js.map