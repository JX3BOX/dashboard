{"version":3,"sources":["webpack:///./src/service/profile.js","webpack:///./src/views/config.vue?6272","webpack:///src/views/config.vue","webpack:///./src/views/config.vue?7a41","webpack:///./src/views/config.vue","webpack:///./src/views/config.vue?9681"],"names":["getProfile","$","get","__server","updateProfile","data","post","updateAvatar","updatePassword","checkEmailStatus","checkEmailAvailable","email","params","user_email","sendBindEmail","sendVerifyEmail","checkOAuth","unbindOAuth","getConf","setConf","render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","attrs","model","value","conf","callback","$$v","$set","expression","on","publish","staticRenderFns","component"],"mappings":"kHAAA,obAQA,SAASA,IACL,OAAOC,OAAEC,IAAIC,cAAW,qBAE5B,SAASC,EAAcC,GACnB,OAAOJ,OAAEK,KAAKH,cAAW,oBAAqBE,GAIlD,SAASE,EAAaF,GAClB,OAAOJ,OAAEK,KAAKH,cAAW,0BAA2BE,GAIxD,SAASG,EAAeH,GACpB,OAAOJ,OAAEK,KAAKH,cAAW,4BAA6BE,GAI1D,SAASI,IACL,OAAOR,OAAEC,IAAIC,cAAW,yBAG5B,SAASO,EAAoBC,GACzB,OAAOV,OAAEC,IAAIC,cAAW,sBAAuB,CAC3CS,OAAQ,CACJC,WAAYF,KAKxB,SAASG,EAAcT,GACnB,OAAOJ,OAAEK,KAAKH,cAAW,uBAAwBE,GAGrD,SAASU,IACL,OAAOd,OAAEK,KAAKH,cAAW,0BAI7B,SAASa,IACL,OAAOf,OAAEC,IAAIC,cAAW,yBAG5B,SAASc,EAAYZ,GACjB,OAAOJ,OAAEK,KAAKH,cAAW,yBAA0BE,GAKvD,SAASa,IACL,OAAOjB,OAAEC,IAAIC,cAAW,oBAG5B,SAASgB,EAAQd,GACb,OAAOJ,OAAEK,KAAKH,cAAW,mBAAmBE,K,gEC9DhD,IAAIe,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,kCAAkC,CAACF,EAAG,KAAK,CAACE,YAAY,WAAW,CAACN,EAAIO,GAAG,UAAUH,EAAG,UAAU,CAACI,MAAM,CAAC,iBAAiB,OAAO,cAAc,UAAU,CAACJ,EAAG,eAAe,CAACI,MAAM,CAAC,MAAQ,WAAW,CAACJ,EAAG,YAAY,CAACI,MAAM,CAAC,eAAe,WAAWC,MAAM,CAACC,MAAOV,EAAIW,KAAc,UAAEC,SAAS,SAAUC,GAAMb,EAAIc,KAAKd,EAAIW,KAAM,YAAaE,IAAME,WAAW,qBAAqB,GAAGX,EAAG,eAAe,CAACE,YAAY,SAASE,MAAM,CAAC,MAAQ,KAAK,CAACJ,EAAG,YAAY,CAACE,YAAY,YAAYE,MAAM,CAAC,KAAO,WAAWQ,GAAG,CAAC,MAAQhB,EAAIiB,UAAU,CAACjB,EAAIO,GAAG,SAAS,IAAI,IAAI,IACjqBW,EAAkB,G,YCoBtB,GACE,KAAF,SACE,MAAF,GACE,KAAF,WACI,MAAJ,CACM,KAAN,CACQ,UAAR,KAIE,SAAF,GAEE,QAAF,CACI,QAAJ,WAAM,IAAN,OACM,OAAN,OAAM,CAAN,6BACQ,EAAR,UACU,QAAV,SACU,KAAV,gBAII,KAAJ,WAAM,IAAN,OACM,OAAN,OAAM,GAAN,kBACQ,EAAR,iBACQ,EAAR,uCAIE,QAAF,WACI,KAAJ,QAEE,WAAF,ICpD2Y,I,wBCQvYC,EAAY,eACd,EACApB,EACAmB,GACA,EACA,KACA,KACA,MAIa,aAAAC,E,2CCnBf,yBAAopB,EAAG","file":"js/chunk-63574f58.306947c1.js","sourcesContent":["import { $ } from \"./axios\";\nimport { __server } from \"@jx3box/jx3box-common/js/jx3box.json\";\n\n// 信息\nfunction getUserInfo() {\n    return $.get(__server + \"user/me\");\n}\n// 资料\nfunction getProfile(){\n    return $.get(__server + \"dashboard/profile\")\n}\nfunction updateProfile(data) {\n    return $.post(__server + \"dashboard/profile\", data);\n}\n\n// 头像\nfunction updateAvatar(data) {\n    return $.post(__server + \"dashboard/avatar/update\", data);\n}\n\n// 密码\nfunction updatePassword(data) {\n    return $.post(__server + \"dashboard/password/update\", data);\n}\n\n// 邮箱\nfunction checkEmailStatus() {\n    return $.get(__server + \"dashboard/email/check\");\n}\n\nfunction checkEmailAvailable(email) {\n    return $.get(__server + \"account/email/check\", {\n        params: {\n            user_email: email,\n        },\n    });\n}\n\nfunction sendBindEmail(data) {\n    return $.post(__server + \"dashboard/email/bind\", data);\n}\n\nfunction sendVerifyEmail() {\n    return $.post(__server + \"dashboard/email/verify\");\n}\n\n// 互联\nfunction checkOAuth() {\n    return $.get(__server + \"dashboard/oauth/check\");\n}\n\nfunction unbindOAuth(data) {\n    return $.post(__server + \"dashboard/oauth/unbind\", data);\n}\n\n\n// 用户设置\nfunction getConf(){\n    return $.get(__server + \"dashboard/config\");\n}\n\nfunction setConf(data){\n    return $.post(__server + \"dashboard/config\",data);\n}\n\nexport {\n    getUserInfo,\n    updateProfile,\n    getProfile,\n    updateAvatar,\n    updatePassword,\n    sendVerifyEmail,\n    checkEmailAvailable,\n    checkEmailStatus,\n    sendBindEmail,\n    unbindOAuth,\n    checkOAuth,\n    getConf,\n    setConf\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"m-dashboard m-dashboard-config\"},[_c('h2',{staticClass:\"u-title\"},[_vm._v(\"通知设置\")]),_c('el-form',{attrs:{\"label-position\":\"left\",\"label-width\":\"120px\"}},[_c('el-form-item',{attrs:{\"label\":\"评论邮件通知\"}},[_c('el-switch',{attrs:{\"active-color\":\"#13ce66\"},model:{value:(_vm.conf.cmt_email),callback:function ($$v) {_vm.$set(_vm.conf, \"cmt_email\", $$v)},expression:\"conf.cmt_email\"}})],1),_c('el-form-item',{staticClass:\"u-btns\",attrs:{\"label\":\"\"}},[_c('el-button',{staticClass:\"u-publish\",attrs:{\"type\":\"primary\"},on:{\"click\":_vm.publish}},[_vm._v(\"提交\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"m-dashboard m-dashboard-config\">\n        <h2 class=\"u-title\">通知设置</h2>\n        <el-form label-position=\"left\" label-width=\"120px\">\n            <el-form-item label=\"评论邮件通知\">\n                <el-switch v-model=\"conf.cmt_email\" active-color=\"#13ce66\"> </el-switch>\n            </el-form-item>\n            <el-form-item label=\"\" class=\"u-btns\">\n                <el-button\n                    class=\"u-publish\"\n                    type=\"primary\"\n                    @click=\"publish\"\n                    >提交</el-button\n                >\n            </el-form-item>\n        </el-form>\n    </div>\n</template>\n\n<script>\nimport { getConf, setConf } from \"@/service/profile\";\nexport default {\n    name: \"config\",\n    props: [],\n    data: function() {\n        return {\n            conf : {\n                cmt_email: 0,\n            }\n        };\n    },\n    computed: {\n    },\n    methods: {\n        publish: function() {\n            setConf(this.conf).then((res) => {\n                this.$message({\n                    message: '设置更新成功',\n                    type: 'success'\n                });\n            })\n        },\n        load : function (){\n            getConf().then((res) => {\n                this.conf = res.data.data\n                this.conf.cmt_email = !!this.conf.cmt_email\n            })\n        }\n    },\n    mounted: function() {\n        this.load()\n    },\n    components: {},\n};\n</script>\n\n<style lang=\"less\">\n@import \"../assets/css/dashboard/config.less\";\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./config.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./config.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./config.vue?vue&type=template&id=24742520&\"\nimport script from \"./config.vue?vue&type=script&lang=js&\"\nexport * from \"./config.vue?vue&type=script&lang=js&\"\nimport style0 from \"./config.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/style-resources-loader/lib/index.js??ref--10-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./config.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/style-resources-loader/lib/index.js??ref--10-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./config.vue?vue&type=style&index=0&lang=less&\""],"sourceRoot":""}