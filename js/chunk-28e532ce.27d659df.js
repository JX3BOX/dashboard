(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-28e532ce"],{"46e8":function(t,e,a){"use strict";a.d(e,"l",(function(){return u})),a.d(e,"e",(function(){return o})),a.d(e,"j",(function(){return f})),a.d(e,"k",(function(){return v})),a.d(e,"h",(function(){return h})),a.d(e,"a",(function(){return p})),a.d(e,"b",(function(){return m})),a.d(e,"g",(function(){return g})),a.d(e,"i",(function(){return j})),a.d(e,"c",(function(){return O})),a.d(e,"m",(function(){return d})),a.d(e,"d",(function(){return l})),a.d(e,"f",(function(){return b}));var n=a("41cb"),r=a("bc3a"),i=a.n(r),c=a("65c2"),s=Object(n["a"])("server",{proxy:!1});function o(){return Object(n["b"])().get("/api/cms/user/my/profile")}function u(t){return Object(n["b"])().put("/api/cms/user/my/profile",t)}function f(t){return Object(n["b"])().put("/api/cms/user/my/avatar",t)}function d(t){return Object(n["b"])().post("/api/cms/upload/avatar",t)}function l(){var t=c["__imgPath"]+"avatar/index.json";return i.a.get(t)}function b(t){return Object(n["b"])().get("/api/cms/user/".concat(t,"/info"))}function v(t){return s.post("profile/password",t)}function m(){return s.get("profile/email/check")}function p(t){return s.get("profile/email/available",{params:{user_email:t}})}function g(t){return s.post("profile/email/bind",t)}function h(){return s.post("profile/email/verify")}function O(){return Object(n["b"])().get("/api/cms/account/oauth/status")}function j(t){return Object(n["b"])({popType:"alert"}).delete("/api/cms/account/oauth/unbind/".concat(t))}},5530:function(t,e,a){"use strict";a.d(e,"a",(function(){return i}));a("b64b"),a("a4d3"),a("4de4"),a("d3b7"),a("e439"),a("159b"),a("dbb4");var n=a("ade3");function r(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function i(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?r(Object(a),!0).forEach((function(e){Object(n["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}},"9be6":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("uc",{staticClass:"m-dashboard-frame m-dashboard-skin",attrs:{icon:"el-icon-brush",title:"主题装扮","tab-list":t.tabList},scopedSlots:t._u([{key:"header",fn:function(){return[a("a",{staticClass:"u-link el-button el-button--default el-button--mini is-round is-plain",attrs:{href:"/vip/mall/?type=virtual",target:"_blank"}},[a("i",{staticClass:"el-icon-shopping-cart-2"}),t._v(" 前往获取装扮")])]},proxy:!0}])},[a("div",{staticClass:"m-frame"},[a("div",{staticClass:"m-frame-left"},[a("div",{staticClass:"u-btn",on:{click:t.updateAvatarFrame}},[t._v("修改头像")]),a("div",{staticClass:"u-avatar-box"},[a("div",{staticClass:"u-avatar"},[a("img",{staticClass:"u-avatar-pic",attrs:{src:t.showAvatar(t.avatar)}}),t.frame?a("i",{staticClass:"u-avatar-frame"},[a("img",{attrs:{src:t.frameUrl(t.frame)}})]):t._e()])])]),a("div",{staticClass:"m-frame-right"},[a("div",{staticClass:"u-theme"},[a("div",{staticClass:"u-frame-list"},[a("div",{staticClass:"u-title"},[a("span",{staticClass:"u-name"},[a("i",{staticClass:"el-icon-collection-tag"}),t._v("头像框")]),a("a",{staticClass:"u-buy",attrs:{href:"/vip/mall/?type=virtual&subtype=avator",target:"_blank"}},[a("i",{staticClass:"el-icon-shopping-cart-2"}),t._v(" 前往获取")])]),a("div",{staticClass:"u-frame-item"},t._l(t.frameList,(function(e,n){return a("div",{key:n,staticClass:"u-picbox",attrs:{title:"xxx"}},[a("el-tooltip",{attrs:{effect:"dark",placement:"top","open-delay":200}},[a("div",{attrs:{slot:"content"},slot:"content"},[t._v(t._s(e.desc)),a("br"),t._v(t._s(e.postscript))]),a("div",{staticClass:"u-pic",class:t.setClass(e),on:{click:function(a){return t.setAvatar(e)}}},[e.name?a("el-image",{attrs:{src:t.frameUrl(e.name),fit:"contain"}}):a("div",{staticClass:"u-noFrame"})],1)])],1)})),0)])])])])])},r=[],i=a("5530"),c=(a("99af"),a("d81d"),a("b0c0"),a("7db0"),a("d3b7"),a("4de4"),a("159b"),a("b64b"),a("b547")),s=a("46c1"),o=a("c9d2"),u=a("85e4"),f=a("65c2"),d=a("46e8"),l=a("aa38"),b=(a("2ef0"),{name:"frame",props:[],data:function(){return{tabList:s["c"],uid:o["a"].getInfo().uid,frameList:[],avatar:o["a"].getInfo().avatar_origin,frame:null,frames:{},avatars:[],decoration:null}},computed:{},methods:{frameUrl:function(t){if(t)return f["__imgPath"]+"avatar/images/".concat(t,"/").concat(t,".svg")},showAvatar:function(t){return Object(u["showAvatar"])(t,600)},setClass:function(t){return t.decoration&&t.receive?"receive":t.isHave?t.using?"select":void 0:"noHave"},updateAvatarFrame:function(){var t=this;Object(d["j"])({user_avatar_frame:this.frame,user_avatar:this.avatar}).then((function(e){t.$message({message:"头像框更新成功",type:"success"});var a=t.frameList.map((function(t){return{val:t.name,using:t.using,type:"avatar"}}));Object(l["e"])(a)}))},receiveFrame:function(t){var e=this;Object(l["d"])(this.uid,t).then((function(t){e.$message({message:"领取成功",type:"success"}),e.loadDecoration()}))},setAvatar:function(t){if(t.decoration&&t.receive)this.receiveFrame(t.name);else if(t.isHave){var e=this.frameList,a=e.find((function(t){return 1==t.using}));a&&(a.using=0),1==t.using?t.using=0:t.using=1,this.frame=t.name}},load:function(){var t=this;Object(d["f"])(this.uid).then((function(e){t.frame=e.data.data.user_avatar_frame||""})),Object(d["d"])().then((function(e){t.frames=e.data,t.loadDecoration()}))},loadDecoration:function(){var t=this;Object(l["a"])().then((function(e){var a=e.data.data,n=["atcard","homebg","sidebar","calendar"],r=a.filter((function(t){return""!=t.type&&-1!=n.indexOf(t.type)}));t.decoration=t.formattingData(r,"val"),t.avatars=a.filter((function(t){return"avatar"==t.type})),t.dataProcessing()}))},formattingData:function(t,e){var a={};return t.forEach((function(t,n){a[t[e]]?a[t[e]].push(t):a[t[e]]=[t]})),a},decorationAather:function(t){var e=["atcard","homebg","sidebar","calendar"],a=this.decoration[t].filter((function(t){return""!=t.type&&-1!=e.indexOf(t.type)}));return a.length>=4},dataProcessing:function(){var t=this,e=this.avatars||[],a=this.frames,n=[{desc:"无边框",name:"",val:"",isHave:1,using:1}],r=[],c=[];Object.keys(a).forEach((function(s,o){var u=Object(i["a"])(Object(i["a"])({},a[s]),{isHave:0,using:0,receive:!1}),f=e.find((function(t){return t.val==s}));f?(u.using=f.using,u.isHave=1,u.using&&(n[0].using=0)):u.decoration&&(u.receive=t.decorationAather(u.name)),u.isHave?n.push(u):u.decoration?r.push(u):c.push(u)})),this.frameList=[].concat(n,r,c)}},mounted:function(){this.load()},components:{uc:c["a"]}}),v=b,m=(a("d733"),a("2877")),p=Object(m["a"])(v,n,r,!1,null,null,null);e["default"]=p.exports},a86f:function(t,e,a){},aa38:function(t,e,a){"use strict";a.d(e,"a",(function(){return s})),a.d(e,"e",(function(){return o})),a.d(e,"b",(function(){return u})),a.d(e,"c",(function(){return f})),a.d(e,"d",(function(){return d}));a("99af");var n=a("41cb"),r=a("bc3a"),i=a.n(r),c=a("65c2");function s(t){return Object(n["b"])().get("/api/cms/user/decoration",{params:t})}function o(t){return Object(n["b"])().post("/api/cms/user/decoration",t)}function u(){var t=c["__imgPath"]+"decoration/index.json";return i.a.get(t)}function f(){return i.a.get("".concat(c["__dataPath"],"emotion/output/catalog.json"))}function d(t,e){return Object(n["b"])().post("/api/cms/user/decoration/check-suit/".concat(t,"/").concat(e,"/for/avatar"))}},ade3:function(t,e,a){"use strict";function n(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}a.d(e,"a",(function(){return n}))},b64b:function(t,e,a){var n=a("23e7"),r=a("7b0b"),i=a("df75"),c=a("d039"),s=c((function(){i(1)}));n({target:"Object",stat:!0,forced:s},{keys:function(t){return i(r(t))}})},d733:function(t,e,a){"use strict";a("a86f")},dbb4:function(t,e,a){var n=a("23e7"),r=a("83ab"),i=a("56ef"),c=a("fc6a"),s=a("06cf"),o=a("8418");n({target:"Object",stat:!0,sham:!r},{getOwnPropertyDescriptors:function(t){var e,a,n=c(t),r=s.f,u=i(n),f={},d=0;while(u.length>d)a=r(n,e=u[d++]),void 0!==a&&o(f,e,a);return f}})},e439:function(t,e,a){var n=a("23e7"),r=a("d039"),i=a("fc6a"),c=a("06cf").f,s=a("83ab"),o=r((function(){c(1)})),u=!s||o;n({target:"Object",stat:!0,forced:u,sham:!s},{getOwnPropertyDescriptor:function(t,e){return c(i(t),e)}})}}]);
//# sourceMappingURL=chunk-28e532ce.27d659df.js.map