{"version":3,"sources":["webpack:///./src/views/index.vue?589c","webpack:///src/views/index.vue","webpack:///./src/views/index.vue?3acc","webpack:///./src/views/index.vue","webpack:///./src/views/index.vue?e8ae","webpack:///./src/service/profile.js","webpack:///./node_modules/core-js/modules/es.array.join.js","webpack:///./src/utils/dateFormat.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","avatar","_v","_s","name","uid","group","_f","_e","bio","staticRenderFns","component","getUserInfo","$","get","__server","getProfile","updateProfile","data","post","updateAvatar","updatePassword","checkEmailStatus","checkEmailAvailable","email","params","user_email","sendBindEmail","sendVerifyEmail","checkOAuth","unbindOAuth","getConf","setConf","IndexedObject","toIndexedObject","arrayMethodIsStrict","nativeJoin","join","ES3_STRINGS","Object","STRICT_METHOD","target","proto","forced","separator","call","undefined","dateFormat","dt","polished","year","getFullYear","month","getMonth","date","getDate","str","polish","val"],"mappings":"yHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,iCAAiC,CAACF,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,IAAI,CAACE,YAAY,YAAY,CAACF,EAAG,IAAI,CAACE,YAAY,gBAAgB,CAACF,EAAG,MAAM,CAACE,YAAY,mBAAmBC,MAAM,CAAC,IAAMP,EAAIQ,cAAcJ,EAAG,MAAM,CAACE,YAAY,UAAU,CAACF,EAAG,KAAK,CAACE,YAAY,UAAU,CAACN,EAAIS,GAAG,IAAIT,EAAIU,GAAGV,EAAIW,MAAM,OAAOP,EAAG,MAAM,CAACE,YAAY,SAAS,CAACF,EAAG,KAAK,CAACJ,EAAIS,GAAG,SAASL,EAAG,IAAI,CAACJ,EAAIS,GAAGT,EAAIU,GAAGV,EAAIY,QAASZ,EAAIa,MAAQ,GAAIT,EAAG,IAAI,CAACE,YAAY,WAAW,CAACN,EAAIS,GAAG,IAAIT,EAAIU,GAAGV,EAAIc,GAAG,gBAAPd,CAAwBA,EAAIa,QAAQ,OAAOb,EAAIe,OAAOX,EAAG,MAAM,CAACE,YAAY,SAAS,CAACN,EAAIS,GAAGT,EAAIU,GAAGV,EAAIgB,KAAO,mBAAmBZ,EAAG,MAAM,CAACE,YAAY,oBACluBW,EAAkB,G,0DCuCtB,GACE,KAAF,QACE,MAAF,GACE,KAAF,WACI,MAAJ,CACM,OAAN,GACM,KAAN,GACM,IAAN,GACM,MAAN,EACM,KAAN,GACM,IAAN,KAGE,SAAF,GACE,QAAF,GACE,QAAF,CACI,UAAJ,YACM,OAAN,+CAEI,cAAJ,YACM,OAAN,oCAGE,QAAF,WAAI,IAAJ,OACI,KAAJ,oEAEI,IAAJ,sBACI,KAAJ,kBACI,KAAJ,aACI,KAAJ,iBAEA,UACM,OAAN,OAAM,CAAN,4BACQ,IAAR,cACQ,EAAR,iDACQ,EAAR,oBC3E0Y,I,wBCQtYC,EAAY,eACd,EACAnB,EACAkB,GACA,EACA,KACA,KACA,MAIa,aAAAC,E,6CCnBf,W,oCCAA,sdAIA,SAASC,IACL,OAAOC,OAAEC,IAAIC,cAAW,WAG5B,SAASC,IACL,OAAOH,OAAEC,IAAIC,cAAW,qBAE5B,SAASE,EAAcC,GACnB,OAAOL,OAAEM,KAAKJ,cAAW,oBAAqBG,GAIlD,SAASE,EAAaF,GAClB,OAAOL,OAAEM,KAAKJ,cAAW,0BAA2BG,GAIxD,SAASG,EAAeH,GACpB,OAAOL,OAAEM,KAAKJ,cAAW,4BAA6BG,GAI1D,SAASI,IACL,OAAOT,OAAEC,IAAIC,cAAW,yBAG5B,SAASQ,EAAoBC,GACzB,OAAOX,OAAEC,IAAIC,cAAW,sBAAuB,CAC3CU,OAAQ,CACJC,WAAYF,KAKxB,SAASG,EAAcT,GACnB,OAAOL,OAAEM,KAAKJ,cAAW,uBAAwBG,GAGrD,SAASU,IACL,OAAOf,OAAEM,KAAKJ,cAAW,0BAI7B,SAASc,IACL,OAAOhB,OAAEC,IAAIC,cAAW,yBAG5B,SAASe,EAAYZ,GACjB,OAAOL,OAAEM,KAAKJ,cAAW,yBAA0BG,GAKvD,SAASa,IACL,OAAOlB,OAAEC,IAAIC,cAAW,oBAG5B,SAASiB,EAAQd,GACb,OAAOL,OAAEM,KAAKJ,cAAW,mBAAmBG,K,2DC7DhD,IAAIL,EAAI,EAAQ,QACZoB,EAAgB,EAAQ,QACxBC,EAAkB,EAAQ,QAC1BC,EAAsB,EAAQ,QAE9BC,EAAa,GAAGC,KAEhBC,EAAcL,GAAiBM,OAC/BC,EAAgBL,EAAoB,OAAQ,KAIhDtB,EAAE,CAAE4B,OAAQ,QAASC,OAAO,EAAMC,OAAQL,IAAgBE,GAAiB,CACzEH,KAAM,SAAcO,GAClB,OAAOR,EAAWS,KAAKX,EAAgBxC,WAAqBoD,IAAdF,EAA0B,IAAMA,O,4CCTlF,SAASG,EAAWC,GAA+B,IAA5BJ,EAA4B,uDAAlB,IAAIK,IAAc,yDAC3CC,EAAOF,EAAGG,cACVC,EAAQJ,EAAGK,WAAa,EACxBC,EAAON,EAAGO,UACVC,EAAMP,EAAW,GAAH,OACXC,GADW,OACJN,GADI,OACQa,EAAOL,IADf,OACwBR,GADxB,OACoCa,EAAOH,IAD3C,UAEXJ,GAFW,OAEJN,GAFI,OAEQQ,GAFR,OAEgBR,GAFhB,OAE4BU,GAC9C,OAAOE,EAGX,SAASC,EAAOC,GACZ,OAAOA,EAAI,GAAM,IAAMA,EAAOA,EAGnBX","file":"js/chunk-21548b35.f817f5ca.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"m-dashboard m-dashboard-index\"},[_c('div',{staticClass:\"m-basicinfo\"},[_c('i',{staticClass:\"u-avatar\"},[_c('i',{staticClass:\"u-avatar-avt\"},[_c('img',{staticClass:\"u-avatar-avt-pic\",attrs:{\"src\":_vm.avatar}})])]),_c('div',{staticClass:\"u-info\"},[_c('h1',{staticClass:\"u-name\"},[_vm._v(\" \"+_vm._s(_vm.name)+\" \")]),_c('div',{staticClass:\"u-uid\"},[_c('em',[_vm._v(\"UID\")]),_c('b',[_vm._v(_vm._s(_vm.uid))]),(_vm.group > 60)?_c('i',{staticClass:\"u-group\"},[_vm._v(\"(\"+_vm._s(_vm._f(\"showGroupName\")(_vm.group))+\")\")]):_vm._e()]),_c('div',{staticClass:\"u-bio\"},[_vm._v(_vm._s(_vm.bio || \"凭栏望千里，煮酒论江湖。\"))]),_c('div',{staticClass:\"u-medals\"})])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"m-dashboard m-dashboard-index\">\n        <div class=\"m-basicinfo\">\n            <i class=\"u-avatar\">\n                <i class=\"u-avatar-avt\"\n                    ><img class=\"u-avatar-avt-pic\" :src=\"avatar\"\n                /></i>\n                <!-- TODO:头像框 <i class=\"u-avatar-frame\"><img class=\"u-avatar-frame-pic\" src=\"../assets/img/1.png\" /></i> -->\n            </i>\n            <div class=\"u-info\">\n                <h1 class=\"u-name\">\n                    {{ name }}\n                    <!-- TODO: <div class=\"u-level\">等级</div> -->\n                    \n                </h1>\n                <div class=\"u-uid\">\n                    <em>UID</em><b>{{ uid }}</b>\n                    <i class=\"u-group\" v-if=\"group > 60\"\n                        >({{ group | showGroupName }})</i\n                    >\n                    <!-- TODO:vip标识 -->\n                </div>\n                <div class=\"u-bio\">{{ bio || \"凭栏望千里，煮酒论江湖。\" }}</div>\n                <div class=\"u-medals\">\n                    <!-- TODO:个人勋章列表 -->\n                </div>\n            </div>\n        </div>\n        <!-- TODO: -->\n        <!-- 盒币、积分余额 -->\n        <!-- 充值&兑换 -->\n        <!-- 积分兑换商城 -->\n    </div>\n</template>\n\n<script>\nimport { JX3BOX, User, Utils } from \"@jx3box/jx3box-common\";\nimport { getUserInfo } from \"../service/profile\";\nimport dateFormat from \"../utils/dateFormat\";\n\nexport default {\n    name: \"index\",\n    props: [],\n    data: function() {\n        return {\n            avatar: \"\",\n            name: \"\",\n            uid: \"\",\n            group: 0,\n            join: \"\",\n            bio: \"\",\n        };\n    },\n    computed: {},\n    methods: {},\n    filters: {\n        groupicon: function(groupid) {\n            return JX3BOX.__imgPath + \"image/group/\" + groupid + \".svg\";\n        },\n        showGroupName: function(val) {\n            return val ? JX3BOX.__userGroup[val] : \"游客\";\n        },\n    },\n    mounted: function() {\n        this.avatar = Utils.showAvatar(User.getInfo().avatar_origin, \"l\");\n\n        let _info = User.getInfo();\n        this.name = _info.name || \"匿名\";\n        this.uid = _info.uid || 0;\n        this.group = _info.group || 0;\n\n        if (this.uid) {\n            getUserInfo(this.uid).then((res) => {\n                let data = res.data.data;\n                this.join = dateFormat(new Date(data.user_registered));\n                this.bio = data.user_bio;\n            });\n        }\n    },\n};\n</script>\n\n<style lang=\"less\">\n@import \"../assets/css/index.less\";\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=18c91f6d&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/style-resources-loader/lib/index.js??ref--10-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./index.vue?vue&type=style&index=0&lang=less&\"","import { $ } from \"./axios\";\nimport { __server } from \"@jx3box/jx3box-common/js/jx3box.json\";\n\n// 信息\nfunction getUserInfo() {\n    return $.get(__server + \"user/me\");\n}\n// 资料\nfunction getProfile(){\n    return $.get(__server + \"dashboard/profile\")\n}\nfunction updateProfile(data) {\n    return $.post(__server + \"dashboard/profile\", data);\n}\n\n// 头像\nfunction updateAvatar(data) {\n    return $.post(__server + \"dashboard/avatar/update\", data);\n}\n\n// 密码\nfunction updatePassword(data) {\n    return $.post(__server + \"dashboard/password/update\", data);\n}\n\n// 邮箱\nfunction checkEmailStatus() {\n    return $.get(__server + \"dashboard/email/check\");\n}\n\nfunction checkEmailAvailable(email) {\n    return $.get(__server + \"account/email/check\", {\n        params: {\n            user_email: email,\n        },\n    });\n}\n\nfunction sendBindEmail(data) {\n    return $.post(__server + \"dashboard/email/bind\", data);\n}\n\nfunction sendVerifyEmail() {\n    return $.post(__server + \"dashboard/email/verify\");\n}\n\n// 互联\nfunction checkOAuth() {\n    return $.get(__server + \"dashboard/oauth/check\");\n}\n\nfunction unbindOAuth(data) {\n    return $.post(__server + \"dashboard/oauth/unbind\", data);\n}\n\n\n// 用户设置\nfunction getConf(){\n    return $.get(__server + \"dashboard/config\");\n}\n\nfunction setConf(data){\n    return $.post(__server + \"dashboard/config\",data);\n}\n\nexport {\n    getUserInfo,\n    updateProfile,\n    getProfile,\n    updateAvatar,\n    updatePassword,\n    sendVerifyEmail,\n    checkEmailAvailable,\n    checkEmailStatus,\n    sendBindEmail,\n    unbindOAuth,\n    checkOAuth,\n    getConf,\n    setConf\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar IndexedObject = require('../internals/indexed-object');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\n\nvar nativeJoin = [].join;\n\nvar ES3_STRINGS = IndexedObject != Object;\nvar STRICT_METHOD = arrayMethodIsStrict('join', ',');\n\n// `Array.prototype.join` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.join\n$({ target: 'Array', proto: true, forced: ES3_STRINGS || !STRICT_METHOD }, {\n  join: function join(separator) {\n    return nativeJoin.call(toIndexedObject(this), separator === undefined ? ',' : separator);\n  }\n});\n","/**\n * 简单的日期格式化\n *\n * @param {*} dt Date实例\n * @param {object} opt polished:是否补齐两位,separator:连接分隔符\n */\nfunction dateFormat(dt,separator='-',polished=true){\n    let year = dt.getFullYear()\n    let month = dt.getMonth() + 1\n    let date = dt.getDate()\n    let str = polished ? \n        `${year}${separator}${polish(month)}${separator}${polish(date)}` :\n        `${year}${separator}${month}${separator}${date}`\n    return str\n}\n\nfunction polish(val){\n    return val<10 ? ('0' + val) : val\n}\n\nexport default dateFormat\n"],"sourceRoot":""}