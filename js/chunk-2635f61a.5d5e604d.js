(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2635f61a"],{"07d3":function(t,e,a){"use strict";a("4f42")},1318:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"m-publish-box"},[a("pubheader",{attrs:{name:"趣味题库·试卷",localDraft:!1}},[t._t("header")],2),a("el-form",{staticClass:"m-publish-exam",attrs:{"label-position":"left","label-width":"80px"}},[a("el-form-item",{staticClass:"m-publish-exam-title",attrs:{label:"标题"}},[a("el-input",{attrs:{maxlength:120,minlength:2,"show-word-limit":"",required:"",placeholder:"请填写试卷标题"},model:{value:t.primary.title,callback:function(e){t.$set(t.primary,"title",e)},expression:"primary.title"}})],1),a("el-form-item",{staticClass:"m-publish-exam-desc",attrs:{label:"描述"}},[a("el-input",{attrs:{maxlength:200,minlength:2,"show-word-limit":"",required:"",rows:3,type:"textarea",placeholder:"请填写试卷描述"},model:{value:t.primary.desc,callback:function(e){t.$set(t.primary,"desc",e)},expression:"primary.desc"}})],1),a("el-form-item",{staticClass:"m-publish-exam-common",attrs:{label:"题目"}},[a("div",[t._v(" 请设置10道题（每道题10分，满分100分），用半角逗号隔开，例如1,2,3 ")]),a("el-input",{attrs:{"show-word-limit":"",required:"",placeholder:"请填写题目ID序列"},model:{value:t.list,callback:function(e){t.list=e},expression:"list"}})],1),a("el-form-item",{staticClass:"m-publish-exam-level",attrs:{label:"难度"}},[a("el-rate",{attrs:{"show-score":"","text-color":"#ff9900","score-template":"{value} 星"},model:{value:t.primary.hardStar,callback:function(e){t.$set(t.primary,"hardStar",e)},expression:"primary.hardStar"}})],1),a("el-form-item",{staticClass:"m-publish-exam-style",attrs:{label:"风格"}},[a("el-select",{attrs:{placeholder:"请选择封面风格"},model:{value:t.primary.style,callback:function(e){t.$set(t.primary,"style",e)},expression:"primary.style"}},t._l(t.styles,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),a("exam_tags",{staticClass:"m-publish-exam-tags",model:{value:t.primary.tags,callback:function(e){t.$set(t.primary,"tags",e)},expression:"primary.tags"}}),t.isSuper?a("el-form-item",{staticClass:"m-publish-exam-common",attrs:{label:"称谓"}},[a("el-select",{attrs:{placeholder:"试卷称谓奖励"},model:{value:t.primary.medalAward,callback:function(e){t.$set(t.primary,"medalAward",e)},expression:"primary.medalAward"}},[a("el-option",{attrs:{label:"无",value:""}}),t._l(t.awards,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],2)],1):t._e(),t.isSuper?a("el-form-item",{staticClass:"m-publish-exam-common",attrs:{label:"角标"}},[a("el-select",{attrs:{placeholder:"试卷角标"},model:{value:t.primary.corner,callback:function(e){t.$set(t.primary,"corner",e)},expression:"primary.corner"}},[a("el-option",{attrs:{label:"无",value:""}}),t._l(t.marks,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],2)],1):t._e(),a("el-form-item",{staticClass:"m-publish-exam-content",attrs:{label:""}},[a("el-button",{staticClass:"u-publish",attrs:{icon:"el-icon-s-promotion",type:"primary",disabled:t.processing},on:{click:t.publish}},[t._v("发布试卷")])],1)],1)],1)},i=[],r=(a("d3b7"),a("25f0"),a("1276"),a("ac1f"),a("d81d"),a("a0fa")),l=a("5406"),n=a("c9d2"),o=a("6a7f"),c=a("b09a"),u={name:"exam_paper",props:[],data:function(){return{processing:!1,primary:{title:"",desc:"",questionList:[],hardStar:0,tags:[],corner:"",medalAward:"",style:"default"},list:"",isSuper:!1,awards:c["a"],marks:c["b"],styles:c["c"]}},computed:{id:function(){return this.$route.params.id}},watch:{},methods:{publish:function(){var t=this;this.processing=!0,this.primary.questionList=this.checkList(),this.primary.questionList&&(console.log(this.primary),this.id?Object(o["g"])(this.id,this.primary,this).then((function(e){t.success(e),location.href="/exam/#/paper/"+t.id})):Object(o["a"])(this.primary,this).then((function(e){t.success(e),location.href="/exam/#/paper/"+e.data.data.id})))},success:function(t){this.$message({message:t.data.msg||"提交成功",type:"success"})},loadData:function(){var t=this;Object(o["c"])(this.id,this).then((function(e){var a=e.data;t.primary.title=a.title,t.primary.desc=a.desc,t.primary.medalAward=a.medalAward,t.primary.corner=a.corner,t.primary.tags=JSON.parse(a.tags),t.primary.style=a.style,t.primary.hardStar=a.hardStar,t.primary.questionList=JSON.parse(a.questionList),t.list=t.primary.questionList.toString()}))},checkList:function(){var t=this.list.split(",");return t.length>10||!t.length?(this.$alert("请设置10道题，每道题10分，满分100分","提醒",{confirmButtonText:"确定"}),!1):t.map((function(t){return~~t}))}},created:function(){this.isSuper=n["a"].getInfo().group>60,this.id&&this.loadData()},components:{pubheader:r["a"],exam_tags:l["a"]}},p=u,m=(a("b8c4"),a("2877")),d=Object(m["a"])(p,s,i,!1,null,null,null);e["default"]=d.exports},"1a51":function(t,e,a){"use strict";a("5dec")},"25f0":function(t,e,a){"use strict";var s=a("6eeb"),i=a("825a"),r=a("d039"),l=a("ad6d"),n="toString",o=RegExp.prototype,c=o[n],u=r((function(){return"/a/b"!=c.call({source:"a",flags:"b"})})),p=c.name!=n;(u||p)&&s(RegExp.prototype,n,(function(){var t=i(this),e=String(t.source),a=t.flags,s=String(void 0===a&&t instanceof RegExp&&!("flags"in o)?l.call(t):a);return"/"+e+"/"+s}),{unsafe:!0})},"4f42":function(t,e,a){},5406:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-form-item",{attrs:{label:"标签"}},[a("div",{staticClass:"m-publish-exam-tags-list"},[a("el-checkbox-group",{model:{value:t.list,callback:function(e){t.list=e},expression:"list"}},[a("div",{staticClass:"u-group"},[a("label",{staticClass:"el-checkbox"},[a("span",{staticClass:"el-checkbox__label u-group-label "},[t._v("方向")])]),t._l(t.options.game,(function(e){return a("el-checkbox",{key:e,attrs:{label:e}},[t._v(t._s(e))])}))],2),a("div",{staticClass:"u-group"},[a("label",{staticClass:"el-checkbox"},[a("span",{staticClass:"el-checkbox__label u-group-label "},[t._v("玩法")])]),t._l(t.options.play,(function(e){return a("el-checkbox",{key:e,attrs:{label:e}},[t._v(t._s(e))])}))],2),a("div",{staticClass:"u-group"},[a("label",{staticClass:"el-checkbox"},[a("span",{staticClass:"el-checkbox__label u-group-label "},[t._v("门派")])]),t._l(t.options.school,(function(e){return a("el-checkbox",{key:e,attrs:{label:e}},[t._v(t._s(e))])}))],2),a("div",{staticClass:"u-group"},[a("label",{staticClass:"el-checkbox"},[a("span",{staticClass:"el-checkbox__label u-group-label "},[t._v("学科")])]),t._l(t.options.subject,(function(e){return a("el-checkbox",{key:e,attrs:{label:e}},[t._v(t._s(e))])}))],2),a("div",{staticClass:"u-group"},[a("label",{staticClass:"el-checkbox"},[a("span",{staticClass:"el-checkbox__label u-group-label "},[t._v("领域")])]),t._l(t.options.domain,(function(e){return a("el-checkbox",{key:e,attrs:{label:e}},[t._v(t._s(e))])}))],2)])],1)])},i=[],r=(a("a434"),a("b09a")),l={name:"exam_tags",props:["tags"],data:function(){return{options:r["d"],inputVisible:!1,inputValue:"",list:this.tags}},model:{prop:"tags",event:"update"},watch:{tags:function(t){this.list=t},list:function(t){this.$emit("update",t)}},methods:{handleClose:function(t){this.custom.splice(this.custom.indexOf(t),1)},showInput:function(){var t=this;this.inputVisible=!0,this.$nextTick((function(e){t.$refs.saveTagInput.$refs.input.focus()}))},handleInputConfirm:function(){var t=this.inputValue;t&&this.custom.push(t),this.inputVisible=!1,this.inputValue=""}},mounted:function(){console.log(this.tags)},components:{}},n=l,o=(a("1a51"),a("2877")),c=Object(o["a"])(n,s,i,!1,null,"32923815",null);e["a"]=c.exports},"5dec":function(t,e,a){},"6a7f":function(t,e,a){"use strict";a.d(e,"e",(function(){return i})),a.d(e,"b",(function(){return r})),a.d(e,"h",(function(){return l})),a.d(e,"f",(function(){return u})),a.d(e,"a",(function(){return n})),a.d(e,"g",(function(){return o})),a.d(e,"c",(function(){return c})),a.d(e,"d",(function(){return p}));var s=a("2777");function i(t,e){return s["a"].get("/api/question/"+t)}function r(t,e){return s["a"].post("/api/question/create",t)}function l(t,e,a){return s["a"].put("/api/question/"+t+"/update",e)}function n(t,e){return s["a"].post("/api/question/exam-paper",t)}function o(t,e,a){return s["a"].put("/api/question/exam-paper/"+t,e)}function c(t,e){return s["a"].get("/api/question/exam-paper/"+t)}function u(t,e){return s["a"].get("/api/question/my-list",{params:t})}function p(t){return s["a"].get("/api/question/exam-paper?my",{params:t})}},a0fa:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"m-publish-header"},[a("el-page-header",{attrs:{content:t.name},on:{back:t.goBack}})],1)},i=[],r={name:"pubheader",props:["name"],data:function(){return{dialogVisible:!1,selectedCount:0,tableData:[]}},computed:{},methods:{goBack:function(){this.$root.$router.push("/")}},mounted:function(){},components:{}},l=r,n=(a("07d3"),a("2877")),o=Object(n["a"])(l,s,i,!1,null,null,null);e["a"]=o.exports},a434:function(t,e,a){"use strict";var s=a("23e7"),i=a("23cb"),r=a("a691"),l=a("50c4"),n=a("7b0b"),o=a("65f0"),c=a("8418"),u=a("1dde"),p=u("splice"),m=Math.max,d=Math.min,f=9007199254740991,h="Maximum allowed length exceeded";s({target:"Array",proto:!0,forced:!p},{splice:function(t,e){var a,s,u,p,b,v,g=n(this),x=l(g.length),y=i(t,x),_=arguments.length;if(0===_?a=s=0:1===_?(a=0,s=x-y):(a=_-2,s=d(m(r(e),0),x-y)),x+a-s>f)throw TypeError(h);for(u=o(g,s),p=0;p<s;p++)b=y+p,b in g&&c(u,p,g[b]);if(u.length=s,a<s){for(p=y;p<x-s;p++)b=p+s,v=p+a,b in g?g[v]=g[b]:delete g[v];for(p=x;p>x-s+a;p--)delete g[p-1]}else if(a>s)for(p=x-s;p>y;p--)b=p+s-1,v=p+a-1,b in g?g[v]=g[b]:delete g[v];for(p=0;p<a;p++)g[p+y]=arguments[p+2];return g.length=x-s+a,u}})},b09a:function(t){t.exports=JSON.parse('{"e":{"radio":"单选题","checkbox":"多选题"},"c":[{"label":"默认（蓝色）","value":"default"},{"label":"PVE（绿色）","value":"green"},{"label":"PVX（橙色）","value":"orange"},{"label":"PVP（红色）","value":"red"},{"label":"PVBB（紫色）","value":"purple"}],"a":[{"label":"剑三老司机","value":"driver"}],"b":[{"label":"官方试卷","value":"official"}],"d":{"school":["七秀","万花","五毒","长歌","天策","少林","明教","苍云","纯阳","唐门","藏剑","丐帮","蓬莱","凌雪"],"subject":["语文","数学","外语","信息","物理","化学","生物","政治","历史","地理"],"game":["PVE","PVP","PVX","PVBB"],"play":["副本","宠物","家园","奇遇","成就"],"domain":["美容","金融","医学","法学"]}}')},b727:function(t,e,a){var s=a("0366"),i=a("44ad"),r=a("7b0b"),l=a("50c4"),n=a("65f0"),o=[].push,c=function(t){var e=1==t,a=2==t,c=3==t,u=4==t,p=6==t,m=7==t,d=5==t||p;return function(f,h,b,v){for(var g,x,y=r(f),_=i(y),k=s(h,b,3),C=l(_.length),w=0,$=v||n,q=e?$(f,C):a||m?$(f,0):void 0;C>w;w++)if((d||w in _)&&(g=_[w],x=k(g,w,y),t))if(e)q[w]=x;else if(x)switch(t){case 3:return!0;case 5:return g;case 6:return w;case 2:o.call(q,g)}else switch(t){case 4:return!1;case 7:o.call(q,g)}return p?-1:c||u?u:q}};t.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6),filterOut:c(7)}},b8c4:function(t,e,a){"use strict";a("d889")},d81d:function(t,e,a){"use strict";var s=a("23e7"),i=a("b727").map,r=a("1dde"),l=r("map");s({target:"Array",proto:!0,forced:!l},{map:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},d889:function(t,e,a){}}]);
//# sourceMappingURL=chunk-2635f61a.5d5e604d.js.map