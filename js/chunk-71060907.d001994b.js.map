{"version":3,"sources":["webpack:///./src/service/goods.js","webpack:///./src/views/mall.vue?cdfa","webpack:///src/views/mall.vue","webpack:///./src/views/mall.vue?2a60","webpack:///./src/views/mall.vue","webpack:///./src/views/mall.vue?b700"],"names":["getAddress","params","$pay","get","addAddress","data","post","updateAddress","id","put","delAddress","delete","defaultAddress","getOrder","updateOrderAddress","orderId","addressId","updateOrderRemark","remark","getOrderId","render","_vm","this","_h","$createElement","_c","_self","staticClass","_m","attrs","list","scopedSlots","_u","key","fn","scope","_v","_s","row","goods","title","order","order_no","orderStatus","order_status","payStatus","pay_status","on","$event","showDetail","open","cancel","slot","_e","pageSize","total","pageIndex","dialogVisible","close","mode","ref","address_form","address_rules","model","value","callback","$$v","$set","expression","_l","item","i","submit","remark_form","remark_rules","staticRenderFns","name","order_id","addressList","address_id","required","message","trigger","computed","methods","load","loadAddress","type","formName","mounted","component"],"mappings":"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","file":"js/chunk-71060907.d001994b.js","sourcesContent":["import { $pay } from \"@jx3box/jx3box-common/js/https\";\n// 获取地址列表\nfunction getAddress(params) {\n    return $pay().get(`/mall/ship-address`, params)\n}\n// 添加地址\nfunction addAddress(data) {\n    return $pay().post(`/mall/ship-address`, data)\n}\n// 更新地址\nfunction updateAddress(id, data) {\n    return $pay().put(`/mall/ship-address/${id}`, data)\n}\n// 删除地址\nfunction delAddress(id) {\n    return $pay().delete(`/mall/ship-address/${id}`)\n}\n// 设定默认地址\nfunction defaultAddress(id) {\n    return $pay().put(`/mall/ship-address/default/${id}`, )\n}\n// 获取我的订单\nfunction getOrder(params) {\n    return $pay().get(`/mall/my/orders`, { params })\n}\n// 更改订单的收货地址\nfunction updateOrderAddress(orderId, addressId) {\n    return $pay().put(`/mall/my/orders/${orderId}/bind-address/${addressId}`, )\n}\n// 修改订单备注\nfunction updateOrderRemark(id, remark) {\n    return $pay().put(`/mall/my/orders/${id}/remark`, { remark })\n}\n// 查看对应id的订单详情\nfunction getOrderId(id) {\n    return $pay().get(`/mall/my/orders/${id}`)\n}\n// 关闭订单\nfunction closeOrder(id) {\n    return $pay().put(`/mall/my/orders/${id}`, )\n}\nexport {\n    getAddress,\n    addAddress,\n    updateAddress,\n    delAddress,\n    defaultAddress,\n    getOrder,\n    updateOrderAddress,\n    updateOrderRemark,\n    getOrderId,\n    closeOrder\n};","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"m-page-record\"},[_vm._m(0),_c('div',{staticClass:\"m-content\"},[_c('el-table',{attrs:{\"data\":_vm.list}},[_c('el-table-column',{attrs:{\"prop\":\"order.created_at\",\"label\":\"兑换时间\",\"width\":\"180\"}}),_c('el-table-column',{attrs:{\"label\":\"兑换商品\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{staticClass:\"m-line\"},[_vm._v(\" \"+_vm._s(scope.row.goods.title)+\" \")])]}}])}),_c('el-table-column',{attrs:{\"label\":\"订单号\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{staticClass:\"m-line\"},[_vm._v(\" \"+_vm._s(scope.row.order.order_no)+\" \")])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"order.goods_num\",\"label\":\"数量\",\"width\":\"80\"}}),_c('el-table-column',{attrs:{\"label\":\"订单状态\",\"width\":\"160\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\" \"+_vm._s(_vm.orderStatus[scope.row.order.order_status])+\" \")]}}])}),_c('el-table-column',{attrs:{\"label\":\"付款状态\",\"width\":\"160\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\" \"+_vm._s(_vm.payStatus[scope.row.order.pay_status])+\" \")]}}])}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"min-width\":\"200px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{staticClass:\"m-button\"},[_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){return _vm.showDetail(scope.row.order.id)}}},[_vm._v(\"查看详情\")]),(scope.row.order.order_status == 0)?[_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){return _vm.open(scope.row.order.id, 'address')}}},[_vm._v(\"修改地址\")]),_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){return _vm.open(scope.row.order.id, 'remark')}}},[_vm._v(\"添加备注\")]),_c('el-popconfirm',{attrs:{\"confirm-button-text\":\"确定\",\"cancel-button-text\":\"取消\",\"icon\":\"el-icon-info\",\"title\":\"确定取消吗？\"},on:{\"confirm\":function($event){return _vm.cancel(scope.row.order.id)}}},[_c('el-button',{attrs:{\"slot\":\"reference\",\"type\":\"text\"},slot:\"reference\"},[_vm._v(\"取消订单\")])],1)]:_vm._e(),((scope.row.order.order_status == 3))?[_c('el-button',{attrs:{\"type\":\"text\"}},[_vm._v(\"确认收货\")]),_c('el-button',{attrs:{\"type\":\"text\"}},[_vm._v(\"申请退货\")])]:_vm._e(),((scope.row.order.order_status == 4))?[_c('el-button',{attrs:{\"type\":\"text\"}},[_vm._v(\"评价商品\")])]:_vm._e()],2)]}}])})],1)],1),_c('div',{staticClass:\"m-record-pages\"},[_c('el-pagination',{attrs:{\"background\":\"\",\"layout\":\"total, prev, pager, next,jumper\",\"page-size\":_vm.pageSize,\"total\":_vm.total,\"current-page\":_vm.pageIndex,\"hide-on-single-page\":true},on:{\"update:currentPage\":function($event){_vm.pageIndex=$event},\"update:current-page\":function($event){_vm.pageIndex=$event}}})],1),_c('el-dialog',{attrs:{\"title\":_vm.title,\"visible\":_vm.dialogVisible,\"width\":\"30%\",\"before-close\":_vm.close,\"custom-class\":\"m-edit-dialog\"},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[(_vm.mode == 'address')?[_c('el-form',{ref:\"address_form\",staticClass:\"demo-form-inline\",attrs:{\"model\":_vm.address_form,\"rules\":_vm.address_rules}},[_c('el-form-item',{attrs:{\"label\":\"选择收货地址\",\"prop\":\"address_id\"}},[_c('el-select',{model:{value:(_vm.address_form.address_id),callback:function ($$v) {_vm.$set(_vm.address_form, \"address_id\", $$v)},expression:\"address_form.address_id\"}},_vm._l((_vm.addressList),function(item,i){return _c('el-option',{key:i,attrs:{\"label\":(\"【 \" + (item.contact_name) + \" \" + (item.contact_phone) + \" 】 \" + (item.province) + (item.city) + (item.area) + (item.address)),\"value\":item.id}})}),1)],1),_c('el-form-item',[_c('div',{staticClass:\"m-button\"},[_c('el-button',{on:{\"click\":_vm.close}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.submit('address_form')}}},[_vm._v(\"确定\")])],1)])],1)]:[_c('el-form',{ref:\"remark_form\",staticClass:\"demo-form-inline\",attrs:{\"model\":_vm.remark_form,\"rules\":_vm.remark_rules}},[_c('el-form-item',{attrs:{\"label\":\"备注\",\"prop\":\"remark\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"rows\":2,\"placeholder\":\"请输入备注\"},model:{value:(_vm.remark_form.remark),callback:function ($$v) {_vm.$set(_vm.remark_form, \"remark\", $$v)},expression:\"remark_form.remark\"}})],1),_c('el-form-item',[_c('div',{staticClass:\"m-button\"},[_c('el-button',{on:{\"click\":_vm.close}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.submit('remark_form')}}},[_vm._v(\"确定\")])],1)])],1)]],2)],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('h2',{staticClass:\"u-title\"},[_c('span',{staticClass:\"i-title\"},[_c('i',{staticClass:\"el-icon-document\"}),_vm._v(\" 商城订单\")])])}]\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"m-page-record\">\n        <!-- 标题 -->\n        <h2 class=\"u-title\">\n            <span class=\"i-title\"> <i class=\"el-icon-document\"></i> 商城订单</span>\n        </h2>\n        <!--  -->\n        <div class=\"m-content\">\n            <el-table :data=\"list\">\n                <el-table-column prop=\"order.created_at\" label=\"兑换时间\" width=\"180\"> </el-table-column>\n                <el-table-column label=\"兑换商品\">\n                    <template slot-scope=\"scope\">\n                        <div class=\"m-line\">\n                            {{ scope.row.goods.title }}\n                        </div>\n                    </template>\n                </el-table-column>\n                <el-table-column label=\"订单号\">\n                    <template slot-scope=\"scope\">\n                        <div class=\"m-line\">\n                            {{ scope.row.order.order_no }}\n                        </div>\n                    </template>\n                </el-table-column>\n                <el-table-column prop=\"order.goods_num\" label=\"数量\" width=\"80\"> </el-table-column>\n                <el-table-column label=\"订单状态\" width=\"160\">\n                    <template slot-scope=\"scope\">\n                        {{ orderStatus[scope.row.order.order_status] }}\n                    </template>\n                </el-table-column>\n                <el-table-column label=\"付款状态\" width=\"160\">\n                    <template slot-scope=\"scope\">\n                        {{ payStatus[scope.row.order.pay_status] }}\n                    </template>\n                </el-table-column>\n                <!-- <el-table-column prop=\"order.remark\" label=\"备注\"> </el-table-column> -->\n\n                <el-table-column label=\"操作\" min-width=\"200px\">\n                    <template slot-scope=\"scope\">\n                        <div class=\"m-button\">\n                            <el-button type=\"text\" @click=\"showDetail(scope.row.order.id)\">查看详情</el-button>\n                            <!-- 未发货允许操作： 取消订单&修改地址 -->\n                            <template v-if=\"scope.row.order.order_status == 0\">\n                                <el-button type=\"text\" @click=\"open(scope.row.order.id, 'address')\">修改地址</el-button>\n                                <el-button type=\"text\" @click=\"open(scope.row.order.id, 'remark')\">添加备注</el-button>\n                                <el-popconfirm\n                                    confirm-button-text=\"确定\"\n                                    cancel-button-text=\"取消\"\n                                    icon=\"el-icon-info\"\n                                    title=\"确定取消吗？\"\n                                    @confirm=\"cancel(scope.row.order.id)\"\n                                >\n                                    <el-button slot=\"reference\" type=\"text\">取消订单</el-button>\n                                </el-popconfirm>\n                            </template>\n                            <!-- 已发货操作： 确认收货&申请退货 -->\n                            <template v-if=\"(scope.row.order.order_status == 3)\">\n                                <el-button type=\"text\">确认收货</el-button>\n                                <el-button type=\"text\">申请退货</el-button>\n                            </template>\n\n                            <!-- 已收货操作： 评价 -->\n                            <template v-if=\"(scope.row.order.order_status == 4)\">\n                                <el-button type=\"text\">评价商品</el-button>\n                            </template>\n                        </div>\n                    </template>\n                </el-table-column>\n            </el-table>\n        </div>\n        <!-- 分页 -->\n        <div class=\"m-record-pages\">\n            <el-pagination\n                background\n                layout=\"total, prev, pager, next,jumper\"\n                :page-size=\"pageSize\"\n                :total=\"total\"\n                :current-page.sync=\"pageIndex\"\n                :hide-on-single-page=\"true\"\n            ></el-pagination>\n        </div>\n\n        <!-- 弹窗 -->\n        <el-dialog\n            :title=\"title\"\n            :visible.sync=\"dialogVisible\"\n            width=\"30%\"\n            :before-close=\"close\"\n            custom-class=\"m-edit-dialog\"\n        >\n            <template v-if=\"mode == 'address'\">\n                <el-form ref=\"address_form\" :model=\"address_form\" :rules=\"address_rules\" class=\"demo-form-inline\">\n                    <el-form-item label=\"选择收货地址\" prop=\"address_id\">\n                        <el-select v-model=\"address_form.address_id\">\n                            <el-option\n                                :label=\"`【 ${item.contact_name} ${item.contact_phone} 】 ${item.province}${item.city}${item.area}${item.address}`\"\n                                :value=\"item.id\"\n                                v-for=\"(item, i) in addressList\"\n                                :key=\"i\"\n                            ></el-option>\n                        </el-select>\n                    </el-form-item>\n                    <el-form-item>\n                        <div class=\"m-button\">\n                            <el-button @click=\"close\">取 消</el-button>\n                            <el-button type=\"primary\" @click=\"submit('address_form')\">确定</el-button>\n                        </div>\n                    </el-form-item>\n                </el-form>\n            </template>\n            <template v-else>\n                <el-form ref=\"remark_form\" :model=\"remark_form\" :rules=\"remark_rules\" class=\"demo-form-inline\">\n                    <el-form-item label=\"备注\" prop=\"remark\">\n                        <el-input type=\"textarea\" :rows=\"2\" placeholder=\"请输入备注\" v-model=\"remark_form.remark\">\n                        </el-input>\n                    </el-form-item>\n                    <el-form-item>\n                        <div class=\"m-button\">\n                            <el-button @click=\"close\">取 消</el-button>\n                            <el-button type=\"primary\" @click=\"submit('remark_form')\">确定</el-button>\n                        </div>\n                    </el-form-item>\n                </el-form>\n            </template>\n        </el-dialog>\n    </div>\n</template>\n\n<script>\nimport { getOrder, updateOrderAddress, updateOrderRemark, getAddress } from \"@/service/goods\";\nimport { payStatus, orderStatus } from \"@/assets/data/mall.json\";\nexport default {\n    name: \"record\",\n    data: function () {\n        return {\n            list: [],\n\n            total: 0,\n            pageIndex: 1,\n            pageSize: 10,\n\n            payStatus,\n            orderStatus,\n\n            dialogVisible: false,\n            mode: \"\",\n            order_id: \"\",\n            addressList: [],\n            address_form: {\n                address_id: \"\",\n            },\n            address_rules: {\n                address_id: [{ required: true, message: \"请选择地址\", trigger: \"change\" }],\n            },\n            remark_form: {\n                remark: \"\",\n            },\n            remark_rules: {\n                remark: [{ required: true, message: \"请输入备注\", trigger: \"blur\" }],\n            },\n        };\n    },\n    computed: {\n        params() {\n            const _params = {\n                pageIndex: this.pageIndex,\n                pageSize: this.pageSize,\n            };\n            return _params;\n        },\n        title() {\n            return this.mode == \"address\" ? \"修改收货地址\" : \"修改备注\";\n        },\n    },\n    methods: {\n        load() {\n            getOrder(this.params).then((res) => {\n                this.list = res.data.data.list;\n                this.total = res.data.data.page.total;\n            });\n        },\n        loadAddress() {\n            getAddress().then((res) => {\n                this.addressList = res.data.data.list;\n            });\n        },\n        showDetail(id) {\n            this.$router.push({\n                name: \"order-detail\",\n                params: {\n                    id,\n                },\n            });\n        },\n        open(id, type) {\n            this.order_id = id;\n            if (type == \"address\") this.loadAddress();\n            if (this.$refs.address_form !== undefined) this.$refs.address_form.clearValidate();\n            if (this.$refs.remark_form !== undefined) this.$refs.remark_form.clearValidate();\n            this.mode = type;\n            this.dialogVisible = true;\n        },\n        close() {\n            this.dialogVisible = false;\n        },\n        submit(formName) {\n            this.$refs[formName].validate((valid) => {\n                if (valid) {\n                    this.mode == \"address\"\n                        ? updateOrderAddress(this.order_id, this.address_form.address_id).then(() => {\n                              this.$message({\n                                  message: \"修改地址成功\",\n                                  type: \"success\",\n                              });\n                              this.close();\n                          })\n                        : updateOrderRemark(this.order_id, this.remark_form.remark).then(() => {\n                              this.$message({\n                                  message: \"修改备注成功\",\n                                  type: \"success\",\n                              });\n                              this.close();\n                          });\n                }\n            });\n        },\n        // 关闭订单\n        cancel(id) {\n\n        },\n    },\n    mounted() {\n        this.load();\n    },\n};\n</script>\n<style lang=\"less\">\n@import \"../assets/css/record.less\";\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./mall.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./mall.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./mall.vue?vue&type=template&id=400427ab&\"\nimport script from \"./mall.vue?vue&type=script&lang=js&\"\nexport * from \"./mall.vue?vue&type=script&lang=js&\"\nimport style0 from \"./mall.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./mall.vue?vue&type=style&index=0&lang=less&\""],"sourceRoot":""}