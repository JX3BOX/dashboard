{"version":3,"sources":["webpack:///./src/views/tasks.vue?163d","webpack:///./src/views/tasks.vue","webpack:///./src/service/tasks.js","webpack:///src/views/tasks.vue","webpack:///./src/views/tasks.vue?19b7","webpack:///./src/views/tasks.vue?e900"],"names":["render","_vm","this","_c","_self","staticClass","_m","directives","name","rawName","value","loading","expression","_l","list","item","index","key","attrs","task","task_icon","defaultTaskIcon","action_type_desc","task_url","_v","_s","task_detail","attr","attr_name","count","hasFinish","on","$event","checkFinish","id","staticRenderFns","getTasks","params","$pay","get","getCheckTasks","concat","props","data","experience","points","computed","__imgPath","watch","methods","loadTasks","_this","is_limit_everyday","os_visible","then","res","finally","_this2","$notify","title","message","type","location","reload","mounted","component"],"mappings":"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","file":"js/chunk-eadecafa.cedf311f.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./tasks.vue?vue&type=style&index=0&id=22656f6b&prod&lang=less&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"m-credit m-tasks\"},[_vm._m(0),_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"m-tasks-list\"},_vm._l((_vm.list),function(item,index){return _c('div',{key:index,staticClass:\"u-item\"},[_c('img',{staticClass:\"u-img\",attrs:{\"src\":item.task.task_icon || _vm.defaultTaskIcon,\"alt\":item.task.action_type_desc}}),_c('div',{staticClass:\"u-box\"},[_c('div',{staticClass:\"u-info\"},[_c('a',{staticClass:\"u-title\",attrs:{\"href\":item.task.task_url,\"target\":\"_blank\"}},[_vm._v(_vm._s(item.task.action_type_desc))]),_c('span',{staticClass:\"u-desc\"},[_vm._v(\" \"+_vm._s(item.task.task_detail)+\" ∕ \"),_vm._l((item.attr),function(attr,key){return _c('span',{key:key,staticClass:\"u-attr\"},[_vm._v(\" \"+_vm._s(_vm.attr_name[attr.name])+\" +\"+_vm._s(attr.count)+\" \")])})],2)]),_c('div',{staticClass:\"u-btn\"},[_c('el-button',{attrs:{\"size\":\"small\",\"type\":item.hasFinish ? 'success' : 'warning',\"disabled\":item.hasFinish,\"icon\":item.hasFinish && 'el-icon-check' || ''},on:{\"click\":function($event){return _vm.checkFinish(item.task.id)}}},[_vm._v(_vm._s(item.hasFinish ? '已完成' : '接受任务'))])],1)])])}),0)])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('h2',{staticClass:\"u-title\"},[_c('i',{staticClass:\"el-icon-coffee-cup\"}),_vm._v(\" 任务中心\")])\n}]\n\nexport { render, staticRenderFns }","import { $pay } from \"@jx3box/jx3box-common/js/https\";\n\nfunction getTasks(params) {\n    return $pay().get(`/api/personal/task`, {\n        params,\n    });\n}\nfunction getCheckTasks(id) {\n    return $pay().get(`/api/personal/task/${id}/check-status`);\n}\n\nexport { getTasks, getCheckTasks };\n","<template>\n    <div class=\"m-credit m-tasks\">\n        <h2 class=\"u-title\"><i class=\"el-icon-coffee-cup\"></i> 任务中心</h2>\n        <div class=\"m-tasks-list\" v-loading=\"loading\">\n            <div class=\"u-item\" v-for=\"(item, index) in list\" :key=\"index\">\n                <img class=\"u-img\" :src=\"item.task.task_icon || defaultTaskIcon\" :alt=\"item.task.action_type_desc\" />\n                <div class=\"u-box\">\n                    <div class=\"u-info\">\n                        <a class=\"u-title\" :href=\"item.task.task_url\" target=\"_blank\">{{ item.task.action_type_desc }}</a>\n                        <span class=\"u-desc\">\n                            {{item.task.task_detail}} ∕\n                            <span v-for=\"(attr, key) in item.attr\" :key=\"key\" class=\"u-attr\">\n                                {{ attr_name[attr.name] }} +{{ attr.count }}\n                            </span>\n                        </span>\n                    </div>\n                    <div class=\"u-btn\">\n                        <el-button\n                            size=\"small\"\n                            :type=\"item.hasFinish ? 'success' : 'warning'\"\n                            :disabled=\"item.hasFinish\"\n                            :icon=\"item.hasFinish && 'el-icon-check' || ''\"\n                            @click=\"checkFinish(item.task.id)\"\n                            >{{item.hasFinish ? '已完成' : '接受任务'}}</el-button\n                        >\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n<script>\nimport { getTasks, getCheckTasks } from \"@/service/tasks.js\";\nimport { __imgPath } from \"@jx3box/jx3box-common/data/jx3box.json\";\nexport default {\n    name: \"tasks\",\n    props: [],\n\n    data: function () {\n        return {\n            loading: false,\n            list: [],\n            attr_name: {\n                experience: \"经验\",\n                points: \"积分\",\n            },\n        };\n    },\n    computed: {\n        defaultTaskIcon() {\n            return __imgPath + \"image/common/jx3box_black.svg\";\n        },\n    },\n    watch: {},\n    methods: {\n        // 加载任务列表\n        loadTasks() {\n            this.loading = true;\n            getTasks({ is_limit_everyday: 0, os_visible: 1 })\n                .then((res) => {\n                    this.list = res.data.data.list;\n                })\n                .finally(() => {\n                    this.loading = false;\n                });\n        },\n        // 点击完成\n        checkFinish(id) {\n            getCheckTasks(id).then((res) => {\n                if (res.data.data.hasFinish) {\n                    this.$notify({\n                        title: \"成功\",\n                        message: \"完成任务，获得奖励\",\n                        type: \"success\",\n                    });\n                    location.reload();\n                } else {\n                    this.$notify({\n                        title: \"提示\",\n                        message: \"您没有完成任务\",\n                        type: \"warning\",\n                    });\n                }\n            });\n        },\n    },\n    mounted: function () {\n        this.loadTasks();\n    },\n};\n</script>\n<style lang=\"less\">\n@import \"~@/assets/css/tasks.less\";\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./tasks.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./tasks.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./tasks.vue?vue&type=template&id=22656f6b&\"\nimport script from \"./tasks.vue?vue&type=script&lang=js&\"\nexport * from \"./tasks.vue?vue&type=script&lang=js&\"\nimport style0 from \"./tasks.vue?vue&type=style&index=0&id=22656f6b&prod&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}