(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-19d75af2"],{"46e8":function(t,e,n){"use strict";n.d(e,"m",(function(){return r})),n.d(e,"d",(function(){return u})),n.d(e,"k",(function(){return s})),n.d(e,"l",(function(){return l})),n.d(e,"h",(function(){return m})),n.d(e,"a",(function(){return b})),n.d(e,"g",(function(){return f})),n.d(e,"i",(function(){return g})),n.d(e,"b",(function(){return _})),n.d(e,"n",(function(){return h})),n.d(e,"c",(function(){return p})),n.d(e,"e",(function(){return d})),n.d(e,"f",(function(){return w})),n.d(e,"j",(function(){return k}));var a=n("41cb"),c=n("bc3a"),i=n.n(c),o=n("65c2");function u(){return Object(a["a"])().get("/api/cms/user/my/profile")}function r(t){return Object(a["a"])().put("/api/cms/user/my/profile",t)}function s(t){return Object(a["a"])().put("/api/cms/user/my/avatar",t)}function h(t){return Object(a["a"])().post("/api/cms/upload/avatar",t)}function p(){var t=o["__imgPath"]+"avatar/index.json";return i.a.get(t)}function d(t){return Object(a["a"])().get("/api/cms/user/".concat(t,"/info"),{params:{__no_cache:1}})}function l(t){return Object(a["a"])().put("/api/cms/user/account/email/reset-password",t,{app:"jx3box"})}function b(t){return Object(a["a"])().get("/api/cms/user/account/email/valid",{params:{email:t}})}function f(t){return Object(a["a"])().post("/api/cms/user/account/email/bind",t)}function m(t){return Object(a["a"])().put("/api/cms/user/account/email/verify",{code:t},{app:"jx3box"})}function _(){return Object(a["a"])().get("/api/cms/account/oauth/status")}function g(t){return Object(a["a"])({popType:"alert"}).delete("/api/cms/account/oauth/unbind/".concat(t))}function w(){return Object(a["a"])().get("/api/cms/wechat/mp/bind")}function k(){return Object(a["a"])().get("/api/cms/wechat/mp/unbind")}},"4ed8":function(t,e,n){"use strict";n("ef00")},7834:function(t){t.exports=JSON.parse('{"github":{"id":"5fbf7a66cd7d3d0f5153","authorize_uri":"https://github.com/login/oauth/authorize","tokenURL":"https://github.com/login/oauth/access_token","resourceURL":"https://api.github.com/user","callback":"oauth/github/callback"},"qq":{"id":"101870778","authorize_uri":"https://graph.qq.com/oauth2.0/authorize","tokenURL":"https://graph.qq.com/oauth2.0/token","resourceURL":"https://graph.qq.com/oauth2.0/me","profileURL":"https://graph.qq.com/user/get_user_info","callback":"oauth/qq/callback"},"weibo":{"id":"4076650110","authorize_uri":"https://api.weibo.com/oauth2/authorize","tokenURL":"https://api.weibo.com/oauth2/access_token","resourceURL":"https://api.weibo.com/2/users/show.json","callback":"oauth/weibo/callback"},"wechat":{"id":"wx7804c72000d28202","authorize_uri":"https://open.weixin.qq.com/connect/qrconnect","tokenURL":"https://api.weixin.qq.com/sns/oauth2/access_token","resourceURL":"https://api.weixin.qq.com/sns/userinfo","callback":"oauth/wechat/callback"}}')},ef00:function(t,e,n){},fe82:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t._self._c;return e("uc",{staticClass:"m-dashboard-connect"},[e("div",{staticClass:"m-profile-connect"},[e("el-alert",{staticClass:"u-tip",attrs:{title:"通过第三方账号快速登录，如需解绑则需要先绑定一个邮箱",type:"warning","show-icon":""}}),e("div",{staticClass:"m-dashboard-content-list"},t._l(t.oauth,(function(n,a){return e("div",{key:a,staticClass:"m-item"},[e("span",{staticClass:"u-profile-item"},[e("img",{class:"u-"+a,attrs:{"svg-inline":"",src:t.icon(a)}}),e("span",{staticClass:"u-status"},[t._v(" "+t._s(t.checkStatus(a)?t.getNickname(a):"未绑定")+" ")])]),e("el-button",{staticClass:"u-button",attrs:{type:t.checkStatus(a)?"danger":"primary"},on:{click:function(e){t.checkStatus(a)?t.unbind(a):t.bind(a)}}},[t._v(" "+t._s(t.checkStatus(a)?"解除绑定":"绑定")+" ")])],1)})),0)],1)])},c=[],i=(n("caad"),n("ac1f"),n("2532"),n("5319"),n("b547")),o=n("65c2"),u=n("7834");const r={github:`${u.github.authorize_uri}?client_id=${u.github.id}&redirect_uri=${o["__server"]}${u.github.callback}&state=login`,qq:`${u.qq.authorize_uri}?client_id=${u.qq.id}&redirect_uri=${o["__server"]}${u.qq.callback}&response_type=code&scope=get_user_info&state=login`,weibo:`${u.weibo.authorize_uri}?client_id=${u.weibo.id}&response_type=code&redirect_uri=${o["__server"]}${u.weibo.callback}&state=login`,wechat:`${u.wechat.authorize_uri}?appid=${u.wechat.id}&redirect_uri=${o["__server"]}${u.wechat.callback}&response_type=code&scope=snsapi_login&state=login#wechat_redirect`};var s=r,h=n("46e8"),p=location.host.includes("origin")?"origin":"std",d={name:"connect",props:[],data:function(){return{data:{github_name:"",github_id:"",weibo_name:"",weibo_id:"",qq_name:"",qq_unionid:"",wechat_name:"",wechat_unionid:""},oauth:u}},computed:{},methods:{checkStatus:function(t){return"qq"==t||"wechat"==t?!!this.data[t+"_unionid"]:!!this.data[t+"_id"]},getNickname:function(t){return this.data[t+"_name"]||"未知"},bind:function(t){location.href=s[t].replace("state=login","state=bind_".concat(p))},unbind:function(t){var e=this;Object(h["i"])(t).then((function(t){e.$message({message:"解绑成功",type:"success"}),location.reload()}))},icon:function(t){return o["__imgPath"]+"image/connect/"+t+".svg"}},mounted:function(){var t=this;Object(h["b"])().then((function(e){t.data=e.data.data}))},components:{uc:i["a"]}},l=d,b=(n("4ed8"),n("2877")),f=Object(b["a"])(l,a,c,!1,null,null,null);e["default"]=f.exports}}]);
//# sourceMappingURL=chunk-19d75af2.292bb786.js.map