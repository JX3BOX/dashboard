{"version":3,"sources":["webpack:///./src/service/profile.js","webpack:///./src/views/config.vue?9a9b","webpack:///src/views/config.vue","webpack:///./src/views/config.vue?7a41","webpack:///./src/views/config.vue","webpack:///./src/views/config.vue?9681"],"names":["getUserInfo","uid","$","get","__server","params","checkNickname","name","updateNickname","data","post","updateProfile","getProfile","then","res","updateAvatar","updatePassword","checkEmailStatus","checkEmailAvailable","email","user_login","sendBindEmail","sendVerifyEmail","unbindOAuth","checkOAuth","getConf","setConf","render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","attrs","model","value","conf","callback","$$v","$set","expression","on","publish","staticRenderFns","component"],"mappings":"kHAAA,0hBAIA,SAASA,EAAYC,GACjB,OAAOC,OAAEC,IAAIC,cAAW,YAAa,CACjCC,OAAQ,CACJJ,IAAKA,KAMjB,SAASK,EAAcC,GACnB,OAAOL,OAAEC,IAAIC,cAAW,2BAA4B,CAChDC,OAAQ,CACJE,KAAMA,KAIlB,SAASC,EAAeC,GACpB,OAAOP,OAAEQ,KAAKN,cAAW,4BAA6B,CAAEG,KAAME,IAGlE,SAASE,EAAcF,GACnB,OAAOP,OAAEQ,KAAKN,cAAW,2BAA4BK,GAEzD,SAASG,IACL,OAAOV,OAAEC,IAAIC,cAAW,gBAAgBS,MAAK,SAACC,GAC1C,OAAOA,EAAIL,KAAKA,QAKxB,SAASM,EAAaN,GAClB,OAAOP,OAAEQ,KAAKN,cAAW,0BAA2BK,GAIxD,SAASO,EAAeP,GACpB,OAAOP,OAAEQ,KAAKN,cAAW,4BAA6BK,GAI1D,SAASQ,EAAiBhB,GACtB,OAAOC,OAAEC,IAAIC,cAAW,wBAAyB,CAC7CC,OAAQ,CACJJ,IAAKA,KAKjB,SAASiB,EAAoBC,GACzB,OAAOjB,OAAEC,IAAIC,cAAW,cAAe,CACnCC,OAAQ,CACJe,WAAYD,KAKxB,SAASE,EAAcZ,GACnB,OAAOP,OAAEQ,KAAKN,cAAW,uBAAwBK,GAGrD,SAASa,EAAgBrB,GACrB,OAAOC,OAAEC,IAAIC,cAAW,yBAA0B,CAC9CC,OAAQ,CACJJ,IAAKA,KAMjB,SAASsB,EAAYd,GACjB,OAAOP,OAAEQ,KAAKN,cAAW,yBAA0BK,GAGvD,SAASe,EAAWf,GAChB,OAAOP,OAAEQ,KAAKN,cAAW,wBAAyBK,GAItD,SAASgB,IACL,OAAOvB,OAAEC,IAAIC,cAAW,oBAG5B,SAASsB,EAAQjB,GACb,OAAOP,OAAEQ,KAAKN,cAAW,mBAAmBK,K,gECvFhD,IAAIkB,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,kCAAkC,CAACF,EAAG,KAAK,CAACE,YAAY,WAAW,CAACN,EAAIO,GAAG,UAAUH,EAAG,UAAU,CAACI,MAAM,CAAC,iBAAiB,OAAO,cAAc,UAAU,CAACJ,EAAG,eAAe,CAACI,MAAM,CAAC,MAAQ,WAAW,CAACJ,EAAG,YAAY,CAACI,MAAM,CAAC,eAAe,WAAWC,MAAM,CAACC,MAAOV,EAAIW,KAAc,UAAEC,SAAS,SAAUC,GAAMb,EAAIc,KAAKd,EAAIW,KAAM,YAAaE,IAAME,WAAW,qBAAqB,GAAGX,EAAG,eAAe,CAACI,MAAM,CAAC,MAAQ,KAAK,CAACJ,EAAG,YAAY,CAACE,YAAY,YAAYE,MAAM,CAAC,KAAO,gBAAgB,KAAO,WAAWQ,GAAG,CAAC,MAAQhB,EAAIiB,UAAU,CAACjB,EAAIO,GAAG,SAAS,IAAI,IAAI,IACnqBW,EAAkB,G,YCqBtB,GACE,KAAF,SACE,MAAF,GACE,KAAF,WACI,MAAJ,CACM,KAAN,CACQ,UAAR,KAIE,SAAF,GAEE,QAAF,CACI,QAAJ,WAAM,IAAN,OACM,OAAN,OAAM,CAAN,6BACQ,EAAR,UACU,QAAV,SACU,KAAV,gBAII,KAAJ,WAAM,IAAN,OACM,OAAN,OAAM,GAAN,kBACQ,EAAR,iBACQ,EAAR,uCAIE,QAAF,WACI,KAAJ,QAEE,WAAF,ICrD2Y,I,wBCQvYC,EAAY,eACd,EACApB,EACAmB,GACA,EACA,KACA,KACA,MAIa,aAAAC,E,2CCnBf,yBAAopB,EAAG","file":"js/chunk-63574f58.519eb83a.js","sourcesContent":["import { $ } from \"./axios\";\nimport { __server } from \"@jx3box/jx3box-common/js/jx3box.json\";\n\n// 信息\nfunction getUserInfo(uid) {\n    return $.get(__server + \"user/info\", {\n        params: {\n            uid: uid,\n        },\n    });\n}\n\n// 昵称\nfunction checkNickname(name) {\n    return $.get(__server + \"dashboard/nickname/check\", {\n        params: {\n            name: name,\n        },\n    });\n}\nfunction updateNickname(data) {\n    return $.post(__server + \"dashboard/nickname/update\", { name: data });\n}\n// 资料\nfunction updateProfile(data) {\n    return $.post(__server + \"dashboard/profile/update\", data);\n}\nfunction getProfile(){\n    return $.get(__server + \"user/profile\").then((res) => {\n        return res.data.data\n    })\n}\n\n// 头像\nfunction updateAvatar(data) {\n    return $.post(__server + \"dashboard/avatar/update\", data);\n}\n\n// 密码\nfunction updatePassword(data) {\n    return $.post(__server + \"dashboard/password/update\", data);\n}\n\n// 邮箱\nfunction checkEmailStatus(uid) {\n    return $.get(__server + \"dashboard/email/check\", {\n        params: {\n            uid: uid,\n        },\n    });\n}\n\nfunction checkEmailAvailable(email) {\n    return $.get(__server + \"account/has\", {\n        params: {\n            user_login: email,\n        },\n    });\n}\n\nfunction sendBindEmail(data) {\n    return $.post(__server + \"dashboard/email/bind\", data);\n}\n\nfunction sendVerifyEmail(uid) {\n    return $.get(__server + \"dashboard/email/verify\", {\n        params: {\n            uid: uid,\n        },\n    });\n}\n\n// 互联\nfunction unbindOAuth(data) {\n    return $.post(__server + \"dashboard/oauth/unbind\", data);\n}\n\nfunction checkOAuth(data) {\n    return $.post(__server + \"dashboard/oauth/check\", data);\n}\n\n// 用户设置\nfunction getConf(){\n    return $.get(__server + \"dashboard/config\");\n}\n\nfunction setConf(data){\n    return $.post(__server + \"dashboard/config\",data);\n}\n\nexport {\n    getUserInfo,\n    checkNickname,\n    updateNickname,\n    updateProfile,\n    getProfile,\n    updateAvatar,\n    updatePassword,\n    sendVerifyEmail,\n    checkEmailAvailable,\n    checkEmailStatus,\n    sendBindEmail,\n    unbindOAuth,\n    checkOAuth,\n    getConf,\n    setConf\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"m-dashboard m-dashboard-config\"},[_c('h2',{staticClass:\"u-title\"},[_vm._v(\"通知设置\")]),_c('el-form',{attrs:{\"label-position\":\"left\",\"label-width\":\"120px\"}},[_c('el-form-item',{attrs:{\"label\":\"评论邮件通知\"}},[_c('el-switch',{attrs:{\"active-color\":\"#13ce66\"},model:{value:(_vm.conf.cmt_email),callback:function ($$v) {_vm.$set(_vm.conf, \"cmt_email\", $$v)},expression:\"conf.cmt_email\"}})],1),_c('el-form-item',{attrs:{\"label\":\"\"}},[_c('el-button',{staticClass:\"u-publish\",attrs:{\"icon\":\"el-icon-check\",\"type\":\"primary\"},on:{\"click\":_vm.publish}},[_vm._v(\"提交\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"m-dashboard m-dashboard-config\">\n        <h2 class=\"u-title\">通知设置</h2>\n        <el-form label-position=\"left\" label-width=\"120px\">\n            <el-form-item label=\"评论邮件通知\">\n                <el-switch v-model=\"conf.cmt_email\" active-color=\"#13ce66\"> </el-switch>\n            </el-form-item>\n            <el-form-item label=\"\">\n                <el-button\n                    class=\"u-publish\"\n                    icon=\"el-icon-check\"\n                    type=\"primary\"\n                    @click=\"publish\"\n                    >提交</el-button\n                >\n            </el-form-item>\n        </el-form>\n    </div>\n</template>\n\n<script>\nimport { getConf, setConf } from \"@/service/profile\";\nexport default {\n    name: \"config\",\n    props: [],\n    data: function() {\n        return {\n            conf : {\n                cmt_email: 0,\n            }\n        };\n    },\n    computed: {\n    },\n    methods: {\n        publish: function() {\n            setConf(this.conf).then((res) => {\n                this.$message({\n                    message: '设置更新成功',\n                    type: 'success'\n                });\n            })\n        },\n        load : function (){\n            getConf().then((res) => {\n                this.conf = res.data.data\n                this.conf.cmt_email = !!this.conf.cmt_email\n            })\n        }\n    },\n    mounted: function() {\n        this.load()\n    },\n    components: {},\n};\n</script>\n\n<style lang=\"less\">\n@import \"../assets/css/dashboard/config.less\";\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./config.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./config.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./config.vue?vue&type=template&id=b47a9c44&\"\nimport script from \"./config.vue?vue&type=script&lang=js&\"\nexport * from \"./config.vue?vue&type=script&lang=js&\"\nimport style0 from \"./config.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/style-resources-loader/lib/index.js??ref--10-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./config.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/style-resources-loader/lib/index.js??ref--10-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./config.vue?vue&type=style&index=0&lang=less&\""],"sourceRoot":""}