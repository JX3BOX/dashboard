{"version":3,"sources":["webpack:///./src/views/tasks.vue?03c0","webpack:///./src/service/tasks.js","webpack:///src/views/tasks.vue","webpack:///./src/views/tasks.vue?19b7","webpack:///./src/views/tasks.vue","webpack:///./src/views/tasks.vue?7d1b"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_m","directives","name","rawName","value","expression","_l","item","index","key","attrs","imgPath","task","action_type_desc","_v","_s","attr","attr_name","count","hasFinish","on","$event","checkFinish","id","staticRenderFns","getTasks","params","$pay","get","getCheckTasks","props","data","loading","list","experience","points","computed","watch","methods","loadTasks","then","finally","title","message","type","location","mounted","component"],"mappings":"kJAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,oBAAoB,CAACN,EAAIO,GAAG,GAAGH,EAAG,MAAM,CAACI,WAAW,CAAC,CAACC,KAAK,UAAUC,QAAQ,YAAYC,MAAOX,EAAW,QAAEY,WAAW,YAAYN,YAAY,gBAAgBN,EAAIa,GAAIb,EAAQ,MAAE,SAASc,EAAKC,GAAO,OAAOX,EAAG,MAAM,CAACY,IAAID,EAAMT,YAAY,UAAU,CAACF,EAAG,MAAM,CAACE,YAAY,QAAQW,MAAM,CAAC,IAAMjB,EAAIkB,QAAQ,IAAMJ,EAAKK,KAAKC,oBAAoBhB,EAAG,MAAM,CAACE,YAAY,SAAS,CAACF,EAAG,MAAM,CAACE,YAAY,UAAU,CAACF,EAAG,OAAO,CAACE,YAAY,WAAW,CAACN,EAAIqB,GAAGrB,EAAIsB,GAAGR,EAAKK,KAAKC,qBAAqBhB,EAAG,OAAO,CAACE,YAAY,UAAUN,EAAIa,GAAIC,EAAS,MAAE,SAASS,EAAKP,GAAK,OAAOZ,EAAG,OAAO,CAACY,IAAIA,EAAIV,YAAY,UAAU,CAACN,EAAIqB,GAAG,IAAIrB,EAAIsB,GAAGtB,EAAIwB,UAAUD,EAAKd,OAAO,IAAIT,EAAIsB,GAAGC,EAAKE,OAAO,UAAS,KAAKrB,EAAG,MAAM,CAACE,YAAY,SAAS,CAACF,EAAG,YAAY,CAACa,MAAM,CAAC,KAAO,UAAU,SAAWH,EAAKY,UAAU,KAAO,iBAAiBC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAO5B,EAAI6B,YAAYf,EAAKK,KAAKW,OAAO,CAAC9B,EAAIqB,GAAG,UAAU,UAAS,MAC1/BU,EAAkB,CAAC,WAAa,IAAI/B,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,KAAK,CAACE,YAAY,WAAW,CAACF,EAAG,IAAI,CAACE,YAAY,uBAAuBN,EAAIqB,GAAG,c,wBCC7L,SAASW,EAASC,GACd,OAAOC,iBAAOC,IAAP,qBAAiCF,GAE5C,SAASG,EAAcN,GACnB,OAAOI,iBAAOC,IAAP,6BAAiCL,EAAjC,kB,gBCsBI,GACfrB,aACA4B,SAEAC,gBACA,OACAC,WACAC,QACAhB,WACAiB,gBACAC,eAIAC,UACAzB,QADA,WAEA,iDAGA0B,SACAC,SAEAC,UAFA,WAEA,WACA,gBACAd,IACAe,MAAA,YACA,2BAEAC,SAAA,WACA,iBAIAnB,YAbA,SAaAC,GAAA,WACAM,uBACA,uBACA,WACAa,WACAC,oBACAC,iBAEAC,mBAEA,WACAH,WACAC,kBACAC,sBAMAE,mBACA,mBCjF0Y,I,wBCQtYC,EAAY,eACd,EACAvD,EACAgC,GACA,EACA,KACA,KACA,MAIa,aAAAuB,E,6CCnBf","file":"js/chunk-d3a530c6.4b983453.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"m-credit m-tasks\"},[_vm._m(0),_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"m-tasks-list\"},_vm._l((_vm.list),function(item,index){return _c('div',{key:index,staticClass:\"u-item\"},[_c('img',{staticClass:\"u-img\",attrs:{\"src\":_vm.imgPath,\"alt\":item.task.action_type_desc}}),_c('div',{staticClass:\"u-box\"},[_c('div',{staticClass:\"u-info\"},[_c('span',{staticClass:\"u-title\"},[_vm._v(_vm._s(item.task.action_type_desc))]),_c('span',{staticClass:\"u-desc\"},_vm._l((item.attr),function(attr,key){return _c('span',{key:key,staticClass:\"u-attr\"},[_vm._v(\" \"+_vm._s(_vm.attr_name[attr.name])+\"+\"+_vm._s(attr.count)+\" \")])}),0)]),_c('div',{staticClass:\"u-btn\"},[_c('el-button',{attrs:{\"type\":\"primary\",\"disabled\":item.hasFinish,\"icon\":\"el-icon-check\"},on:{\"click\":function($event){return _vm.checkFinish(item.task.id)}}},[_vm._v(\"已完成\")])],1)])])}),0)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('h2',{staticClass:\"u-title\"},[_c('i',{staticClass:\"el-icon-coffee-cup\"}),_vm._v(\" 我的任务 \")])}]\n\nexport { render, staticRenderFns }","import { $pay } from \"@jx3box/jx3box-common/js/https\";\r\n\r\nfunction getTasks(params) {\r\n    return $pay().get(`/api/personal/task`, params);\r\n}\r\nfunction getCheckTasks(id) {\r\n    return $pay().get(`/api/personal/task/${id}/check-status`);\r\n}\r\n\r\nexport { getTasks, getCheckTasks };\r\n","<template>\r\n    <div class=\"m-credit m-tasks\">\r\n        <h2 class=\"u-title\">\r\n            <i class=\"el-icon-coffee-cup\"></i> 我的任务\r\n        </h2>\r\n        <div class=\"m-tasks-list\" v-loading=\"loading\">\r\n            <div class=\"u-item\" v-for=\"(item,index) in list\" :key=\"index\">\r\n                <img class=\"u-img\" :src=\"imgPath\" :alt=\"item.task.action_type_desc\">\r\n                <div class=\"u-box\">\r\n                    <div class=\"u-info\">\r\n                        <span class=\"u-title\">{{item.task.action_type_desc}}</span>\r\n                        <span class=\"u-desc\">\r\n                            <span v-for=\"(attr,key) in item.attr\" :key=\"key\" class=\"u-attr\">\r\n                                {{attr_name[attr.name]}}+{{attr.count}}\r\n                            </span>\r\n                        </span>\r\n                    </div>\r\n                    <div class=\"u-btn\">\r\n                        <el-button type=\"primary\" :disabled=\"item.hasFinish\" icon=\"el-icon-check\" @click=\"checkFinish(item.task.id)\">已完成</el-button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\nimport { getTasks, getCheckTasks } from \"@/service/tasks.js\";\r\nimport { __imgPath } from \"@jx3box/jx3box-common/data/jx3box.json\";\r\nexport default {\r\n    name: \"tasks\",\r\n    props: [],\r\n\r\n    data: function () {\r\n        return {\r\n            loading: false,\r\n            list: [],\r\n            attr_name: {\r\n                experience: \"经验\",\r\n                points: \"积分\",\r\n            },\r\n        };\r\n    },\r\n    computed: {\r\n        imgPath() {\r\n            return __imgPath + \"image/other/avatar.png\";\r\n        },\r\n    },\r\n    watch: {},\r\n    methods: {\r\n        // 加载任务列表\r\n        loadTasks() {\r\n            this.loading = true;\r\n            getTasks()\r\n                .then((res) => {\r\n                    this.list = res.data.data.list;\r\n                })\r\n                .finally(() => {\r\n                    this.loading = false;\r\n                });\r\n        },\r\n        // 点击完成\r\n        checkFinish(id) {\r\n            getCheckTasks(id).then((res) => {\r\n                if (res.data.data.hasFinish) {\r\n                    this.$notify({\r\n                        title: \"成功\",\r\n                        message: \"完成任务，获得奖励\",\r\n                        type: \"success\",\r\n                    });\r\n                    location.reload();\r\n                } else {\r\n                    this.$notify({\r\n                        title: \"提示\",\r\n                        message: \"您没有完成任务\",\r\n                        type: \"warning\",\r\n                    });\r\n                }\r\n            });\r\n        },\r\n    },\r\n    mounted: function () {\r\n        this.loadTasks();\r\n    },\r\n};\r\n</script>\r\n<style lang='less'>\r\n    @import \"~@/assets/css/tasks.less\";\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./tasks.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./tasks.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./tasks.vue?vue&type=template&id=40855225&\"\nimport script from \"./tasks.vue?vue&type=script&lang=js&\"\nexport * from \"./tasks.vue?vue&type=script&lang=js&\"\nimport style0 from \"./tasks.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./tasks.vue?vue&type=style&index=0&lang=less&\""],"sourceRoot":""}