{"version":3,"sources":["webpack:///./src/publish/collection.vue?727c","webpack:///./node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js","webpack:///./node_modules/@jx3box/jx3box-editor/service/enum/CollectionPublic.js","webpack:///./src/service/post.js","webpack:///src/publish/collection.vue","webpack:///./src/publish/collection.vue?03b7","webpack:///./src/publish/collection.vue","webpack:///./src/service/collection.js","webpack:///./src/components/publish/post_banner.vue?9b90","webpack:///src/components/publish/post_banner.vue","webpack:///./src/components/publish/post_banner.vue?7da6","webpack:///./src/components/publish/post_banner.vue","webpack:///./src/components/publish/post_banner.vue?1f42","webpack:///./src/publish/collection.vue?ca75"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_t","_v","model","value","collection","callback","$$v","$set","expression","public","PUBLIC","_n","PRIVATE","posts","length","_l","item","key","on","$event","splice","search_handle","url","title","type","k","query","post_id","title_fill","post","id","_e","add_posts_item","show_description","directives","name","rawName","t","domProps","_s","tags","tags_search","tag","push","$store","state","processing","submit","staticRenderFns","_createForOfIteratorHelper","o","allowArrayLike","it","Symbol","iterator","Array","isArray","unsupportedIterableToArray","i","F","s","n","done","e","f","TypeError","err","normalCompletion","didErr","step","next","_e2","CollectionPublic","Object","freeze","get_posts_by_type","params","$http","method","component","qs","require","get_legal_tags","get_collection","collection_id","get_my_collections","submit_collection","data","stringify","action","remove_collection","fail","_f","post_banner","clearBanner"],"mappings":"kJAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,iBAAiB,CAACF,EAAG,YAAY,CAACG,MAAM,CAAC,KAAO,OAAO,YAAa,IAAQ,CAACP,EAAIQ,GAAG,WAAW,GAAGJ,EAAG,UAAU,CAACE,YAAY,uBAAuBC,MAAM,CAAC,iBAAiB,SAAS,CAACH,EAAG,MAAM,CAACE,YAAY,mBAAmB,CAACF,EAAG,aAAa,CAACG,MAAM,CAAC,mBAAmB,SAAS,CAACP,EAAIS,GAAG,QAAQL,EAAG,WAAW,CAACG,MAAM,CAAC,YAAc,UAAU,UAAY,KAAK,kBAAkB,IAAIG,MAAM,CAACC,MAAOX,EAAIY,WAAgB,MAAEC,SAAS,SAAUC,GAAMd,EAAIe,KAAKf,EAAIY,WAAY,QAASE,IAAME,WAAW,uBAAuB,GAAGZ,EAAG,MAAM,CAACE,YAAY,qBAAqB,CAACF,EAAG,MAAM,CAACE,YAAY,2BAA2B,CAACF,EAAG,aAAa,CAACG,MAAM,CAAC,mBAAmB,SAAS,CAACP,EAAIS,GAAG,SAASL,EAAG,WAAW,CAACG,MAAM,CAAC,MAAQN,KAAKgB,OAAOC,QAAQR,MAAM,CAACC,MAAOX,EAAIY,WAAiB,OAAEC,SAAS,SAAUC,GAAMd,EAAIe,KAAKf,EAAIY,WAAY,SAAUZ,EAAImB,GAAGL,KAAOE,WAAW,sBAAsB,CAAChB,EAAIS,GAAG,QAAQL,EAAG,WAAW,CAACG,MAAM,CAAC,MAAQN,KAAKgB,OAAOG,SAASV,MAAM,CAACC,MAAOX,EAAIY,WAAiB,OAAEC,SAAS,SAAUC,GAAMd,EAAIe,KAAKf,EAAIY,WAAY,SAAUZ,EAAImB,GAAGL,KAAOE,WAAW,sBAAsB,CAAChB,EAAIS,GAAG,SAAS,GAAGL,EAAG,MAAM,CAACE,YAAY,2BAA2B,CAACF,EAAG,aAAa,CAACG,MAAM,CAAC,mBAAmB,SAAS,CAACP,EAAIS,GAAG,SAASL,EAAG,cAAc,CAACM,MAAM,CAACC,MAAOX,EAAIY,WAAgB,MAAEC,SAAS,SAAUC,GAAMd,EAAIe,KAAKf,EAAIY,WAAY,QAASE,IAAME,WAAW,uBAAuB,GAAGZ,EAAG,MAAM,CAACE,YAAY,sDAAsD,CAACF,EAAG,aAAa,CAACG,MAAM,CAAC,mBAAmB,SAAS,CAACP,EAAIS,GAAG,QAAST,EAAIY,WAAWS,OAASrB,EAAIY,WAAWS,MAAMC,OAAQlB,EAAG,YAAY,CAACE,YAAY,eAAeC,MAAM,CAAC,IAAM,KAAK,KAAOP,EAAIY,WAAWS,MAAM,OAAS,YAAYrB,EAAIuB,GAAIvB,EAAIY,WAAgB,OAAE,SAASY,EAAKC,GAAK,OAAOrB,EAAG,KAAK,CAACqB,IAAIA,EAAInB,YAAY,gBAAgB,CAACF,EAAG,IAAI,CAACE,YAAY,wBAAwBF,EAAG,IAAI,CAACE,YAAY,yBAAyBoB,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAO3B,EAAIY,WAAWS,MAAMO,OAAOH,EAAK,OAAOrB,EAAG,SAAS,CAACE,YAAY,eAAeC,MAAM,CAAC,OAAS,KAAK,CAACH,EAAG,SAAS,CAACE,YAAY,oBAAoBC,MAAM,CAAC,KAAO,IAAI,CAACH,EAAG,YAAY,CAACE,YAAY,aAAaC,MAAM,CAAC,YAAc,WAAWmB,GAAG,CAAC,OAAS,WAC/rE1B,EAAI6B,cAAc,KAAML,GACxBA,EAAKM,IAAMN,EAAKO,MAAQ,KACzBrB,MAAM,CAACC,MAAOa,EAAS,KAAEX,SAAS,SAAUC,GAAMd,EAAIe,KAAKS,EAAM,OAAQV,IAAME,WAAW,cAAchB,EAAIuB,GAAIvB,EAAgB,cAAE,SAASgC,EAAKC,GAAG,OAAO7B,EAAG,YAAY,CAACqB,IAAIQ,EAAE1B,MAAM,CAAC,MAAQyB,EAAK,MAAQC,QAAO,IAAI,GAAG7B,EAAG,SAAS,CAACE,YAAY,kBAAkBC,MAAM,CAAC,KAAO,IAAI,CAAgB,WAAdiB,EAAKQ,KAAmB5B,EAAG,YAAY,CAACE,YAAY,eAAeC,MAAM,CAAC,WAAa,GAAG,OAAS,GAAG,YAAc,eAAe,gBAAgB,SAAU2B,GACrblC,EAAI6B,cAAcK,EAAOV,KAC1BE,GAAG,CAAC,OAAS,SAAUS,GACtBnC,EAAIoC,WAAWD,EAASX,KACzBd,MAAM,CAACC,MAAOa,EAAO,GAAEX,SAAS,SAAUC,GAAMd,EAAIe,KAAKS,EAAM,KAAMV,IAAME,WAAW,YAAY,CAAChB,EAAIuB,GAAIC,EAAU,OAAE,SAASa,GAAM,MAAO,CAAEA,EAAKC,IAAMD,EAAKN,MAAO3B,EAAG,YAAY,CAACqB,IAAIY,EAAKC,GAAG/B,MAAM,CAAC,MAAQ8B,EAAKC,GAAG,MAAQD,EAAKN,SAAS/B,EAAIuC,UAAS,GAAGnC,EAAG,WAAW,CAACE,YAAY,eAAeC,MAAM,CAAC,YAAc,6BAA6BG,MAAM,CAACC,MAAOa,EAAQ,IAAEX,SAAS,SAAUC,GAAMd,EAAIe,KAAKS,EAAM,MAAOV,IAAME,WAAW,eAAe,GAAIQ,EAAQ,IAAEpB,EAAG,SAAS,CAACE,YAAY,mBAAmBC,MAAM,CAAC,KAAO,KAAK,CAACH,EAAG,WAAW,CAACG,MAAM,CAAC,YAAc,YAAYG,MAAM,CAACC,MAAOa,EAAU,MAAEX,SAAS,SAAUC,GAAMd,EAAIe,KAAKS,EAAM,QAASV,IAAME,WAAW,iBAAiB,GAAGhB,EAAIuC,MAAM,IAAI,MAAK,GAAGnC,EAAG,MAAM,CAACE,YAAY,uBAAuB,CAACN,EAAIS,GAAG,sBAAsBL,EAAG,MAAM,CAACE,YAAY,cAAcoB,GAAG,CAAC,MAAQ1B,EAAIwC,iBAAiB,CAACpC,EAAG,IAAI,CAACE,YAAY,iBAAiBF,EAAG,OAAO,CAACJ,EAAIS,GAAG,cAAc,GAAGL,EAAG,MAAM,CAACE,YAAY,iDAAiD,CAACF,EAAG,aAAa,CAACG,MAAM,CAAC,mBAAmB,QAAQmB,GAAG,CAAC,MAAQ,SAASC,GAAQ3B,EAAIyC,kBAAoBzC,EAAIyC,oBAAoB,CAACzC,EAAIS,GAAG,YAAcT,EAAIyC,iBAAgIzC,EAAIuC,KAAlHnC,EAAG,OAAO,CAACE,YAAY,SAASoB,GAAG,CAAC,MAAQ,SAASC,GAAQ3B,EAAIyC,kBAAmB,KAAQ,CAACzC,EAAIS,GAAG,UAAoBT,EAAoB,iBAAEI,EAAG,OAAO,CAACE,YAAY,SAASoB,GAAG,CAAC,MAAQ,SAASC,GAAQ3B,EAAIyC,kBAAmB,KAAS,CAACzC,EAAIS,GAAG,UAAUT,EAAIuC,KAAKnC,EAAG,UAAU,CAACsC,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASjC,MAAOX,EAAoB,iBAAEgB,WAAW,qBAAqBT,MAAM,CAAC,kBAAmB,EAAK,gBAAiB,EAAK,OAAS,KAAKG,MAAM,CAACC,MAAOX,EAAIY,WAAsB,YAAEC,SAAS,SAAUC,GAAMd,EAAIe,KAAKf,EAAIY,WAAY,cAAeE,IAAME,WAAW,6BAA6B,GAAGZ,EAAG,MAAM,CAACE,YAAY,0CAA0C,CAACF,EAAG,aAAa,CAACG,MAAM,CAAC,mBAAmB,SAAS,CAACP,EAAIS,GAAG,YAAYL,EAAG,KAAK,CAACE,YAAY,gBAAgBN,EAAIuB,GAAIvB,EAAIY,WAAe,MAAE,SAASiC,EAAEpB,GAAK,OAAOrB,EAAG,KAAK,CAACqB,IAAIA,EAAInB,YAAY,SAAS,CAACF,EAAG,OAAO,CAAC0C,SAAS,CAAC,YAAc9C,EAAI+C,GAAGF,MAAMzC,EAAG,IAAI,CAACE,YAAY,gBAAgBoB,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAO3B,EAAIY,WAAWoC,KAAKpB,OAAOH,EAAK,YAAW,GAAIzB,EAAIY,WAAWoC,KAAK1B,OAAS,EAAGlB,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,kBAAkB,CAACE,YAAY,kBAAkBC,MAAM,CAAC,YAAc,eAAe,oBAAoBP,EAAIiD,aAAavC,MAAM,CAACC,MAAOX,EAAO,IAAEa,SAAS,SAAUC,GAAMd,EAAIkD,IAAIpC,GAAKE,WAAW,SAASZ,EAAG,YAAY,CAACE,YAAY,YAAYoB,GAAG,CAAC,MAAQ,WAC1+E1B,EAAIkD,KAAOlD,EAAIY,WAAWoC,KAAKG,KAAKnD,EAAIkD,KAC5ClD,EAAIkD,IAAM,MACV,CAAC9C,EAAG,IAAI,CAACE,YAAY,oBAAoB,GAAGN,EAAIuC,MAAM,KAAKnC,EAAG,eAAe,CAACA,EAAG,YAAY,CAACE,YAAY,yCAAyCC,MAAM,CAAC,KAAO,sBAAsB,KAAO,UAAU,QAAUP,EAAIoD,OAAOC,MAAMC,YAAY5B,GAAG,CAAC,MAAQ1B,EAAIuD,SAAS,CAACvD,EAAIS,GAAG,cAAc,IAAI,IAAI,IAClU+C,EAAkB,G,0ECVP,SAASC,EAA2BC,EAAGC,GACpD,IAAIC,EAEJ,GAAsB,qBAAXC,QAAgD,MAAtBH,EAAEG,OAAOC,UAAmB,CAC/D,GAAIC,MAAMC,QAAQN,KAAOE,EAAKK,eAA2BP,KAAOC,GAAkBD,GAAyB,kBAAbA,EAAEpC,OAAqB,CAC/GsC,IAAIF,EAAIE,GACZ,IAAIM,EAAI,EAEJC,EAAI,aAER,MAAO,CACLC,EAAGD,EACHE,EAAG,WACD,OAAIH,GAAKR,EAAEpC,OAAe,CACxBgD,MAAM,GAED,CACLA,MAAM,EACN3D,MAAO+C,EAAEQ,OAGbK,EAAG,SAAWhC,GACZ,MAAMA,GAERiC,EAAGL,GAIP,MAAM,IAAIM,UAAU,yIAGtB,IAEIC,EAFAC,GAAmB,EACnBC,GAAS,EAEb,MAAO,CACLR,EAAG,WACDR,EAAKF,EAAEG,OAAOC,aAEhBO,EAAG,WACD,IAAIQ,EAAOjB,EAAGkB,OAEd,OADAH,EAAmBE,EAAKP,KACjBO,GAETN,EAAG,SAAWQ,GACZH,GAAS,EACTF,EAAMK,GAERP,EAAG,WACD,IACOG,GAAoC,MAAhBf,EAAG,WAAmBA,EAAG,YADpD,QAGE,GAAIgB,EAAQ,MAAMF,K,0DCpD1B,MAAMM,EAAmBC,OAAOC,OAAO,CACrC9D,QAAS,EACTF,OAAQ,EAER,MACE,MAAO,CACLjB,KAAKmB,QACLnB,KAAKiB,WAKI,Q,qECJf,SAASiE,EAAkBnD,EAAMoD,GAC7B,OAAOC,eAAM,CACTC,OAAQ,MACRxD,IAAK,mBAAF,OAAqBE,GACxBoD,OAAQA,IC8NhB,UACA,UADA,IAGA,GACE,KAAF,OACE,MAAF,GACE,KAHF,WAKI,IAAJ,kDAII,OAHA,EAAJ,uBACA,QAEA,CACM,aAAN,EACM,OAAN,EAEM,WAAN,CACQ,GAAR,GACQ,MAAR,GACQ,OAAR,EACQ,MAAR,GACQ,YAAR,GACQ,KAAR,GACQ,MAAR,IAEM,IAAN,GACM,WAAN,KACM,kBAAN,IAGE,QA3BF,WA2BI,IAAJ,OACA,oDAEA,kCACM,OAAN,OAAM,CAAN,oDAEQ,GADA,EAAR,OACA,cACU,IAAV,oBACU,GAAV,GACY,IAAZ,kBACc,IAAd,aACc,EAAd,eACA,kBACA,KACA,EAAgB,GAAhB,KAAgB,MAAhB,UAEY,EAAZ,kBAEY,EAAZ,UACc,QAAd,kBACc,KAAd,iBAOE,QAAF,CAEI,YAFJ,SAEA,KAAM,IAAN,OACA,uBACQ,OAAR,OAAQ,GAAR,kBACU,EAAV,OACU,EAAV,uCACU,EAAV,sBAEA,yBAEI,aAXJ,SAWA,GACM,IADN,EACA,KADA,IAEA,iBAFM,IAEE,IAAR,wBAAU,IAAV,UACA,6BAAY,MAAZ,KAHA,SAAQ,EAAR,aAAQ,EAAR,IAKM,OAAN,GAGI,WAnBJ,SAmBA,KACM,IAAN,aACM,EAAN,6BAEI,eAvBJ,WAwBM,KAAN,uBACQ,MAAR,GACQ,KAAR,GACQ,GAAR,GACQ,IAAR,GACQ,MAAR,QAGI,cAhCJ,SAgCA,KACA,sBACM,EAAN,QACQ,OAAR,EACQ,QAAR,IACA,kBACQ,EAAR,OACA,eACU,EAAV,wBAII,OAAJ,WAAM,IAAN,OACM,KAAN,6BACQ,KAAR,SACA,iBAIQ,IAAR,2CAEQ,GAAR,eAAQ,CASA,IAAR,wBACA,iBACQ,EAAR,8BAEQ,EAAR,8BACQ,OAAR,OAAQ,CAAR,qBACU,EAAV,OACA,cACY,EAAZ,UACc,QAAd,UACc,KAAd,YAEY,SAAZ,+EAEY,EAAZ,UACc,QAAd,qBACc,KAAd,oBAxBU,EAAV,UACY,QAAZ,cACY,KAAZ,iBA6BE,WAAF,CACI,QAAJ,OACI,UAAJ,IACI,UAAJ,OACI,YAAJ,SC5X+Y,I,wBCQ3YG,EAAY,eACd,EACAxF,EACAyD,GACA,EACA,KACA,KACA,MAIa,aAAA+B,E,6CCnBf,0LAEMC,EAAKC,EAAQ,QAEnB,SAASC,IACL,OAAOL,eAAM,CACTC,OAAQ,MACRxD,IAAK,oCAIb,SAAS6D,EAAeC,GACpB,OAAOP,eAAM,CACTC,OAAQ,MACRxD,IAAK,wBAAF,OAA0B8D,KAIrC,SAASC,EAAmBT,GACxB,OAAOC,eAAM,CACTC,OAAQ,MACRxD,IAAK,2BACLsD,OAAQA,IAIhB,SAASU,EAAkBlF,GACvB,OAAOyE,eAAM,CACTC,OAAQ,OACRxD,IAAK,uBACLiE,KAAMP,EAAGQ,UAAU,CACfC,OAAQrF,EAAW0B,GAAK,SAAW,SACnC1B,WAAYA,MAKxB,SAASsF,EAAkBN,GACvB,OAAIA,EACOP,eAAM,CACTC,OAAQ,MACRxD,IAAK,8BACLiE,KAAMP,EAAGQ,UAAU,CAAE1D,GAAIsD,MAEnB,O,kCC5ClB,IAAI7F,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,oBAAoB,CAACF,EAAG,WAAW,CAACE,YAAY,QAAQC,MAAM,CAAC,MAAQ,+CAA+C,KAAO,OAAO,YAAY,MAAMH,EAAG,YAAY,CAACE,YAAY,kBAAkBC,MAAM,CAAC,OAASP,EAAI8B,IAAI,kBAAiB,EAAM,aAAa9B,EAAIsE,KAAK,WAAWtE,EAAImG,KAAK,mBAAmB,GAAG,OAAS,uDAAuD,CAAEnG,EAAe,YAAEI,EAAG,MAAM,CAACG,MAAM,CAAC,IAAMP,EAAIoG,GAAG,aAAPpG,CAAqBA,EAAIqG,gBAAgBjG,EAAG,IAAI,CAACE,YAAY,wCAAwCF,EAAG,YAAY,CAACE,YAAY,WAAWC,MAAM,CAAC,KAAO,OAAO,KAAO,OAAO,KAAO,wBAAwBmB,GAAG,CAAC,MAAQ1B,EAAIsG,cAAc,CAACtG,EAAIS,GAAG,WAAW,IAC9wB+C,EAAkB,G,oCCqBtB,yBAGA,GACE,KAAF,cACE,MAAF,WACE,KAHF,WAII,MAAJ,CACM,YAAN,YACM,IAAN,IAGE,MAAF,CACI,KAAJ,SACI,MAAJ,UAEE,MAAF,CACI,YAAJ,YACM,KAAN,mBAEI,OAAJ,YACM,KAAN,gBAGE,QAAF,CACI,KADJ,SACA,KACM,KAAN,2BACM,KAAN,8CAEI,KALJ,SAKA,OACM,IACE,IAAR,wBACQ,KAAR,qDACA,SACQ,KAAR,2BAGI,YAAJ,WACM,KAAN,eACM,KAAN,+CAGE,QAAF,CACI,WAAJ,YACM,OAAN,kCClEka,I,wBCQ9Z+B,EAAY,eACd,EACAxF,EACAyD,GACA,EACA,KACA,KACA,MAIa,OAAA+B,E,2CCnBf,W,yDCAA","file":"js/chunk-431b7ace.f95c6c75.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"m-publish-box\"},[_c('pubheader',{attrs:{\"name\":\"ÊñáÈõÜÂ∞èÂÜå\",\"localDraft\":false}},[_vm._t(\"header\")],2),_c('el-form',{staticClass:\"m-publish-collection\",attrs:{\"label-position\":\"left\"}},[_c('div',{staticClass:\"m-publish-title\"},[_c('el-divider',{attrs:{\"content-position\":\"left\"}},[_vm._v(\"Ê†áÈ¢ò\")]),_c('el-input',{attrs:{\"placeholder\":\"ËØ∑ËæìÂÖ•Â∞èÂÜåÊ†áÈ¢ò\",\"maxlength\":\"30\",\"show-word-limit\":\"\"},model:{value:(_vm.collection.title),callback:function ($$v) {_vm.$set(_vm.collection, \"title\", $$v)},expression:\"collection.title\"}})],1),_c('div',{staticClass:\"m-publish-primary\"},[_c('div',{staticClass:\"m-publish-primary-block\"},[_c('el-divider',{attrs:{\"content-position\":\"left\"}},[_vm._v(\"ÂèØËßÅÊÄß\")]),_c('el-radio',{attrs:{\"label\":this.public.PUBLIC},model:{value:(_vm.collection.public),callback:function ($$v) {_vm.$set(_vm.collection, \"public\", _vm._n($$v))},expression:\"collection.public\"}},[_vm._v(\"ÂÖ¨ÂºÄ\")]),_c('el-radio',{attrs:{\"label\":this.public.PRIVATE},model:{value:(_vm.collection.public),callback:function ($$v) {_vm.$set(_vm.collection, \"public\", _vm._n($$v))},expression:\"collection.public\"}},[_vm._v(\"ÁßÅÊúâ\")])],1),_c('div',{staticClass:\"m-publish-primary-block\"},[_c('el-divider',{attrs:{\"content-position\":\"left\"}},[_vm._v(\"Â∞ÅÈù¢Âõæ\")]),_c('post_banner',{model:{value:(_vm.collection.image),callback:function ($$v) {_vm.$set(_vm.collection, \"image\", $$v)},expression:\"collection.image\"}})],1),_c('div',{staticClass:\"m-publish-primary-block m-publish-collection-posts\"},[_c('el-divider',{attrs:{\"content-position\":\"left\"}},[_vm._v(\"ÂÜÖÂÆπ\")]),(_vm.collection.posts && _vm.collection.posts.length)?_c('draggable',{staticClass:\"m-list-style\",attrs:{\"tag\":\"ul\",\"list\":_vm.collection.posts,\"handle\":\".u-move\"}},_vm._l((_vm.collection.posts),function(item,key){return _c('li',{key:key,staticClass:\"c-posts-item\"},[_c('i',{staticClass:\"u-move el-icon-more\"}),_c('i',{staticClass:\"u-delete el-icon-close\",on:{\"click\":function($event){return _vm.collection.posts.splice(key, 1)}}}),_c('el-row',{staticClass:\"m-posts-item\",attrs:{\"gutter\":10}},[_c('el-col',{staticClass:\"u-collection-type\",attrs:{\"span\":4}},[_c('el-select',{staticClass:\"u-item-key\",attrs:{\"placeholder\":\"ËØ∑ÈÄâÊã©ÊñáÁ´†Á±ªÂûã\"},on:{\"change\":function () {\n                                            _vm.search_handle(null, item);\n                                            item.url = item.title = '';\n                                        }},model:{value:(item.type),callback:function ($$v) {_vm.$set(item, \"type\", $$v)},expression:\"item.type\"}},_vm._l((_vm.source_types),function(type,k){return _c('el-option',{key:k,attrs:{\"label\":type,\"value\":k}})}),1)],1),_c('el-col',{staticClass:\"u-collection-id\",attrs:{\"span\":8}},[(item.type !== 'custom')?_c('el-select',{staticClass:\"u-item-value\",attrs:{\"filterable\":\"\",\"remote\":\"\",\"placeholder\":\"ÈÄöËøáËæìÂÖ•ÊñáÁ´†Ê†áÈ¢òËøõË°åÊêúÁ¥¢\",\"remote-method\":function (query) {\n                                            _vm.search_handle(query, item);\n                                        }},on:{\"change\":function (post_id) {\n                                            _vm.title_fill(post_id, item);\n                                        }},model:{value:(item.id),callback:function ($$v) {_vm.$set(item, \"id\", $$v)},expression:\"item.id\"}},[_vm._l((item.posts),function(post){return [(post.id && post.title)?_c('el-option',{key:post.id,attrs:{\"value\":post.id,\"label\":post.title}}):_vm._e()]})],2):_c('el-input',{staticClass:\"u-item-value\",attrs:{\"placeholder\":\"ËØ∑ËæìÂÖ•ÂÆåÊï¥ÁΩëÈ°µÈìæÊé•ÔºàÈúÄ‰ª•HTTPÊàñHTTPSÂºÄÂ§¥Ôºâ\"},model:{value:(item.url),callback:function ($$v) {_vm.$set(item, \"url\", $$v)},expression:\"item.url\"}})],1),(item.url)?_c('el-col',{staticClass:\"u-collection-url\",attrs:{\"span\":12}},[_c('el-input',{attrs:{\"placeholder\":\"ËØ∑ËæìÂÖ•Ëá™ÂÆö‰πâÊ†áÈ¢ò\"},model:{value:(item.title),callback:function ($$v) {_vm.$set(item, \"title\", $$v)},expression:\"item.title\"}})],1):_vm._e()],1)],1)}),0):_c('div',{staticClass:\"u-posts-items-empty\"},[_vm._v(\" ÊöÇÊó†ÊñáÁ´†‰ø°ÊÅØÔºåËØ∑ËøõË°åÊñáÁ´†Ê∑ªÂä† \")]),_c('div',{staticClass:\"u-posts-add\",on:{\"click\":_vm.add_posts_item}},[_c('i',{staticClass:\"el-icon-plus\"}),_c('span',[_vm._v(\" Ê∑ªÂä†ÊñáÁ´†\")])])],1),_c('div',{staticClass:\"m-publish-primary-block m-publish-description\"},[_c('el-divider',{attrs:{\"content-position\":\"left\"},on:{\"click\":function($event){_vm.show_description = !_vm.show_description}}},[_vm._v(\"ÊèèËø∞ÔºàÈÄâÂ°´Ôºâ\")]),(!_vm.show_description)?_c('span',{staticClass:\"u-show\",on:{\"click\":function($event){_vm.show_description = true}}},[_vm._v(\"‚ñº Â±ïÂºÄ\")]):_vm._e(),(_vm.show_description)?_c('span',{staticClass:\"u-hide\",on:{\"click\":function($event){_vm.show_description = false}}},[_vm._v(\"‚ñ≤ Êî∂Ëµ∑\")]):_vm._e(),_c('Tinymce',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.show_description),expression:\"show_description\"}],attrs:{\"attachmentEnable\":true,\"resourceEnable\":true,\"height\":300},model:{value:(_vm.collection.description),callback:function ($$v) {_vm.$set(_vm.collection, \"description\", $$v)},expression:\"collection.description\"}})],1),_c('div',{staticClass:\"m-publish-primary-block m-publish-tags\"},[_c('el-divider',{attrs:{\"content-position\":\"left\"}},[_vm._v(\"Ê†áÁ≠æÔºàÈÄâÂ°´Ôºâ\")]),_c('ul',{staticClass:\"m-list-style\"},_vm._l((_vm.collection.tags),function(t,key){return _c('li',{key:key,staticClass:\"m-tag\"},[_c('span',{domProps:{\"textContent\":_vm._s(t)}}),_c('i',{staticClass:\"el-icon-close\",on:{\"click\":function($event){return _vm.collection.tags.splice(key, 1)}}})])}),0),(_vm.collection.tags.length < 5)?_c('div',{staticClass:\"m-tag-add\"},[_c('el-autocomplete',{staticClass:\"u-tag-add-value\",attrs:{\"placeholder\":\"ËØ∑ËæìÂÖ•Ê†áÁ≠æÔºàÊúÄÂ§ö‰∏∫5‰∏™Ôºâ\",\"fetch-suggestions\":_vm.tags_search},model:{value:(_vm.tag),callback:function ($$v) {_vm.tag=$$v},expression:\"tag\"}}),_c('el-button',{staticClass:\"u-tag-add\",on:{\"click\":function () {\n                                if (_vm.tag) { _vm.collection.tags.push(_vm.tag); }\n                                _vm.tag = '';\n                            }}},[_c('i',{staticClass:\"el-icon-plus\"})])],1):_vm._e()],1)]),_c('el-form-item',[_c('el-button',{staticClass:\"m-publish-collection-publish u-publish\",attrs:{\"icon\":\"el-icon-s-promotion\",\"type\":\"primary\",\"loading\":_vm.$store.state.processing},on:{\"click\":_vm.submit}},[_vm._v(\"Êèê‰∫§Ââë‰∏âÂ∞èÂÜå \")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nexport default function _createForOfIteratorHelper(o, allowArrayLike) {\n  var it;\n\n  if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n    if (Array.isArray(o) || (it = unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n\n      var F = function F() {};\n\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function s() {\n      it = o[Symbol.iterator]();\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}","const CollectionPublic = Object.freeze({\n  PRIVATE: 0,\n  PUBLIC: 1,\n\n  all() {\n    return [\n      this.PRIVATE,\n      this.PUBLIC,\n    ]\n  },\n})\n\nexport default CollectionPublic;","import { $http } from \"./axios\";\n\n/**\n * Ê†πÊçÆÊñáÁ´†Á±ªÂûãËé∑ÂèñÊñáÁ´†ÂàóË°®\n * @param type\n * @param params\n * @returns {AxiosPromise}\n */\nfunction get_posts_by_type(type, params) {\n    return $http({\n        method: \"GET\",\n        url: `/api/posts/type/${type}`,\n        params: params,\n    });\n}\n\nexport { get_posts_by_type };\n","<template>\n    <div class=\"m-publish-box\">\n        <!-- Â§¥ÈÉ® -->\n        <pubheader name=\"ÊñáÈõÜÂ∞èÂÜå\" :localDraft=\"false\">\n            <slot name=\"header\"></slot>\n        </pubheader>\n\n        <el-form label-position=\"left\" class=\"m-publish-collection\">\n            <!-- üíõ Ê†èÁõÆÂ≠óÊÆµ -->\n            <div class=\"m-publish-title\">\n                <el-divider content-position=\"left\">Ê†áÈ¢ò</el-divider>\n                <el-input\n                    v-model=\"collection.title\"\n                    placeholder=\"ËØ∑ËæìÂÖ•Â∞èÂÜåÊ†áÈ¢ò\"\n                    maxlength=\"30\"\n                    show-word-limit\n                ></el-input>\n            </div>\n\n            <div class=\"m-publish-primary\">\n                <div class=\"m-publish-primary-block\">\n                    <el-divider content-position=\"left\">ÂèØËßÅÊÄß</el-divider>\n                    <el-radio\n                        v-model.number=\"collection.public\"\n                        :label=\"this.public.PUBLIC\"\n                        >ÂÖ¨ÂºÄ</el-radio\n                    >\n                    <el-radio\n                        v-model.number=\"collection.public\"\n                        :label=\"this.public.PRIVATE\"\n                        >ÁßÅÊúâ</el-radio\n                    >\n                </div>\n                <div class=\"m-publish-primary-block\">\n                    <el-divider content-position=\"left\">Â∞ÅÈù¢Âõæ</el-divider>\n                    <post_banner v-model=\"collection.image\" />\n                </div>\n                <div class=\"m-publish-primary-block m-publish-collection-posts\">\n                    <el-divider content-position=\"left\">ÂÜÖÂÆπ</el-divider>\n                    <draggable\n                        class=\"m-list-style\"\n                        tag=\"ul\"\n                        v-if=\"collection.posts && collection.posts.length\"\n                        :list=\"collection.posts\"\n                        handle=\".u-move\"\n                    >\n                        <li\n                            v-for=\"(item, key) in collection.posts\"\n                            :key=\"key\"\n                            class=\"c-posts-item\"\n                        >\n                            <i class=\"u-move el-icon-more\"></i>\n                            <i\n                                class=\"u-delete el-icon-close\"\n                                @click=\"collection.posts.splice(key, 1)\"\n                            ></i>\n                            <el-row class=\"m-posts-item\" :gutter=\"10\">\n                                <el-col :span=\"4\" class=\"u-collection-type\">\n                                    <el-select\n                                        class=\"u-item-key\"\n                                        v-model=\"item.type\"\n                                        placeholder=\"ËØ∑ÈÄâÊã©ÊñáÁ´†Á±ªÂûã\"\n                                        @change=\"\n                                            () => {\n                                                search_handle(null, item);\n                                                item.url = item.title = '';\n                                            }\n                                        \"\n                                    >\n                                        <el-option\n                                            v-for=\"(type, k) in source_types\"\n                                            :label=\"type\"\n                                            :key=\"k\"\n                                            :value=\"k\"\n                                        ></el-option>\n                                    </el-select>\n                                </el-col>\n                                <el-col :span=\"8\" class=\"u-collection-id\">\n                                    <el-select\n                                        v-if=\"item.type !== 'custom'\"\n                                        class=\"u-item-value\"\n                                        v-model=\"item.id\"\n                                        filterable\n                                        remote\n                                        placeholder=\"ÈÄöËøáËæìÂÖ•ÊñáÁ´†Ê†áÈ¢òËøõË°åÊêúÁ¥¢\"\n                                        :remote-method=\"\n                                            (query) => {\n                                                search_handle(query, item);\n                                            }\n                                        \"\n                                        @change=\"\n                                            (post_id) => {\n                                                title_fill(post_id, item);\n                                            }\n                                        \"\n                                    >\n                                        <template v-for=\"post in item.posts\">\n                                            <el-option\n                                                v-if=\"post.id && post.title\"\n                                                :key=\"post.id\"\n                                                :value=\"post.id\"\n                                                :label=\"post.title\"\n                                            ></el-option>\n                                        </template>\n                                    </el-select>\n                                    <el-input\n                                        class=\"u-item-value\"\n                                        placeholder=\"ËØ∑ËæìÂÖ•ÂÆåÊï¥ÁΩëÈ°µÈìæÊé•ÔºàÈúÄ‰ª•HTTPÊàñHTTPSÂºÄÂ§¥Ôºâ\"\n                                        v-else\n                                        v-model=\"item.url\"\n                                    ></el-input>\n                                </el-col>\n                                <el-col\n                                    :span=\"12\"\n                                    class=\"u-collection-url\"\n                                    v-if=\"item.url\"\n                                >\n                                    <el-input\n                                        v-model=\"item.title\"\n                                        placeholder=\"ËØ∑ËæìÂÖ•Ëá™ÂÆö‰πâÊ†áÈ¢ò\"\n                                    ></el-input>\n                                </el-col>\n                            </el-row>\n                        </li>\n                    </draggable>\n                    <div v-else class=\"u-posts-items-empty\">\n                        ÊöÇÊó†ÊñáÁ´†‰ø°ÊÅØÔºåËØ∑ËøõË°åÊñáÁ´†Ê∑ªÂä†\n                    </div>\n                    <div class=\"u-posts-add\" @click=\"add_posts_item\">\n                        <i class=\"el-icon-plus\"></i>\n                        <span> Ê∑ªÂä†ÊñáÁ´†</span>\n                    </div>\n                </div>\n\n                <div class=\"m-publish-primary-block m-publish-description\">\n                    <el-divider\n                        content-position=\"left\"\n                        @click=\"show_description = !show_description\"\n                        >ÊèèËø∞ÔºàÈÄâÂ°´Ôºâ</el-divider\n                    >\n                    <span\n                        v-if=\"!show_description\"\n                        @click=\"show_description = true\"\n                        class=\"u-show\"\n                        >‚ñº Â±ïÂºÄ</span\n                    >\n                    <span\n                        v-if=\"show_description\"\n                        @click=\"show_description = false\"\n                        class=\"u-hide\"\n                        >‚ñ≤ Êî∂Ëµ∑</span\n                    >\n                    <Tinymce\n                        v-show=\"show_description\"\n                        v-model=\"collection.description\"\n                        :attachmentEnable=\"true\"\n                        :resourceEnable=\"true\"\n                        :height=\"300\"\n                    />\n                </div>\n\n                <div class=\"m-publish-primary-block m-publish-tags\">\n                    <el-divider content-position=\"left\"\n                        >Ê†áÁ≠æÔºàÈÄâÂ°´Ôºâ</el-divider\n                    >\n                    <ul class=\"m-list-style\">\n                        <li\n                            v-for=\"(t, key) in collection.tags\"\n                            :key=\"key\"\n                            class=\"m-tag\"\n                        >\n                            <span v-text=\"t\"></span>\n                            <i\n                                class=\"el-icon-close\"\n                                @click=\"collection.tags.splice(key, 1)\"\n                            ></i>\n                        </li>\n                    </ul>\n                    <div class=\"m-tag-add\" v-if=\"collection.tags.length < 5\">\n                        <el-autocomplete\n                            class=\"u-tag-add-value\"\n                            placeholder=\"ËØ∑ËæìÂÖ•Ê†áÁ≠æÔºàÊúÄÂ§ö‰∏∫5‰∏™Ôºâ\"\n                            v-model=\"tag\"\n                            :fetch-suggestions=\"tags_search\"\n                        ></el-autocomplete>\n                        <el-button\n                            class=\"u-tag-add\"\n                            @click=\"\n                                () => {\n                                    if (tag) collection.tags.push(tag);\n                                    tag = '';\n                                }\n                            \"\n                        >\n                            <i class=\"el-icon-plus\"></i>\n                        </el-button>\n                    </div>\n                </div>\n            </div>\n\n            <el-form-item>\n                <el-button\n                    class=\"m-publish-collection-publish u-publish\"\n                    icon=\"el-icon-s-promotion\"\n                    type=\"primary\"\n                    @click=\"submit\"\n                    :loading=\"$store.state.processing\"\n                    >Êèê‰∫§Ââë‰∏âÂ∞èÂÜå\n                </el-button>\n            </el-form-item>\n        </el-form>\n    </div>\n</template>\n\n<script>\nimport {\n    __Root,\n    __postType,\n    __otherType,\n} from \"@jx3box/jx3box-common/data/jx3box.json\";\nimport Tinymce from \"@jx3box/jx3box-editor/src/Tinymce\";\nimport CollectionPublic from \"@jx3box/jx3box-editor/service/enum/CollectionPublic\";\nimport pubheader from \"@/components/publish/pubheader.vue\";\nimport post_banner from \"@/components/publish/post_banner.vue\";\nimport draggable from \"vuedraggable\";\n\n// Êú¨Âú∞‰æùËµñ\nimport {\n    get_legal_tags,\n    get_collection,\n    submit_collection,\n} from \"../service/collection\";\nimport { get_posts_by_type } from \"../service/post\";\n\nconst qs = require(\"qs\");\nconst lodash = require(\"lodash\");\n\nexport default {\n    name: \"item\",\n    props: [],\n    data() {\n        // ÊñáÁ´†Á±ªÂûãÂä†ËΩΩ\n        let source_types = Object.assign(__postType, __otherType);\n        source_types[\"custom\"] = \"Ëá™ÂÆö‰πâ\";\n        delete source_types[\"cj\"];\n\n        return {\n            source_types: source_types,\n            public: CollectionPublic,\n            // Ââë‰∏âÂ∞èÂÜå‰∏ª‰Ωì\n            collection: {\n                id: \"\",\n                title: \"\",\n                public: 1,\n                image: \"\",\n                description: \"\",\n                tags: [],\n                posts: [],\n            },\n            tag: \"\",\n            legal_tags: null,\n            show_description: false,\n        };\n    },\n    mounted() {\n        if (!this.collection.posts.length) this.add_posts_item();\n\n        if (this.$route.params.collection_id) {\n            get_collection(this.$route.params.collection_id).then((res) => {\n                res = res.data;\n                if (res.code === 200) {\n                    let collection = res.data.collection;\n                    if (collection) {\n                        for (let i in collection.posts) {\n                            let item = collection.posts[i];\n                            collection.posts[i].posts =\n                                item.type === \"custom\"\n                                    ? null\n                                    : [{ id: item.id, title: item.title }];\n                        }\n                        this.collection = collection;\n                    } else {\n                        this.$message({\n                            message: \"ËØ•Ââë‰∏âÂ∞èÂÜåÂ∑≤Ë¢´Âà†Èô§ÊàñÊó†ÊùÉÈôêËÆøÈóÆ\",\n                            type: \"warning\",\n                        });\n                    }\n                }\n            });\n        }\n    },\n    methods: {\n        // ÂêàÊ≥ïÊ†áÁ≠æÊêúÁ¥¢‰ªÖËØ∑Ê±ÇÊï∞ÊçÆ‰∏ÄÊ¨°\n        tags_search(query, cb) {\n            if (this.legal_tags === null) {\n                get_legal_tags().then((res) => {\n                    res = res.data;\n                    this.legal_tags = res.code === 200 ? res.data.tags : [];\n                    cb(this.tags_filters(query));\n                });\n            } else cb(this.tags_filters(query));\n        },\n        tags_filters(query) {\n            let output = [];\n            for (let tag of this.legal_tags) {\n                if (tag.split(query).length > 1) output.push({ value: tag });\n            }\n            return output;\n        },\n        // Â∏ñÂ≠êÊ†áÈ¢òÂ°´ÂÖÖ\n        title_fill(post_id, item) {\n            let post = item.posts[post_id];\n            item.title = post && post.title ? post.title : \"\";\n        },\n        add_posts_item() {\n            this.collection.posts.push({\n                title: \"\",\n                type: \"\",\n                id: \"\",\n                url: \"\",\n                posts: null,\n            });\n        },\n        search_handle(queryString, item) {\n            if (queryString === null) item.id = queryString = \"\";\n            get_posts_by_type(item.type, {\n                public: 1,\n                keyword: queryString,\n            }).then((res) => {\n                res = res.data;\n                if (res.code === 200) {\n                    item.posts = res.data.posts;\n                }\n            });\n        },\n        submit: function() {\n            this.$confirm(\"Á°ÆÂÆöÊèê‰∫§Ââë‰∏âÂ∞èÂÜå‰ø°ÊÅØÔºü\", \"ÊèêÁ§∫\", {\n                type: \"info\",\n            }).then(() => {\n                // Ê†áÈ¢òÈïøÂ∫¶ÈôêÂà∂\n                // this.collection.title = this.collection.title.slice(0,40);\n\n                let collection = JSON.parse(JSON.stringify(this.collection));\n\n                if (!collection.posts.length) {\n                    this.$message({\n                        message: \"Ë¶ÅÊ∑ªÂä†Ââë‰∏âÂ∞èÂÜåÂÜÖÊñáÁ´†Âì¶\",\n                        type: \"warning\",\n                    });\n                    return;\n                }\n\n                // ÂéªÈô§Â§ö‰ΩôÂ≠óÊÆµ\n                for (let i in collection.posts)\n                    delete collection.posts[i].posts;\n                collection.posts = JSON.stringify(collection.posts);\n\n                this.$store.commit(\"startProcess\");\n                submit_collection(collection).then((data) => {\n                    data = data.data;\n                    if (data.code === 200) {\n                        this.$message({\n                            message: data.message,\n                            type: \"success\",\n                        });\n                        location.href = `${__Root}collection/#/view/${data.data.collection.id}`;\n                    } else {\n                        this.$message({\n                            message: `${data.message}`,\n                            type: \"warning\",\n                        });\n                    }\n                });\n            });\n        },\n    },\n    components: {\n        Tinymce,\n        draggable,\n        pubheader,\n        post_banner,\n    },\n};\n</script>\n\n<style lang=\"less\">\n@import \"../assets/css/publish/collection.less\";\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./collection.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./collection.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./collection.vue?vue&type=template&id=a38f6b50&\"\nimport script from \"./collection.vue?vue&type=script&lang=js&\"\nexport * from \"./collection.vue?vue&type=script&lang=js&\"\nimport style0 from \"./collection.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { $http } from \"./axios\";\n\nconst qs = require(\"qs\");\n\nfunction get_legal_tags() {\n    return $http({\n        method: \"GET\",\n        url: `/api/post/collection/legal_tags`,\n    });\n}\n\nfunction get_collection(collection_id) {\n    return $http({\n        method: \"GET\",\n        url: `/api/post/collection/${collection_id}`,\n    });\n}\n\nfunction get_my_collections(params) {\n    return $http({\n        method: \"GET\",\n        url: `/api/my/post/collections`,\n        params: params,\n    });\n}\n\nfunction submit_collection(collection) {\n    return $http({\n        method: \"POST\",\n        url: `/api/post/collection`,\n        data: qs.stringify({\n            action: collection.id ? \"update\" : \"create\",\n            collection: collection,\n        }),\n    });\n}\n\nfunction remove_collection(collection_id) {\n    if (collection_id) {\n        return $http({\n            method: \"PUT\",\n            url: `/api/post/collection/remove`,\n            data: qs.stringify({ id: collection_id }),\n        });\n    } else return null;\n}\n\nexport {\n    get_legal_tags,\n    get_collection,\n    get_my_collections,\n    submit_collection,\n    remove_collection,\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"m-publish-banner\"},[_c('el-alert',{staticClass:\"u-tip\",attrs:{\"title\":\"È¶ñÈ°µÊµ∑Êä•Â∞∫ÂØ∏1100*300ÔºåÈùûÂøÖÈÄâÔºåÈÉ®ÂàÜÊ†èÁõÆ‰∏ç‰ºöÂ±ïÁ§∫Êµ∑Êä•ÔºåÂàÜ‰∫´ÂäüËÉΩÂ∞Ü‰ΩøÁî®ËØ•Âõæ‰Ωú‰∏∫È¢ÑËßàÂõæ\",\"type\":\"info\",\"show-icon\":\"\"}}),_c('el-upload',{staticClass:\"avatar-uploader\",attrs:{\"action\":_vm.url,\"show-file-list\":false,\"on-success\":_vm.done,\"on-error\":_vm.fail,\"with-credentials\":\"\",\"accept\":\"image/jpg,image/jpeg,image/gif,image/png,image/bmp\"}},[(_vm.post_banner)?_c('img',{attrs:{\"src\":_vm._f(\"showBanner\")(_vm.post_banner)}}):_c('i',{staticClass:\"el-icon-plus avatar-uploader-icon\"})]),_c('el-button',{staticClass:\"u-remove\",attrs:{\"type\":\"info\",\"size\":\"mini\",\"icon\":\"el-icon-circle-close\"},on:{\"click\":_vm.clearBanner}},[_vm._v(\"ÁßªÈô§Êµ∑Êä•\")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"m-publish-banner\">\n        <el-alert class=\"u-tip\" title=\"È¶ñÈ°µÊµ∑Êä•Â∞∫ÂØ∏1100*300ÔºåÈùûÂøÖÈÄâÔºåÈÉ®ÂàÜÊ†èÁõÆ‰∏ç‰ºöÂ±ïÁ§∫Êµ∑Êä•ÔºåÂàÜ‰∫´ÂäüËÉΩÂ∞Ü‰ΩøÁî®ËØ•Âõæ‰Ωú‰∏∫È¢ÑËßàÂõæ\" type=\"info\" show-icon> </el-alert>\n        <el-upload\n            class=\"avatar-uploader\"\n            :action=\"url\"\n            :show-file-list=\"false\"\n            :on-success=\"done\"\n            :on-error=\"fail\"\n            with-credentials\n            accept=\"image/jpg,image/jpeg,image/gif,image/png,image/bmp\"\n        >\n            <img v-if=\"post_banner\" :src=\"post_banner | showBanner\" />\n            <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\n        </el-upload>\n        <el-button class=\"u-remove\" type=\"info\" size=\"mini\" icon=\"el-icon-circle-close\" @click=\"clearBanner\">ÁßªÈô§Êµ∑Êä•</el-button>\n    </div>\n</template>\n\n<script>\nimport { __server } from \"@jx3box/jx3box-common/data/jx3box.json\";\nimport { showMinibanner } from \"@jx3box/jx3box-common/js/utils\";\nconst API = __server + \"upload\";\n// const API = \"http://localhost:5160/\" + \"upload\";\n\nexport default {\n    name: \"post_banner\",\n    props: [\"banner\"],\n    data() {\n        return {\n            post_banner: this.banner,\n            url: API,\n        };\n    },\n    model: {\n        prop: \"banner\",\n        event: \"update\",\n    },\n    watch: {\n        post_banner: function(newval) {\n            this.$emit(\"update\", newval);\n        },\n        banner : function (newval){\n            this.post_banner = newval\n        }\n    },\n    methods: {\n        done(res, file) {\n            this.post_banner = res.data.list[0];\n            this.$store.commit(\"editBanner\", this.post_banner);\n        },\n        fail(err, file, fileList) {\n            try {\n                let response = JSON.parse(err.message);\n                this.$message.error(`[${response.code}]${response.msg}`);\n            } catch {\n                this.$message.error(\"ÁΩëÁªúËØ∑Ê±ÇÂºÇÂ∏∏\");\n            }\n        },\n        clearBanner : function (){\n            this.post_banner = ''\n            this.$store.commit(\"editBanner\", this.post_banner);\n        }\n    },\n    filters : {\n        showBanner : function (val){\n            return showMinibanner(val)\n        }\n    }\n};\n</script>\n\n<style lang=\"less\">\n.m-publish-banner {\n    .u-tip{\n        padding:5px 15px;\n    }\n    img {\n        max-width: 180px;\n    }\n    .avatar-uploader{\n        .mt(10px);\n    }\n    .avatar-uploader .el-upload {\n        border: 1px dashed #d9d9d9;\n        border-radius: 6px;\n        cursor: pointer;\n        position: relative;\n        overflow: hidden;\n    }\n    .avatar-uploader .el-upload:hover {\n        border-color: #409eff;\n    }\n    .avatar-uploader-icon {\n        font-size: 28px;\n        color: #8c939d;\n        width: 180px;\n        height: 100px;\n        line-height: 100px;\n        text-align: center;\n    }\n    .u-remove{\n        background-color: #c2c2c2;\n        border-color:#c2c2c2;\n        &:hover{\n            background-color: #fc3c3c;\n            border-color:#fc3c3c;\n        }\n    }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./post_banner.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./post_banner.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./post_banner.vue?vue&type=template&id=e6df36d8&\"\nimport script from \"./post_banner.vue?vue&type=script&lang=js&\"\nexport * from \"./post_banner.vue?vue&type=script&lang=js&\"\nimport style0 from \"./post_banner.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--10-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./post_banner.vue?vue&type=style&index=0&lang=less&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/style-resources-loader/lib/index.js??ref--10-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./collection.vue?vue&type=style&index=0&lang=less&\""],"sourceRoot":""}