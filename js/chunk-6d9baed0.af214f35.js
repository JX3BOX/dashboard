(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6d9baed0"],{4453:function(t){t.exports=JSON.parse('{"广陵邑":[{"style":{"width":115,"height":85,"left":340,"top":169},"name":"句容里一号","link":"#","area":7200},{"style":{"width":62,"height":44,"left":309,"top":269},"name":"挂剑里二号","link":"#","area":2240},{"style":{"width":60,"height":81,"left":268,"top":334},"name":"挂剑里三号","link":"#","area":4032},{"style":{"width":62,"height":44,"left":336,"top":385},"name":"挂剑里四号","link":"#","area":2240},{"style":{"width":36,"height":44,"left":379,"top":327},"name":"挂剑里五号","link":"#","area":1280},{"style":{"width":60,"height":81,"left":490,"top":235},"name":"通寰里六号","link":"#","area":4032},{"style":{"width":62,"height":44,"left":494,"top":331},"name":"通寰里七号","link":"#","area":2240},{"style":{"width":62,"height":44,"left":571,"top":193},"name":"通寰里八号","link":"#","area":2240},{"style":{"width":44,"height":62,"left":578,"top":262},"name":"通寰里九号","link":"#","area":2240},{"style":{"width":62,"height":44,"left":574,"top":352},"name":"通寰里十号","link":"#","area":2240},{"style":{"width":60,"height":81,"left":664,"top":181},"name":"观桥里十一号","link":"#","area":4032},{"style":{"width":44,"height":62,"left":746,"top":169},"name":"观桥里十二号","link":"#","area":2240},{"style":{"width":44,"height":62,"left":677,"top":278},"name":"观桥里十三号","link":"#","area":2240},{"style":{"width":44,"height":62,"left":748,"top":269},"name":"观桥里十四号","link":"#","area":2240},{"style":{"width":51,"height":45,"left":411,"top":474},"name":"清茨里十五号","link":"#","area":1280},{"style":{"width":70,"height":56,"left":449,"top":518},"name":"清茨里十六号","link":"#","area":2240},{"style":{"width":72,"height":76,"left":570,"top":458},"name":"鱼雁里十七号","link":"#","area":2240},{"style":{"width":76,"height":71,"left":621,"top":431},"name":"鱼雁里十八号","link":"#","area":2240},{"style":{"width":81,"height":60,"left":705,"top":397},"name":"鱼雁里十九号","link":"#","area":4032},{"style":{"width":55,"height":71,"left":233,"top":566},"name":"吴亭里二十号","link":"#","area":2240},{"style":{"width":60,"height":81,"left":243,"top":661},"name":"吴亭里二十一号","link":"#","area":4032},{"style":{"width":77,"height":73,"left":337,"top":570},"name":"吴亭里二十二号","link":"#","area":2240},{"style":{"width":62,"height":44,"left":334,"top":698},"name":"吴亭里二十三号","link":"#","area":2240},{"style":{"width":55,"height":58,"left":408,"top":598},"name":"吴亭里二十四号","link":"#","area":1280},{"style":{"width":44,"height":62,"left":403,"top":680},"name":"吴亭里二十五号","link":"#","area":2240},{"style":{"width":45,"height":52,"left":463,"top":666},"name":"吴亭里二十六号","link":"#","area":1280},{"style":{"width":44,"height":36,"left":571,"top":650},"name":"襟江里二十七号","link":"#","area":1280},{"style":{"width":62,"height":44,"left":603,"top":557},"name":"襟江里二十八号","link":"#","area":2240},{"style":{"width":60,"height":81,"left":624,"top":630},"name":"襟江里二十九号","link":"#","area":4032},{"style":{"width":44,"height":62,"left":673,"top":518},"name":"襟江里三十号","link":"#","area":2240},{"style":{"width":62,"height":44,"left":693,"top":630},"name":"襟江里三十一号","link":"#","area":2240},{"style":{"width":36,"height":44,"left":761,"top":487},"name":"襟江里三十二号","link":"#","area":1280},{"style":{"width":44,"height":62,"left":762,"top":541},"name":"襟江里三十三号","link":"#","area":2240}]}')},"69ff":function(t,e,a){"use strict";var s=a("872f"),l=a.n(s);l.a},"7e91":function(t,e,a){"use strict";var s=a("c198"),l=a.n(s);l.a},"872f":function(t,e,a){},9756:function(t){t.exports=JSON.parse('["蝶恋花","龙争虎斗","长安城","幽月轮","斗转星移","剑胆琴心","乾坤一掷","唯我独尊","梦江南","绝代天骄","天鹅坪","破阵子","飞龙在天","青梅煮酒","凌雪藏锋","风月同天","江湖故人","共結來緣","傲血戰意","巔峰再起","江海雲夢"]')},bfda:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"c-album"},[a("el-upload",{ref:"uploadbox",attrs:{action:t.API,"with-credentials":"","list-type":"picture-card","auto-upload":!1,accept:t.accept,limit:10,multiple:"","file-list":t.fileList,"on-change":t.change,"on-preview":t.handlePictureCardPreview,"on-remove":t.handleRemove}},[a("i",{staticClass:"el-icon-plus",attrs:{slot:"default"},slot:"default"})]),a("el-dialog",{attrs:{visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("img",{attrs:{width:"100%",src:t.dialogImageUrl,alt:""}})])],1)},l=[],i=(a("4160"),a("a434"),a("159b"),a("2d81")),o=a("64c7"),n=a("2777"),r=o["__server"]+"upload",p={name:"album",props:["imgList"],data:function(){return{API:r,fileList:this.imgList||[],accept:i.accept,sizeLimit:i.sizeLimit,dialogImageUrl:"",dialogVisible:!1}},computed:{},methods:{change:function(t,e){var a=this;if("success"!=t.status){if(t.size>this.sizeLimit)return this.$message.error("文件超出大小限制"),void this.removeFile(e,t.uid);var s=new FormData;s.append("file",t.raw),n["b"].post(r,s,{headers:{"Content-Type":"multipart/form-data"},withCredentials:!0}).then((function(e){a.$message({message:"上传成功",type:"success"}),t.url=e.data.data.list[0],t.status="success",a.fileList.push(t),a.$emit("albumChange",a.fileList)}))}},handleRemove:function(t,e){this.fileList=e,this.$emit("albumChange",this.fileList)},handlePictureCardPreview:function(t){this.dialogImageUrl=t.url,this.dialogVisible=!0},removeFile:function(t,e){t.forEach((function(a,s){a.uid==e&&t.splice(s,1)}))}},mounted:function(){},components:{}},c=p,u=(a("69ff"),a("2877")),h=Object(u["a"])(c,s,l,!1,null,null,null);e["a"]=h.exports},c198:function(t,e,a){},cb1d:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"m-dashboard-publish-house"},[t.loaded?a("boilerplate",{attrs:{name:t.name,type:t.type,post:t.post,meta:t.meta,extend:t.extend,infoEnable:!0,contentEnable:!0,markdownEnable:!1,excerptEnable:!1,tagEnable:!1,notifyEnable:!1,bannerEnable:!1},on:{publish:t.toPublish,draft:t.toDraft}},[[a("el-form-item",{attrs:{label:"原创"}},[a("el-switch",{attrs:{"active-color":"#13ce66"},model:{value:t.post.original,callback:function(e){t.$set(t.post,"original",e)},expression:"post.original"}})],1),a("el-form-item",{staticClass:"m-house-coord",attrs:{label:"房型属性"}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:8}},[a("el-input",{attrs:{placeholder:"所在房号"},on:{change:function(e){return t.computeArea(t.post.post_meta.num)}},model:{value:t.post.post_meta.num,callback:function(e){t.$set(t.post.post_meta,"num",e)},expression:"post.post_meta.num"}},[a("template",{slot:"append"},[t._v("号")])],2)],1),a("el-col",{attrs:{span:8}},[a("el-input",{attrs:{placeholder:"面积"},model:{value:t.post.post_meta.area,callback:function(e){t.$set(t.post.post_meta,"area",e)},expression:"post.post_meta.area"}},[a("template",{slot:"append"},[t._v("平米")])],2)],1),a("el-col",{attrs:{span:8}},[a("el-input",{attrs:{placeholder:"房屋等级",min:1,max:99},model:{value:t.post.post_meta.level,callback:function(e){t.$set(t.post.post_meta,"level",e)},expression:"post.post_meta.level"}},[a("template",{slot:"prepend"},[t._v("等级")])],2)],1)],1)],1),a("el-form-item",{staticClass:"m-house-coord",attrs:{label:"府邸坐标"}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:8}},[a("el-select",{attrs:{filterable:"",placeholder:"地图"},model:{value:t.post.post_subtype,callback:function(e){t.$set(t.post,"post_subtype",e)},expression:"post.post_subtype"}},t._l(t.maps,(function(t){return a("el-option",{key:t,attrs:{label:t,value:t}})})),1)],1),a("el-col",{attrs:{span:8}},[a("el-select",{staticClass:"m-flower-rec-select",attrs:{filterable:"",placeholder:"服务器名"},model:{value:t.post.post_meta.server,callback:function(e){t.$set(t.post.post_meta,"server",e)},expression:"post.post_meta.server"}},t._l(t.servers,(function(t){return a("el-option",{key:t,attrs:{label:t,value:t}})})),1)],1),a("el-col",{attrs:{span:8}},[a("el-input",{attrs:{placeholder:"所在分线"},model:{value:t.post.post_meta.line,callback:function(e){t.$set(t.post.post_meta,"line",e)},expression:"post.post_meta.line"}},[a("template",{slot:"append"},[t._v("线")])],2)],1)],1)],1),a("el-form-item",{attrs:{label:"家园图赏"}},[a("album",{attrs:{imgList:t.post.post_meta.pics},on:{albumChange:t.updateAlbum}})],1),a("el-form-item",{attrs:{label:"蓝图分享"}},[a("el-switch",{attrs:{"active-color":"#13ce66"},model:{value:t.post.post_meta.hasData,callback:function(e){t.$set(t.post.post_meta,"hasData",e)},expression:"post.post_meta.hasData"}})],1),t.post.post_meta.hasData?a("div",{staticClass:"m-publish-datalist"},[a("div",{staticClass:"u-wrapper"},[a("el-row",{staticClass:"u-thead"},[a("el-col",{attrs:{span:6}},[t._v("类型")]),a("el-col",{attrs:{span:6}},[t._v("说明")]),a("el-col",{attrs:{span:6}},[t._v("数据")]),a("el-col",{attrs:{span:6}},[t._v("操作")])],1),a("div",{staticClass:"u-tbody"},t._l(t.post.post_meta.blueprint,(function(e,s){return a("el-row",{key:s,staticClass:"u-tr"},[a("el-col",{staticClass:"u-type",attrs:{span:6}},[a("el-radio",{attrs:{label:"全局设计图"},model:{value:e.type,callback:function(a){t.$set(e,"type",a)},expression:"data.type"}},[t._v("全局设计图")]),a("el-radio",{attrs:{label:"局部设计图"},model:{value:e.type,callback:function(a){t.$set(e,"type",a)},expression:"data.type"}},[t._v("局部设计图")])],1),a("el-col",{attrs:{span:6}},[a("el-input",{attrs:{placeholder:"蓝图说明"},model:{value:e.desc,callback:function(a){t.$set(e,"desc",a)},expression:"data.desc"}})],1),a("el-col",{staticClass:"u-action",attrs:{span:6}},[a("input",{staticClass:"u-data-input",attrs:{type:"file",id:"data_"+s},on:{change:function(a){return t.uploadData(a,e,s)}}}),a("el-button",{attrs:{type:"primary",icon:"el-icon-upload2"},on:{click:function(e){return t.selectData(s)}}},[t._v("上传")]),a("span",{directives:[{name:"show",rawName:"v-show",value:e.file,expression:"data.file"}],staticClass:"u-data-ready"},[a("i",{staticClass:"el-icon-success"}),t._v(" 已上传 ")])],1),a("el-col",{staticClass:"u-action",attrs:{span:6}},[a("el-button",{attrs:{plain:"",icon:"el-icon-circle-plus-outline"},on:{click:function(e){return t.addData(s)}}},[t._v("增加")]),0!==s?a("el-button",{attrs:{type:"danger",icon:"el-icon-remove-outline"},on:{click:function(e){return t.delData(s)}}},[t._v("删除")]):t._e()],1)],1)})),1)],1)]):t._e()]],2):t._e()],1)},l=[],i=(a("4160"),a("a434"),a("b0c0"),a("159b"),a("c202")),o=a("64c7"),n=a("2777");function r(t,e){return n["a"].post(o["__server"]+"upload",t)}var p=a("bfda"),c=a("9756"),u=a("4453"),h=a("2ef0"),m=a.n(h),d=o["__server"]+"upload",f={name:"house",props:[],data:function(){return{type:"house",name:"家园分享",loaded:!1,servers:c,maps:["广陵邑"],meta:{},post:{ID:"",post_subtype:"广陵邑",post_title:"",post_content:"",post_meta:{server:"",line:"",num:"",area:"",level:"",pics:[],hasData:!0,blueprint:[{type:"全局设计图",desc:"",file:""}]},post_excerpt:"",post_mode:"tinymce",post_banner:"",post_status:"",original:0},extend:{feedEnable:!1,followEnable:!1,tencentEnable:!1,weiboEnable:!1,tuilanEnable:!1},dialogImageUrl:"",dialogVisible:!1,upload_url:d}},computed:{},methods:{toPublish:function(){this.doPublish(this.build(),this)},toDraft:function(){this.doDraft(this.build(),this)},init:function(){return this.doLoad(this)},build:function(){var t=this.$store.state;return t.post.meta_1=t.post.post_meta.num,t.post.meta_2=t.post.post_meta.area,t.post.meta_3=t.post.post_meta.hasData,t.post.meta_4=t.post.post_meta.level,t},selectData:function(t){var e=document.getElementById("data_"+t);e.dispatchEvent(new MouseEvent("click"))},uploadData:function(t,e,a){var s=this,l=new FormData,i=t.target.files[0];l.append("file",i),r(l,this).then((function(t){e.file=t.data.data.list[0],s.$message({message:t.data.msg,type:"success"})}))},addData:function(t){this.post.post_meta.blueprint.length>10?this.$message.error("默认上限10个"):this.post.post_meta.blueprint.push({type:"全局设计图",desc:"",file:""})},delData:function(t){this.post.post_meta.blueprint.splice(t,1)},updateAlbum:function(t){var e=[];t.forEach((function(t){e.push({name:t.name,url:t.url})})),this.post.post_meta.pics=e},computeArea:function(t){if(t){var e=m.a.get(u[this.post.post_subtype][~~t-1],"area");this.post.post_meta.area=e}}},mounted:function(){var t=this;this.init().then((function(){console.log("Init Post:",t.post)}))},components:{boilerplate:i["a"],album:p["a"]}},b=f,v=(a("7e91"),a("2877")),_=Object(v["a"])(b,s,l,!1,null,null,null);e["default"]=_.exports}}]);
//# sourceMappingURL=chunk-6d9baed0.af214f35.js.map