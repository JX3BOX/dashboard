{"version":3,"sources":["webpack:///./src/service/goods.js","webpack:///./src/views/address.vue?bf54","webpack:///./src/views/address.vue","webpack:///src/views/address.vue","webpack:///./src/views/address.vue?c32f","webpack:///./src/views/address.vue?ad14","webpack:///./src/service/msg.js","webpack:///./src/components/uc.vue?1aec","webpack:///./src/components/uc.vue","webpack:///./src/components/tabs.vue","webpack:///src/components/tabs.vue","webpack:///./src/components/tabs.vue?55f4","webpack:///./src/components/tabs.vue?b057","webpack:///src/components/uc.vue","webpack:///./src/components/uc.vue?375a","webpack:///./src/components/uc.vue?cd4f"],"names":["getAddress","params","$pay","get","addAddress","data","post","updateAddress","id","put","concat","delAddress","delete","defaultAddress","getOrder","updateOrderAddress","orderId","addressId","updateOrderRemark","remark","getOrderId","closeOrder","toPay","toConfirm","getVirtual","goodsRate","appendGoodsRate","delGoodsRate","render","_vm","this","_c","_self","staticClass","attrs","on","add","_v","list","scopedSlots","_u","key","fn","scope","$event","change","row","model","value","is_default","callback","$$v","$set","expression","_s","province","city","area","address","edit","del","staticStyle","slot","visible","ref","form","rules","contact_name","contact_phone","addressList","handleChange","submit","staticRenderFns","name","components","uc","_this","checkPhone","rule","num","test","Error","checkAddress","required","message","trigger","validator","computed","methods","load","_this2","then","res","$options","reset","location","reload","formName","_this3","$refs","validate","valid","omit","$message","type","item","_this4","created","component","getMsgs","$next","readMsg","readAll","removeMsg","getMsgUnread","mute","getCommentMsgDetail","class","icon","title","_t","tabList","msgChangeCount","changeTab","active","_l","tabs","label","showCount","count","countMap","_e","props","Array","default","Number","msg","letter","watch","$route","routeName","immediate","handler","includes","$router","push","loadCount","_res$data","mounted","String","profileTab"],"mappings":"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","file":"js/chunk-130b76c9.10a7558f.js","sourcesContent":["import { $pay } from \"@jx3box/jx3box-common/js/https\";\n// 获取地址列表\nfunction getAddress(params) {\n    return $pay().get(`/api/mall/ship-address`, params)\n}\n// 添加地址\nfunction addAddress(data) {\n    return $pay().post(`/api/mall/ship-address`, data)\n}\n// 更新地址\nfunction updateAddress(id, data) {\n    return $pay().put(`/api/mall/ship-address/${id}`, data)\n}\n// 删除地址\nfunction delAddress(id) {\n    return $pay().delete(`/api/mall/ship-address/${id}`)\n}\n// 设定默认地址\nfunction defaultAddress(id) {\n    return $pay().put(`/api/mall/ship-address/default/${id}`, )\n}\n// 获取我的订单\nfunction getOrder(params) {\n    return $pay().get(`/api/mall/my/orders`, { params })\n}\n// 更改订单的收货地址\nfunction updateOrderAddress(orderId, addressId) {\n    return $pay().put(`/api/mall/my/orders/${orderId}/bind-address/${addressId}`, )\n}\n// 修改订单备注\nfunction updateOrderRemark(id, remark) {\n    return $pay().put(`/api/mall/my/orders/${id}/remark`, { remark })\n}\n// 查看对应id的订单详情\nfunction getOrderId(id) {\n    return $pay().get(`/api/mall/my/orders/${id}`)\n}\n// 关闭订单\nfunction closeOrder(id) {\n    return $pay().put(`/api/mall/my/orders/${id}/cancel`, )\n}\n// 支付订单\nfunction toPay(id) {\n    return $pay().post(`/api/mall/my/orders/${id}/pay`);\n}\n// 确认收货\nfunction toConfirm(id) {\n    return $pay().post(`/api/mall/my/orders/${id}/received`);\n}\n// 获取虚拟商品\nfunction getVirtual(params) { \n    return $pay().get(`/api/mall/my/virtual_goods`, { params });\n}\n\n// 商品评价\nfunction goodsRate(data) {\n    return $pay().post(`/api/mall/goods-rate`, data);\n}\n// 追评\nfunction appendGoodsRate(id, data) {\n    return $pay().post(`/api/mall/goods-rate/${id}/append-comments`,data);\n}\n// 删除评论\nfunction delGoodsRate(id) {\n    return $pay().delete(`/api/mall/goods-rate/${id}`);\n}\n\n\nexport {\n    getAddress,\n    addAddress,\n    updateAddress,\n    delAddress,\n    defaultAddress,\n    getOrder,\n    updateOrderAddress,\n    updateOrderRemark,\n    getOrderId,\n    closeOrder,\n    toPay,\n    getVirtual,\n    toConfirm,\n    // 评价\n    goodsRate,\n    appendGoodsRate,\n    delGoodsRate\n};\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./address.vue?vue&type=style&index=0&id=8e6048fa&prod&lang=less\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('uc',[_c('div',{staticClass:\"m-page-address\"},[_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-plus\",\"size\":\"small\"},on:{\"click\":_vm.add}},[_vm._v(\"添加地址\")]),_c('div',{staticClass:\"m-content\"},[_c('el-table',{attrs:{\"data\":_vm.list,\"size\":\"small\"}},[_c('el-table-column',{attrs:{\"prop\":\"contact_name\",\"label\":\"姓名\",\"width\":\"180\"}}),_c('el-table-column',{attrs:{\"prop\":\"contact_phone\",\"label\":\"电话\",\"width\":\"180\"}}),_c('el-table-column',{attrs:{\"label\":\"默认地址\",\"width\":\"180\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-switch',{on:{\"change\":function($event){return _vm.change(scope.row)}},model:{value:(scope.row.is_default),callback:function ($$v) {_vm.$set(scope.row, \"is_default\", $$v)},expression:\"scope.row.is_default\"}})]}}])}),_c('el-table-column',{attrs:{\"label\":\"地址\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\" \"+_vm._s(scope.row.province)+_vm._s(scope.row.city)+_vm._s(scope.row.area)+_vm._s(scope.row.address)+\" \")]}}])}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"180\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',[_c('el-button',{attrs:{\"circle\":\"\",\"icon\":\"el-icon-edit-outline\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.edit(scope.row)}}}),_c('el-popconfirm',{attrs:{\"confirm-button-text\":\"确定\",\"cancel-button-text\":\"取消\",\"icon\":\"el-icon-info\",\"title\":\"确定删除吗？\"},on:{\"confirm\":function($event){return _vm.del(scope.row.id)}}},[_c('el-button',{staticStyle:{\"margin-left\":\"10px\"},attrs:{\"slot\":\"reference\",\"circle\":\"\",\"size\":\"mini\",\"icon\":\"el-icon-delete\"},slot:\"reference\"})],1)],1)]}}])})],1)],1),_c('el-dialog',{attrs:{\"custom-class\":\"m-address-dialog\",\"visible\":_vm.visible,\"title\":\"我的地址\",\"width\":\"750px\"},on:{\"update:visible\":function($event){_vm.visible=$event}}},[_c('el-form',{ref:\"ruleForm\",attrs:{\"model\":_vm.form,\"rules\":_vm.rules,\"label-position\":\"top\"}},[_c('el-form-item',{attrs:{\"label\":\"联系人\",\"prop\":\"contact_name\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入名称\"},model:{value:(_vm.form.contact_name),callback:function ($$v) {_vm.$set(_vm.form, \"contact_name\", $$v)},expression:\"form.contact_name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"手机号\",\"prop\":\"contact_phone\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入手机号\"},model:{value:(_vm.form.contact_phone),callback:function ($$v) {_vm.$set(_vm.form, \"contact_phone\", $$v)},expression:\"form.contact_phone\"}})],1),_c('el-form-item',{attrs:{\"label\":\"联系地址\",\"prop\":\"address\"}},[_c('div',{staticClass:\"m-line\"},[_c('el-cascader',{staticClass:\"u-address\",attrs:{\"options\":_vm.addressList},on:{\"change\":_vm.handleChange},model:{value:(_vm.address),callback:function ($$v) {_vm.address=$$v},expression:\"address\"}}),_c('el-input',{attrs:{\"placeholder\":\"详细地址\"},model:{value:(_vm.form.address),callback:function ($$v) {_vm.$set(_vm.form, \"address\", $$v)},expression:\"form.address\"}})],1)])],1),_c('span',{staticClass:\"m-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.visible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.submit('ruleForm')}}},[_vm._v(\"确 定\")])],1)],1)],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <uc>\n        <div class=\"m-page-address\">\n            <!-- 显示地址 -->\n            <el-button type=\"primary\" icon=\"el-icon-plus\" @click=\"add\" size=\"small\">添加地址</el-button>\n\n            <div class=\"m-content\">\n                <el-table :data=\"list\" size=\"small\">\n                    <el-table-column prop=\"contact_name\" label=\"姓名\" width=\"180\"> </el-table-column>\n                    <el-table-column prop=\"contact_phone\" label=\"电话\" width=\"180\"> </el-table-column>\n                    <el-table-column label=\"默认地址\" width=\"180\">\n                        <template slot-scope=\"scope\">\n                            <el-switch v-model=\"scope.row.is_default\" @change=\"change(scope.row)\"> </el-switch>\n                        </template>\n                    </el-table-column>\n                    <el-table-column label=\"地址\">\n                        <template slot-scope=\"scope\">\n                            {{ scope.row.province }}{{ scope.row.city }}{{ scope.row.area }}{{ scope.row.address }}\n                        </template>\n                    </el-table-column>\n                    <el-table-column label=\"操作\" width=\"180\">\n                        <template slot-scope=\"scope\">\n                            <div>\n                                <!--编辑-->\n                                <el-button circle @click=\"edit(scope.row)\" icon=\"el-icon-edit-outline\" size=\"mini\"></el-button>\n                                <!--删除-->\n                                <el-popconfirm confirm-button-text=\"确定\" cancel-button-text=\"取消\" icon=\"el-icon-info\" title=\"确定删除吗？\" @confirm=\"del(scope.row.id)\">\n                                    <el-button style=\"margin-left: 10px\" slot=\"reference\" circle size=\"mini\" icon=\"el-icon-delete\"></el-button>\n                                </el-popconfirm>\n                            </div>\n                        </template>\n                    </el-table-column>\n                </el-table>\n            </div>\n            <!-- 地址表单 -->\n            <el-dialog custom-class=\"m-address-dialog\" :visible.sync=\"visible\" title=\"我的地址\" width=\"750px\">\n                <el-form :model=\"form\" :rules=\"rules\" ref=\"ruleForm\" label-position=\"top\">\n                    <el-form-item label=\"联系人\" prop=\"contact_name\">\n                        <el-input placeholder=\"请输入名称\" v-model=\"form.contact_name\"></el-input>\n                    </el-form-item>\n                    <el-form-item label=\"手机号\" prop=\"contact_phone\">\n                        <el-input placeholder=\"请输入手机号\" v-model=\"form.contact_phone\"></el-input>\n                    </el-form-item>\n                    <el-form-item label=\"联系地址\" prop=\"address\">\n                        <div class=\"m-line\">\n                            <el-cascader\n                                class=\"u-address\"\n                                v-model=\"address\"\n                                :options=\"addressList\"\n                                @change=\"handleChange\"\n                            ></el-cascader>\n                            <el-input placeholder=\"详细地址\" v-model=\"form.address\"></el-input>\n                        </div>\n                    </el-form-item>\n                </el-form>\n                <span slot=\"footer\" class=\"m-footer\">\n                    <el-button @click=\"visible = false\">取 消</el-button>\n                    <el-button type=\"primary\" @click=\"submit('ruleForm')\">确 定</el-button>\n                </span>\n            </el-dialog>\n        </div>\n    </uc>\n</template>\n\n<script>\nimport addressList from \"@/assets/data/address.json\";\nimport { getAddress, addAddress, delAddress, updateAddress, defaultAddress } from \"@/service/goods\";\nimport { omit } from \"lodash\";\nimport uc from \"@/components/uc.vue\";\nexport default {\n    name: \"myAddress\",\n    components: { uc },\n    data: function () {\n        const checkPhone = (rule, value, callback) => {\n            if (value) {\n                const num = /^[1][3,4,5,7,8][0-9]{9}$/;\n                if (!num.test(value)) {\n                    callback(new Error(\"请输入正确的手机号\"));\n                } else {\n                    callback();\n                }\n            }\n        };\n        const checkAddress = (rule, value, callback) => {\n            if (value) {\n                if (this.form.province) {\n                    callback();\n                } else {\n                    callback(new Error(\"请选择省市区\"));\n                }\n            } else {\n                callback(new Error(\"请输入具体地址\"));\n            }\n        };\n        return {\n            address: \"\",\n            addressList,\n\n            list: [],\n            visible: false,\n            form: {\n                contact_name: \"\",\n                contact_phone: \"\",\n                province: \"\",\n                city: \"\",\n                area: \"\",\n                address: \"\",\n            },\n\n            rules: {\n                contact_name: [{ required: true, message: \"请输入联系人名称\", trigger: \"blur\" }],\n                contact_phone: [{ required: true, validator: checkPhone, trigger: \"blur\" }],\n                address: [{ required: true, validator: checkAddress, trigger: \"blur\" }],\n            },\n        };\n    },\n    computed: {},\n    methods: {\n        load() {\n            getAddress().then((res) => {\n                this.list = res.data.data.list;\n            });\n        },\n        add() {\n            this.visible = true;\n            this.form = this.$options.data().form;\n            this.address = \"\";\n        },\n        reset() {\n            this.visible = false;\n            this.form = this.$options.data().form;\n            this.address = \"\";\n            location.reload();\n        },\n        submit(formName) {\n            this.$refs[formName].validate((valid) => {\n                if (valid) {\n                    const form = omit(this.form, [\"created_at\", \"updated_at\", \"user_id\", \"id\", \"is_default\"]);\n                    this.form.id\n                        ? updateAddress(this.form.id, form).then(() => {\n                              this.$message({\n                                  message: \"编辑成功\",\n                                  type: \"success\",\n                              });\n                              this.reset();\n                          })\n                        : addAddress(this.form).then((res) => {\n                              this.$message({\n                                  message: \"添加成功\",\n                                  type: \"success\",\n                              });\n                              this.reset();\n                          });\n                }\n            });\n        },\n        handleChange(list) {\n            this.form.province = list[0];\n            this.form.city = list[1];\n            this.form.area = list[2];\n        },\n        edit(item) {\n            this.visible = true;\n            this.form = item;\n            this.address = [this.form.province, this.form.city, this.form.area];\n        },\n        del(id) {\n            delAddress(id).then(() => {\n                this.$message({\n                    message: \"删除成功\",\n                    type: \"success\",\n                });\n                location.reload();\n            });\n        },\n        change(row) {\n            if (!row.is_default) return;\n            defaultAddress(row.id).then(() => {\n                location.reload();\n            });\n        },\n    },\n    created: function () {\n        this.load();\n    },\n};\n</script>\n\n<style lang=\"less\">\n@import \"../assets/css/address.less\";\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./address.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./address.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./address.vue?vue&type=template&id=8e6048fa\"\nimport script from \"./address.vue?vue&type=script&lang=js\"\nexport * from \"./address.vue?vue&type=script&lang=js\"\nimport style0 from \"./address.vue?vue&type=style&index=0&id=8e6048fa&prod&lang=less\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { $next } from \"@jx3box/jx3box-common/js/https\";\nimport qs from \"qs\";\n\nfunction getMsgs(params) {\n    return $next().get(`/api/messages`, { params });\n}\n\nfunction readMsg(id) {\n    return $next().put(`/api/messages/read/${id}`);\n}\n\nfunction readAll() {\n    return $next().put(`/api/messages/read`);\n}\n\nfunction removeMsg(id) {\n    return $next().delete(`/api/messages/${id}`);\n}\n\nfunction getMsgUnread() {\n    return $next({ mute: true }).get(\"/api/letter/unread/count\");\n}\n\nfunction getCommentMsgDetail(id) {\n    return $next().get(`/api/next2/comment/item/${id}`);\n}\n\nexport { getMsgs, readMsg, readAll, removeMsg, getMsgUnread, getCommentMsgDetail };\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./uc.vue?vue&type=style&index=0&id=58434bd0&prod&lang=less\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"m-dashboard-profile m-profile\"},[_c('h2',{staticClass:\"u-title\"},[_c('i',{class:_vm.icon}),_vm._v(\" \"+_vm._s(_vm.title)+\" \"),_vm._t(\"header\")],2),_c('tabs',{attrs:{\"tabs\":_vm.tabList,\"msg-change-count\":_vm.msgChangeCount}}),_vm._t(\"default\")],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('el-tabs',{staticClass:\"m-dashboard-tabs\",on:{\"tab-click\":_vm.changeTab},model:{value:(_vm.active),callback:function ($$v) {_vm.active=$$v},expression:\"active\"}},_vm._l((_vm.tabs),function(item){return _c('el-tab-pane',{key:item.name,attrs:{\"name\":item.name}},[_c('span',{attrs:{\"slot\":\"label\"},slot:\"label\"},[_c('i',{staticClass:\"u-tab-icon\",class:item.icon}),_vm._v(\" \"+_vm._s(item.label)+\" \"),(_vm.showCount)?_c('span',{staticClass:\"u-count\",class:_vm.count[_vm.countMap[item.name]] ? 'is-orange' : ''},[_vm._v(\"(\"+_vm._s(_vm.count[_vm.countMap[item.name]] || 0)+\")\")]):_vm._e()])])}),1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <el-tabs class=\"m-dashboard-tabs\" v-model=\"active\" @tab-click=\"changeTab\">\n        <el-tab-pane v-for=\"item in tabs\" :key=\"item.name\" :name=\"item.name\">\n            <span slot=\"label\"\n                ><i :class=\"item.icon\" class=\"u-tab-icon\"></i> {{ item.label }}\n                <span v-if=\"showCount\" class=\"u-count\" :class=\"count[countMap[item.name]] ? 'is-orange' : ''\"\n                    >({{ count[countMap[item.name]] || 0 }})</span\n                >\n            </span>\n        </el-tab-pane>\n    </el-tabs>\n</template>\n\n<script>\nimport { getMsgUnread } from \"@/service/msg\";\nexport default {\n    name: \"\",\n    props: {\n        tabs: {\n            type: Array,\n            default: () => [],\n        },\n        msgChangeCount: {\n            type: Number,\n            default: 0,\n        },\n    },\n    data: function () {\n        return {\n            active: \"\",\n            countMap: {\n                msg: \"message\",\n                letter: \"letter\",\n            },\n            count: {},\n        };\n    },\n    watch: {\n        $route: function () {\n            this.active = this.routeName;\n        },\n        msgChangeCount: {\n            immediate: true,\n            handler(num) {\n                if (num > 0) {\n                    // 全读\n                    this.count.message = 0;\n                }\n                if (num < 0) {\n                    // 单个已读\n                    if (this.count.message > 0) {\n                        this.count.message += num;\n                    }\n                }\n            },\n        },\n    },\n    computed: {\n        showCount() {\n            return [\"msg\", \"letter\"].includes(this.routeName);\n        },\n        routeName() {\n            return this.$route.name;\n        },\n    },\n    methods: {\n        changeTab: function () {\n            this.$router.push({ name: this.active });\n        },\n        loadCount() {\n            getMsgUnread().then((res) => {\n                const data = res.data?.data || {};\n                this.count = data;\n            });\n        },\n    },\n    mounted: function () {\n        this.active = this.routeName;\n        if (this.showCount) {\n            this.loadCount();\n        }\n    },\n    components: {},\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./tabs.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./tabs.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./tabs.vue?vue&type=template&id=36b2875c\"\nimport script from \"./tabs.vue?vue&type=script&lang=js\"\nexport * from \"./tabs.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n    <div class=\"m-dashboard-profile m-profile\">\n        <h2 class=\"u-title\">\n            <i :class=\"icon\"></i> {{ title }}\n            <slot name=\"header\"></slot>\n        </h2>\n        <tabs :tabs=\"tabList\" :msg-change-count=\"msgChangeCount\" />\n        <slot></slot>\n    </div>\n</template>\n\n<script>\nimport tabs from \"@/components/tabs.vue\";\nimport { profileTab } from \"@/assets/data/tabs.json\";\nexport default {\n    name: \"uc\",\n    props: {\n        icon: {\n            type: String,\n            default: \"el-icon-user\",\n        },\n        title: {\n            type: String,\n            default: \"我的资料\",\n        },\n        tabList: {\n            type: Array,\n            default: function () {\n                return profileTab;\n            },\n        },\n        msgChangeCount: {\n            type: Number,\n            default: 0,\n        },\n    },\n    data: function () {\n        return {};\n    },\n    computed: {},\n    methods: {},\n    mounted: function () {},\n    components: {\n        tabs,\n    },\n};\n</script>\n\n<style lang=\"less\">\n@import \"../assets/css/profile/uc.less\";\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./uc.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./uc.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./uc.vue?vue&type=template&id=58434bd0\"\nimport script from \"./uc.vue?vue&type=script&lang=js\"\nexport * from \"./uc.vue?vue&type=script&lang=js\"\nimport style0 from \"./uc.vue?vue&type=style&index=0&id=58434bd0&prod&lang=less\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}