{"version":3,"sources":["webpack:///./src/views/avatar.vue?5625","webpack:///src/views/avatar.vue","webpack:///./src/views/avatar.vue?c5e1","webpack:///./src/views/avatar.vue","webpack:///./src/service/profile.js","webpack:///./src/components/uc.vue?d3ce","webpack:///./src/components/tabs.vue?6398","webpack:///src/components/tabs.vue","webpack:///./src/components/tabs.vue?0e28","webpack:///./src/components/tabs.vue","webpack:///src/components/uc.vue","webpack:///./src/components/uc.vue?b1e0","webpack:///./src/components/uc.vue","webpack:///./src/components/uc.vue?aa75","webpack:///./src/views/avatar.vue?3c86"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_f","avatar","upload","_v","on","submit","reset","class","isVIP","frame","$event","selectFrame","directives","name","rawName","value","expression","_l","item","key","desc","status","isCircle","style","showFrame","files","s","file","_e","staticRenderFns","component","getProfile","$cms","get","updateProfile","data","put","updateAvatar","uploadAvatar","post","getFrames","axios","__imgPath","getUserOverview","uid","updatePassword","$_server","checkEmailStatus","checkEmailAvailable","email","params","user_email","sendBindEmail","sendVerifyEmail","checkOAuth","unbindOAuth","_m","_t","changeTab","model","callback","$$v","active","slot"],"mappings":"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","file":"js/chunk-d6ede764.9ce00606.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('uc',{staticClass:\"m-dashboard-avatar\"},[_c('div',{staticClass:\"m-profile-avatar\"},[_c('div',{staticClass:\"m-profile-avatar-primary\"},[_c('div',{staticClass:\"u-avatar\"},[_c('img',{staticClass:\"u-avatar u-avatar-l\",attrs:{\"src\":_vm._f(\"showAvatar\")(_vm.avatar)}})]),_c('el-upload',{staticClass:\"u-upload\",attrs:{\"drag\":\"\",\"accept\":\"image/png, image/gif, image/jpeg\",\"on-change\":_vm.upload,\"action\":\"upload/avatar\",\"auto-upload\":false}},[_c('i',{staticClass:\"el-icon-upload\"}),_c('div',{staticClass:\"el-upload__text\"},[_vm._v(\" 将文件拖到此处，或 \"),_c('em',[_vm._v(\"点击上传\")]),_c('br'),_c('span',{staticClass:\"u-tip\"},[_vm._v(\"只能上传jpg/png/gif文件\")])])]),_c('p',{staticClass:\"u-btng\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.submit}},[_vm._v(\"确认\")]),_c('el-button',{on:{\"click\":_vm.reset}},[_vm._v(\"重置\")])],1)],1),_c('div',{staticClass:\"m-profile-avatar-frame\"},[_c('h3',{staticClass:\"u-title\"},[_vm._v(\" 自定义头像框 \"),_c('span',{staticClass:\"u-limit\",class:{ on: _vm.isVIP }},[_vm._v(\" ( \"),_c('i',{class:_vm.isVIP ? 'el-icon-unlock' : 'el-icon-lock'}),_vm._v(\" 仅 \"),_c('a',{attrs:{\"href\":\"/vip/premium?from=dashboard_avatar\",\"target\":\"_blank\"}},[_vm._v(\"高级/专业版\")]),_vm._v(\"账户适用 ) \")])]),(_vm.frames)?_c('div',{staticClass:\"u-list\"},[_c('li',{staticClass:\"u-item\",class:{ on: !_vm.frame },on:{\"click\":function($event){return _vm.selectFrame('')}}},[_c('el-tooltip',{staticClass:\"item\",attrs:{\"effect\":\"dark\",\"content\":\"无边框\",\"placement\":\"top\",\"open-delay\":200}},[_c('div',[_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.frame),expression:\"!frame\"}],staticClass:\"u-pic\",attrs:{\"src\":_vm._f(\"showSmallAvatar\")(_vm.avatar)}}),_c('i',{staticClass:\"u-frame u-frame-none\"})])])],1),_vm._l((_vm.frames),function(item,name){return _c('li',{key:name,staticClass:\"u-item\",class:{ on: name == _vm.frame },on:{\"click\":function($event){return _vm.selectFrame(item)}}},[_c('el-tooltip',{staticClass:\"item\",attrs:{\"effect\":\"dark\",\"content\":item.desc,\"placement\":\"top\",\"open-delay\":300}},[_c('div',{class:{ 'u-blocked': !item.status }},[_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(name == _vm.frame),expression:\"name == frame\"}],staticClass:\"u-pic\",class:{isCircle: item.style == 'circle',},attrs:{\"src\":_vm._f(\"showSmallAvatar\")(_vm.avatar)}}),_c('i',{staticClass:\"u-frame\"},[_c('img',{attrs:{\"src\":_vm.showFrame(item.name,item.files.s.file)}})])])])],1)})],2):_vm._e(),_c('div',{staticClass:\"u-tip\"},[_c('i',{staticClass:\"el-icon-warning-outline\"}),_vm._v(\" 「限定头像框」仅在指定时间段可选择激活。 \")])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <uc class=\"m-dashboard-avatar\">\n        <div class=\"m-profile-avatar\">\n            <div class=\"m-profile-avatar-primary\">\n                <div class=\"u-avatar\">\n                    <img class=\"u-avatar u-avatar-l\" :src=\"avatar | showAvatar\" />\n                </div>\n                <el-upload\n                    class=\"u-upload\"\n                    drag\n                    accept=\"image/png, image/gif, image/jpeg\"\n                    :on-change=\"upload\"\n                    action=\"upload/avatar\"\n                    :auto-upload=\"false\"\n                >\n                    <i class=\"el-icon-upload\"></i>\n                    <div class=\"el-upload__text\">\n                        将文件拖到此处，或\n                        <em>点击上传</em>\n                        <br />\n                        <span class=\"u-tip\">只能上传jpg/png/gif文件</span>\n                    </div>\n                </el-upload>\n                <p class=\"u-btng\">\n                    <el-button type=\"primary\" @click=\"submit\">确认</el-button>\n                    <el-button @click=\"reset\">重置</el-button>\n                </p>\n            </div>\n            <div class=\"m-profile-avatar-frame\">\n                <h3 class=\"u-title\">\n                    自定义头像框\n                    <span class=\"u-limit\" :class=\"{ on: isVIP }\">\n                        (\n                        <i :class=\"isVIP ? 'el-icon-unlock' : 'el-icon-lock'\"></i>\n                        仅\n                        <a\n                            href=\"/vip/premium?from=dashboard_avatar\"\n                            target=\"_blank\"\n                        >高级/专业版</a>账户适用 )\n                    </span>\n                </h3>\n                <div class=\"u-list\" v-if=\"frames\">\n                    <li class=\"u-item\" :class=\"{ on: !frame }\" @click=\"selectFrame('')\">\n                        <el-tooltip\n                            class=\"item\"\n                            effect=\"dark\"\n                            content=\"无边框\"\n                            placement=\"top\"\n                            :open-delay=\"200\"\n                        >\n                            <div>\n                                <img :src=\"avatar | showSmallAvatar\" v-show=\"!frame\" class=\"u-pic\" />\n                                <i class=\"u-frame u-frame-none\"></i>\n                            </div>\n                        </el-tooltip>\n                    </li>\n                    <li\n                        class=\"u-item\"\n                        :class=\"{ on: name == frame }\"\n                        v-for=\"(item, name) in frames\"\n                        :key=\"name\"\n                        @click=\"selectFrame(item)\"\n                    >\n                        <el-tooltip\n                            class=\"item\"\n                            effect=\"dark\"\n                            :content=\"item.desc\"\n                            placement=\"top\"\n                            :open-delay=\"300\"\n                        >\n                            <div :class=\"{ 'u-blocked': !item.status }\">\n                                <img\n                                    :src=\"avatar | showSmallAvatar\"\n                                    v-show=\"name == frame\"\n                                    class=\"u-pic\"\n                                    :class=\"{isCircle: item.style == 'circle',}\"\n                                />\n                                <i class=\"u-frame\">\n                                    <img :src=\"showFrame(item.name,item.files.s.file)\" />\n                                </i>\n                            </div>\n                        </el-tooltip>\n                    </li>\n                </div>\n                <div class=\"u-tip\">\n                    <i class=\"el-icon-warning-outline\"></i>\n                    「限定头像框」仅在指定时间段可选择激活。\n                </div>\n            </div>\n        </div>\n    </uc>\n</template>\n\n<script>\nimport uc from \"@/components/uc.vue\";\nimport {\n    updateAvatar,\n    uploadAvatar,\n    getFrames,\n    getUserOverview,\n} from \"@/service/profile\";\nimport User from \"@jx3box/jx3box-common/js/user\";\nimport { showAvatar, getThumbnail } from \"@jx3box/jx3box-common/js/utils\";\nimport frames from \"@jx3box/jx3box-common/data/user_avatar_frame.json\";\nimport { __imgPath } from \"@jx3box/jx3box-common/data/jx3box.json\";\nexport default {\n    name: \"avatar\",\n    props: [],\n    data: function () {\n        return {\n            // 备份\n            bak: \"\",\n            // 数据\n            avatar: \"\",\n            frame: \"\",\n            // VIP\n            isVIP: false,\n            uid: User.getInfo().uid,\n            // 头像框\n            frames,\n        };\n    },\n    computed: {\n        data: function () {\n            return {\n                user_avatar: this.avatar,\n                user_avatar_frame: this.frame,\n            };\n        },\n    },\n    methods: {\n        upload: function (file, fileList) {\n            let formdata = new FormData();\n            let filedata = file.raw;\n            formdata.append(\"avatar\", filedata);\n            uploadAvatar(formdata).then((res) => {\n                this.$message({\n                    message: \"上传成功\",\n                    type: \"success\",\n                });\n                this.avatar = res.data.data[0];\n            });\n        },\n        reset: function () {\n            this.avatar = this.bak;\n        },\n        submit: function () {\n            if (!this.isVIP) {\n                if (this.frame) {\n                    this.$notify({\n                        title: \"头像框未生效\",\n                        message: \"头像框仅高级/专业账号可用\",\n                        type: \"warning\",\n                    });\n                }\n                this.frame = \"\";\n            }\n            updateAvatar(this.data).then((res) => {\n                User.refresh(\"avatar\", this.avatar);\n                this.$message({\n                    message: \"头像更新成功\",\n                    type: \"success\",\n                });\n            });\n        },\n        loadFrames: function () {\n            getFrames().then((res) => {\n                this.frames = res.data;\n            });\n        },\n        showFrame: function (name, filename) {\n            return __imgPath + `image/avatar/${name}/${filename}`;\n            return `temp/avatar/${name}/${filename}`;\n        },\n        selectFrame: function (item) {\n            if (!item) {\n                this.frame = \"\";\n                return;\n            }\n            if (item.status) {\n                this.frame = item.name;\n            }\n        },\n        init: function () {\n            this.loadFrames();\n            User.isVIP().then((data) => {\n                this.isVIP = data;\n            });\n\n            this.avatar = this.bak = User.getInfo().avatar_origin;\n            getUserOverview(this.uid).then((res) => {\n                this.frame = res.data.data.user_avatar_frame || \"\";\n            });\n        },\n    },\n    filters: {\n        showAvatar: function (val) {\n            return showAvatar(val, \"l\");\n        },\n        showSmallAvatar: function (val) {\n            return getThumbnail(val, 68, true);\n        },\n    },\n    created: function () {\n        this.init();\n    },\n    components: {\n        uc,\n    },\n};\n</script>\n\n<style lang=\"less\">\n@import \"../assets/css/profile/avatar.less\";\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./avatar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./avatar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./avatar.vue?vue&type=template&id=6d2f1d4c&\"\nimport script from \"./avatar.vue?vue&type=script&lang=js&\"\nexport * from \"./avatar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./avatar.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { axios, $server, $_server } from \"./axios\";\nimport { $cms } from \"@jx3box/jx3box-common/js/https.js\";\nimport { __imgPath } from \"@jx3box/jx3box-common/data/jx3box.json\";\n\n// 1.资料\n// -------------------------------\nfunction getProfile() {\n    return $cms().get(\"/api/cms/user/my/profile\");\n}\nfunction updateProfile(data) {\n    return $cms().put(\"/api/cms/user/my/profile\", data);\n}\n\n// 2.头像\n// -------------------------------\nfunction updateAvatar(data) {\n    return $cms().put(\"/api/cms/user/my/avatar\", data);\n}\nfunction uploadAvatar(data) {\n    return $cms().post(\"/api/cms/upload/avatar\", data);\n}\nfunction getFrames() {\n    return axios.get(__imgPath + \"data/user_avatar_frame.json\");\n}\nfunction getUserOverview(uid) {\n    return $cms().get(`/api/cms/user/${uid}/info`);\n}\n\n// 3.密码\n// -------------------------------\nfunction updatePassword(data) {\n    return $_server.post(\"profile/password\", data);\n}\n\n// 4.邮箱\n// -------------------------------\nfunction checkEmailStatus() {\n    return $_server.get(\"profile/email/check\");\n}\n\nfunction checkEmailAvailable(email) {\n    return $_server.get(\"profile/email/available\", {\n        params: {\n            user_email: email,\n        },\n    });\n}\n\nfunction sendBindEmail(data) {\n    return $_server.post(\"profile/email/bind\", data);\n}\n\nfunction sendVerifyEmail() {\n    return $_server.post(\"profile/email/verify\");\n}\n\n// 5.互联\nfunction checkOAuth() {\n    return $_server.get(\"profile/oauth/check\");\n}\n\nfunction unbindOAuth(data) {\n    return $_server.post(\"profile/oauth/unbind\", data);\n}\n\n// 6.亲友设置\n\n\nexport {\n    updateProfile,\n    getProfile,\n    updateAvatar,\n    updatePassword,\n    sendVerifyEmail,\n    checkEmailAvailable,\n    checkEmailStatus,\n    sendBindEmail,\n    unbindOAuth,\n    checkOAuth,\n    uploadAvatar,\n    getFrames,\n    getUserOverview,\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"m-dashboard-profile m-profile\"},[_vm._m(0),_c('tabs'),_vm._t(\"default\")],2)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('h2',{staticClass:\"u-title\"},[_c('i',{staticClass:\"el-icon-user\"}),_vm._v(\" 我的资料\")])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-tabs',{staticClass:\"m-dashboard-tabs\",on:{\"tab-click\":_vm.changeTab},model:{value:(_vm.active),callback:function ($$v) {_vm.active=$$v},expression:\"active\"}},[_c('el-tab-pane',{attrs:{\"name\":\"profile\"}},[_c('span',{attrs:{\"slot\":\"label\"},slot:\"label\"},[_c('i',{staticClass:\"el-icon-user\"}),_vm._v(\" 基本资料\")])]),_c('el-tab-pane',{attrs:{\"name\":\"avatar\"}},[_c('span',{attrs:{\"slot\":\"label\"},slot:\"label\"},[_c('i',{staticClass:\"el-icon-camera\"}),_vm._v(\" 修改头像\")])]),_c('el-tab-pane',{attrs:{\"name\":\"pwd\"}},[_c('span',{attrs:{\"slot\":\"label\"},slot:\"label\"},[_c('i',{staticClass:\"el-icon-lock\"}),_vm._v(\" 修改密码\")])]),_c('el-tab-pane',{attrs:{\"name\":\"email\"}},[_c('span',{attrs:{\"slot\":\"label\"},slot:\"label\"},[_c('i',{staticClass:\"el-icon-message\"}),_vm._v(\" 邮箱设置\")])]),_c('el-tab-pane',{attrs:{\"name\":\"connect\"}},[_c('span',{attrs:{\"slot\":\"label\"},slot:\"label\"},[_c('i',{staticClass:\"el-icon-connection\"}),_vm._v(\" 绑定账号\")])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <el-tabs class=\"m-dashboard-tabs\" v-model=\"active\" @tab-click=\"changeTab\">\n        <el-tab-pane name=\"profile\"\n            ><span slot=\"label\"\n                ><i class=\"el-icon-user\"></i> 基本资料</span\n            ></el-tab-pane\n        >\n        <el-tab-pane name=\"avatar\"\n            ><span slot=\"label\"\n                ><i class=\"el-icon-camera\"></i> 修改头像</span\n            ></el-tab-pane\n        >\n        <el-tab-pane name=\"pwd\"\n            ><span slot=\"label\"\n                ><i class=\"el-icon-lock\"></i> 修改密码</span\n            ></el-tab-pane\n        >\n        <el-tab-pane name=\"email\"\n            ><span slot=\"label\"\n                ><i class=\"el-icon-message\"></i> 邮箱设置</span\n            ></el-tab-pane\n        >\n        <el-tab-pane name=\"connect\"\n            ><span slot=\"label\"\n                ><i class=\"el-icon-connection\"></i> 绑定账号</span\n            ></el-tab-pane\n        >\n    </el-tabs>\n</template>\n\n<script>\nexport default {\n    name: \"\",\n    props: [],\n    data: function() {\n        return {\n            active : 'profile'\n        };\n    },\n    watch : {\n        $route : function (){\n            this.active = this.$route.name\n        }  \n    },\n    computed: {},\n    methods: {\n        changeTab : function (){\n            this.$router.push({name : this.active})\n        }\n    },\n    mounted: function() {\n        this.active = this.$route.name\n    },\n    components: {},\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./tabs.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./tabs.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./tabs.vue?vue&type=template&id=241be414&\"\nimport script from \"./tabs.vue?vue&type=script&lang=js&\"\nexport * from \"./tabs.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n    <div class=\"m-dashboard-profile m-profile\">\n        <h2 class=\"u-title\"><i class=\"el-icon-user\"></i> 我的资料</h2>\n        <tabs />\n        <slot></slot>\n    </div>\n</template>\n\n<script>\nimport tabs from \"@/components/tabs.vue\";\nexport default {\n    name: \"uc\",\n    props: [],\n    data: function() {\n        return {};\n    },\n    computed: {},\n    methods: {},\n    mounted: function() {},\n    components: {\n        tabs\n    },\n};\n</script>\n\n<style lang=\"less\">\n@import \"../assets/css/profile/uc.less\";\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./uc.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./uc.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./uc.vue?vue&type=template&id=29cfa590&\"\nimport script from \"./uc.vue?vue&type=script&lang=js&\"\nexport * from \"./uc.vue?vue&type=script&lang=js&\"\nimport style0 from \"./uc.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/style-resources-loader/lib/index.js??ref--10-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./uc.vue?vue&type=style&index=0&lang=less&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/style-resources-loader/lib/index.js??ref--10-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./avatar.vue?vue&type=style&index=0&lang=less&\""],"sourceRoot":""}