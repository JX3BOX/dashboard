{"version":3,"sources":["webpack:///./src/views/frame.vue?c750","webpack:///./src/service/profile.js","webpack:///./node_modules/core-js/internals/date-to-primitive.js","webpack:///./node_modules/@babel/runtime/helpers/esm/objectSpread2.js","webpack:///./node_modules/core-js/modules/es.symbol.to-primitive.js","webpack:///./src/views/frame.vue","webpack:///src/views/frame.vue","webpack:///./src/views/frame.vue?a5ed","webpack:///./src/views/frame.vue?ba97","webpack:///./src/service/decoration.js","webpack:///./node_modules/@babel/runtime/helpers/esm/toPrimitive.js","webpack:///./node_modules/@babel/runtime/helpers/esm/toPropertyKey.js","webpack:///./node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack:///./node_modules/core-js/modules/es.object.get-own-property-descriptors.js","webpack:///./node_modules/core-js/modules/es.object.get-own-property-descriptor.js","webpack:///./node_modules/core-js/modules/es.date.to-primitive.js"],"names":["$server","$_https","proxy","getProfile","$cms","get","updateProfile","data","put","updateAvatar","uploadAvatar","post","getFrames","url","__imgPath","axios","getUserOverview","uid","concat","params","__no_cache","updatePassword","checkEmailStatus","checkEmailAvailable","email","user_email","sendBindEmail","sendVerifyEmail","checkOAuth","unbindOAuth","type","popType","delete","anObject","ordinaryToPrimitive","$TypeError","TypeError","module","exports","hint","this","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread2","target","i","arguments","length","source","forEach","key","defineProperty","getOwnPropertyDescriptors","defineProperties","defineWellKnownSymbol","defineSymbolToPrimitive","render","_vm","_c","_self","staticClass","attrs","tabList","scopedSlots","_u","fn","_v","showAvatar","avatar","frame","frameUrl","_e","_l","frameList","item","slot","_s","desc","postscript","class","setClass","on","$event","setAvatar","name","updateAvatarFrame","reset","staticRenderFns","props","themeTab","User","getInfo","framebak","framesBak","avatar_origin","frames","avatars","decoration","computed","methods","dataProcessing","val","receive","isHave","using","_this","user_avatar_frame","then","res","$message","message","map","setDecoration","receiveFrame","_this2","loadDecoration","list","find","e","load","_this3","_this4","getDecoration","typeArr","arr","indexOf","formattingData","group_key","decorationAather","_this$decoration$key","_this5","firstRes","twoRes","threeRes","_objectSpread","mounted","components","uc","component","getDecorationJson","getEmotion","__dataPath","user_id","getHonor","_toPrimitive","input","_typeof","prim","Symbol","toPrimitive","undefined","call","String","Number","_toPropertyKey","arg","_defineProperty","obj","value","toPropertyKey","configurable","writable","$","DESCRIPTORS","toIndexedObject","getOwnPropertyDescriptorModule","createProperty","stat","sham","descriptor","O","f","result","index","fails","nativeGetOwnPropertyDescriptor","FORCED","forced","it","hasOwn","defineBuiltIn","dateToPrimitive","wellKnownSymbol","TO_PRIMITIVE","DatePrototype","Date","prototype"],"mappings":"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","file":"js/chunk-106c225c.ab76720e.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./frame.vue?vue&type=style&index=0&id=dccf4164&prod&lang=less&\"","import { $cms,$_https } from \"@jx3box/jx3box-common/js/https.js\";\n\nimport axios from 'axios'\nimport { __imgPath } from \"@jx3box/jx3box-common/data/jx3box.json\";\n\nconst $server = $_https('server', {\n    proxy: false,\n})\n\n// 1.资料\n// -------------------------------\nfunction getProfile() {\n    return $cms().get(\"/api/cms/user/my/profile\");\n}\nfunction updateProfile(data) {\n    return $cms().put(\"/api/cms/user/my/profile\", data);\n}\n\n// 2.头像\n// -------------------------------\nfunction updateAvatar(data) {\n    return $cms().put(\"/api/cms/user/my/avatar\", data);\n}\nfunction uploadAvatar(data) {\n    return $cms().post(\"/api/cms/upload/avatar\", data);\n}\nfunction getFrames() {\n    // let url = process.env.NODE_ENV == 'development'?'/temp/user_avatar_frame.json':(__imgPath + \"avatar/index.json\")\n    let url = __imgPath + \"avatar/index.json\"\n    return axios.get(url)\n}\nfunction getUserOverview(uid) {\n    return $cms().get(`/api/cms/user/${uid}/info`,{\n        params: {\n            __no_cache: 1\n        }\n    });\n}\n\n// 3.密码\n// -------------------------------\nfunction updatePassword(data) {\n    return $server.post(\"profile/password\", data);\n}\n\n// 4.邮箱\n// -------------------------------\nfunction checkEmailStatus() {\n    return $server.get(\"profile/email/check\");\n}\n\nfunction checkEmailAvailable(email) {\n    return $server.get(\"profile/email/available\", {\n        params: {\n            user_email: email,\n        },\n    });\n}\n\nfunction sendBindEmail(data) {\n    return $server.post(\"profile/email/bind\", data);\n}\n\nfunction sendVerifyEmail() {\n    return $server.post(\"profile/email/verify\");\n}\n\n// 5.互联\nfunction checkOAuth() {\n    return $cms().get(\"/api/cms/account/oauth/status\");\n}\n\nfunction unbindOAuth(type) {\n    return $cms({\n        popType : 'alert',\n    }).delete(`/api/cms/account/oauth/unbind/${type}`);\n}\n\n\nexport {\n    updateProfile,\n    getProfile,\n    updateAvatar,\n    updatePassword,\n    sendVerifyEmail,\n    checkEmailAvailable,\n    checkEmailStatus,\n    sendBindEmail,\n    unbindOAuth,\n    checkOAuth,\n    uploadAvatar,\n    getFrames,\n    getUserOverview,\n};\n","'use strict';\nvar anObject = require('../internals/an-object');\nvar ordinaryToPrimitive = require('../internals/ordinary-to-primitive');\n\nvar $TypeError = TypeError;\n\n// `Date.prototype[@@toPrimitive](hint)` method implementation\n// https://tc39.es/ecma262/#sec-date.prototype-@@toprimitive\nmodule.exports = function (hint) {\n  anObject(this);\n  if (hint === 'string' || hint === 'default') hint = 'string';\n  else if (hint !== 'number') throw $TypeError('Incorrect hint');\n  return ordinaryToPrimitive(this, hint);\n};\n","import defineProperty from \"./defineProperty.js\";\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n  return target;\n}","var defineWellKnownSymbol = require('../internals/well-known-symbol-define');\nvar defineSymbolToPrimitive = require('../internals/symbol-define-to-primitive');\n\n// `Symbol.toPrimitive` well-known symbol\n// https://tc39.es/ecma262/#sec-symbol.toprimitive\ndefineWellKnownSymbol('toPrimitive');\n\n// `Symbol.prototype[@@toPrimitive]` method\n// https://tc39.es/ecma262/#sec-symbol.prototype-@@toprimitive\ndefineSymbolToPrimitive();\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('uc',{staticClass:\"m-dashboard-frame m-dashboard-skin\",attrs:{\"icon\":\"el-icon-brush\",\"title\":\"主题装扮\",\"tab-list\":_vm.tabList},scopedSlots:_vm._u([{key:\"header\",fn:function(){return [_c('a',{staticClass:\"u-link el-button el-button--default el-button--mini is-round is-plain\",attrs:{\"href\":\"/vip/mall?category=virtual\",\"target\":\"_blank\"}},[_c('i',{staticClass:\"el-icon-shopping-cart-2\"}),_vm._v(\" 前往获取装扮\")])]},proxy:true}])},[_c('div',{staticClass:\"m-frame\"},[_c('div',{staticClass:\"m-frame-left\"},[_c('a',{staticClass:\"u-btn el-button el-button--default el-button--mini is-plain\",attrs:{\"href\":\"/dashboard/avatar\",\"target\":\"_blank\"}},[_c('i',{staticClass:\"el-icon-picture-outline-round\"}),_vm._v(\" 修改头像\")]),_c('div',{staticClass:\"u-avatar-box\"},[_c('div',{staticClass:\"u-avatar\"},[_c('img',{staticClass:\"u-avatar-pic\",attrs:{\"src\":_vm.showAvatar(_vm.avatar)}}),(_vm.frame)?_c('i',{staticClass:\"u-avatar-frame\"},[_c('img',{attrs:{\"src\":_vm.frameUrl(_vm.frame)}})]):_vm._e()])])]),_c('div',{staticClass:\"m-frame-right\"},[_c('div',{staticClass:\"u-theme\"},[_c('div',{staticClass:\"u-frame-list\"},[_c('div',{staticClass:\"u-title\"},[_c('span',{staticClass:\"u-name\"},[_c('i',{staticClass:\"el-icon-collection-tag\"}),_vm._v(\"头像框\")]),_c('a',{staticClass:\"u-buy\",attrs:{\"href\":`/vip/mall?category=virtual&sub_category=avatar`,\"target\":\"_blank\"}},[_c('i',{staticClass:\"el-icon-shopping-cart-2\"}),_vm._v(\" 前往获取\")])]),_c('div',{staticClass:\"u-frame-item\"},_vm._l((_vm.frameList),function(item,i){return _c('div',{key:i,staticClass:\"u-picbox\"},[_c('el-tooltip',{attrs:{\"effect\":\"dark\",\"placement\":\"top\",\"open-delay\":200}},[_c('div',{attrs:{\"slot\":\"content\"},slot:\"content\"},[_vm._v(_vm._s(item.desc)),_c('br'),_vm._v(_vm._s(item.postscript))]),_c('div',{staticClass:\"u-pic\",class:_vm.setClass(item),on:{\"click\":function($event){return _vm.setAvatar(item)}}},[(item.name)?_c('el-image',{attrs:{\"src\":_vm.frameUrl(item.name),\"fit\":\"contain\"}}):_c('div',{staticClass:\"u-noFrame\"})],1)])],1)}),0)])])])]),_c('div',{staticClass:\"m-btn\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.updateAvatarFrame}},[_vm._v(\"确认\")]),_c('el-button',{on:{\"click\":_vm.reset}},[_vm._v(\"清除所有装扮\")])],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <uc class=\"m-dashboard-frame m-dashboard-skin\" icon=\"el-icon-brush\" title=\"主题装扮\" :tab-list=\"tabList\">\n        <template #header>\n            <a\n                class=\"u-link el-button el-button--default el-button--mini is-round is-plain\"\n                href=\"/vip/mall?category=virtual\"\n                target=\"_blank\"\n                ><i class=\"el-icon-shopping-cart-2\"></i> 前往获取装扮</a\n            >\n        </template>\n        <div class=\"m-frame\">\n            <!-- 左右两侧 -->\n            <div class=\"m-frame-left\">\n                <a\n                    class=\"u-btn el-button el-button--default el-button--mini is-plain\"\n                    href=\"/dashboard/avatar\"\n                    target=\"_blank\"\n                    ><i class=\"el-icon-picture-outline-round\"></i> 修改头像</a\n                >\n                <div class=\"u-avatar-box\">\n                    <div class=\"u-avatar\">\n                        <img :src=\"showAvatar(avatar)\" class=\"u-avatar-pic\" />\n                        <i class=\"u-avatar-frame\" v-if=\"frame\">\n                            <img :src=\"frameUrl(frame)\" />\n                        </i>\n                    </div>\n                </div>\n            </div>\n            <div class=\"m-frame-right\">\n                <!-- <div class=\"u-no-theme\" :class=\"decorationActivate==null?'select':''\" @click=\"noSet\">不设置主题</div> -->\n                <!-- 主题渲染列表 -->\n                <div class=\"u-theme\">\n                    <div class=\"u-frame-list\">\n                        <div class=\"u-title\">\n                            <span class=\"u-name\"><i class=\"el-icon-collection-tag\"></i>头像框</span>\n                            <a class=\"u-buy\" :href=\"`/vip/mall?category=virtual&sub_category=avatar`\" target=\"_blank\"\n                                ><i class=\"el-icon-shopping-cart-2\"></i> 前往获取</a\n                            >\n                        </div>\n                        <div class=\"u-frame-item\">\n                            <div class=\"u-picbox\" v-for=\"(item, i) in frameList\" :key=\"i\">\n                                <el-tooltip effect=\"dark\" placement=\"top\" :open-delay=\"200\">\n                                    <div slot=\"content\">{{ item.desc }}<br />{{ item.postscript }}</div>\n                                    <div class=\"u-pic\" :class=\"setClass(item)\" @click=\"setAvatar(item)\">\n                                        <el-image :src=\"frameUrl(item.name)\" fit=\"contain\" v-if=\"item.name\" />\n                                        <div v-else class=\"u-noFrame\"></div>\n                                    </div>\n                                </el-tooltip>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class=\"m-btn\">\n            <el-button type=\"primary\" @click=\"updateAvatarFrame\">确认</el-button>\n            <el-button @click=\"reset\">清除所有装扮</el-button>\n        </div>\n    </uc>\n</template>\n\n<script>\nimport uc from \"@/components/uc.vue\";\nimport { themeTab } from \"@/assets/data/tabs.json\";\nimport User from \"@jx3box/jx3box-common/js/user\";\nimport { showAvatar } from \"@jx3box/jx3box-common/js/utils\";\nimport { __imgPath } from \"@jx3box/jx3box-common/data/jx3box.json\";\nimport { getFrames, getUserOverview } from \"@/service/profile\";\nimport { updateAvatarFrame, getDecoration, receive, setDecoration } from \"@/service/decoration\";\nimport { cloneDeep } from \"lodash\";\n// import frames from \"@jx3box/jx3box-common/data/user_avatar_frame.json\";\nexport default {\n    name: \"frame\",\n    props: [],\n    data: function () {\n        return {\n            tabList: themeTab,\n            uid: User.getInfo().uid,\n            frameList: [],\n            //头像框备份\n            framebak: \"\",\n            framesBak: {},\n            // 数据\n            avatar: User.getInfo().avatar_origin,\n            frame: null,\n            frames: {}, //远程json\n            avatars: [], //头像筛选\n            decoration: null, //装扮筛选用于判断是否符合领取条件\n        };\n    },\n    computed: {},\n    methods: {\n        reset() {\n            this.frame = this.framebak;\n            this.frames = this.framesBak;\n            this.dataProcessing();\n        },\n        frameUrl: function (name) {\n            if (!name) return;\n            return __imgPath + `avatar/images/${name}/${name}.svg`;\n        },\n        showAvatar: function (val) {\n            return showAvatar(val, 200 * 3);\n        },\n        setClass(item) {\n            if (item.decoration && item.receive) return \"receive\";\n            if (!item.isHave) return \"noHave\";\n            if (item.using) return \"select\";\n        },\n        updateAvatarFrame() {\n            updateAvatarFrame({ user_avatar_frame: this.frame }).then((res) => {\n                this.$message({\n                    message: \"头像框更新成功\",\n                    type: \"success\",\n                });\n                const params = this.frameList.map((item) => {\n                    return { val: item.name, using: item.using, type: \"avatar\" };\n                });\n                setDecoration(params);\n            });\n        },\n        receiveFrame(type) {\n            receive(this.uid, type).then((data) => {\n                this.$message({\n                    message: \"领取成功\",\n                    type: \"success\",\n                });\n                this.loadDecoration();\n            });\n        },\n        setAvatar(item) {\n            //如果receive则走领取\n            if (item.decoration && item.receive) {\n                //先走领取完事重载状态\n                this.receiveFrame(item.name);\n                return;\n            }\n            if (!item.isHave) return;\n            let list = this.frameList;\n            let find = list.find((e) => e.using == 1);\n            if (find) find.using = 0;\n            item.using == 1 ? (item.using = 0) : (item.using = 1);\n            this.frame = item.name;\n        },\n        load: function () {\n            getUserOverview(this.uid).then((res) => {\n                this.frame = res.data.data.user_avatar_frame || \"\";\n                this.framebak = res.data.data.user_avatar_frame || \"\";\n            });\n            getFrames().then((res) => {\n                this.frames = res.data;\n                this.framesBak = res.data;\n                this.loadDecoration();\n            });\n        },\n        loadDecoration() {\n            getDecoration().then((data) => {\n                let res = data.data.data;\n                let typeArr = [\"atcard\", \"homebg\", \"sidebar\", \"calendar\"];\n                let arr = res.filter((item) => item.type != \"\" && typeArr.indexOf(item.type) != -1);\n                this.decoration = this.formattingData(arr, \"val\");\n                this.avatars = res.filter((e) => e.type == \"avatar\");\n                this.dataProcessing();\n            });\n        },\n        formattingData(arr, group_key) {\n            let map = {};\n            arr.forEach((item, i) => {\n                if (!map[item[group_key]]) {\n                    map[item[group_key]] = [item];\n                } else {\n                    map[item[group_key]].push(item);\n                }\n            });\n            return map;\n        },\n        //装扮收集判断\n        decorationAather(key) {\n            let typeArr = [\"atcard\", \"homebg\", \"sidebar\", \"calendar\"];\n            let arr = this.decoration[key]?.filter((item) => item.type != \"\" && typeArr.indexOf(item.type) != -1);\n            if (arr?.length >= 4) return true;\n            return false;\n        },\n        dataProcessing() {\n            let avatars = this.avatars || [],\n                frames = this.frames,\n                firstRes = [{ desc: \"无边框\", name: \"\", val: \"\", isHave: 1, using: 1 }],\n                twoRes = [],\n                threeRes = [];\n            Object.keys(frames).forEach((key, i) => {\n                let item = { ...frames[key], ...{ isHave: 0, using: 0, receive: false } };\n                let find = avatars.find((e) => e.val == key);\n                if (find) {\n                    item.using = find.using;\n                    item.isHave = 1;\n                    if (item.using) {\n                        firstRes[0].using = 0;\n                    }\n                } else {\n                    if (item.decoration) {\n                        item.receive = this.decorationAather(item.name);\n                    }\n                }\n\n                if (item.isHave) {\n                    firstRes.push(item);\n                } else if (item.decoration) {\n                    twoRes.push(item);\n                } else {\n                    threeRes.push(item);\n                }\n            });\n            this.frameList = [...firstRes, ...twoRes, ...threeRes];\n        },\n    },\n    mounted: function () {\n        this.load();\n    },\n    components: {\n        uc,\n    },\n};\n</script>\n<style lang=\"less\">\n@import \"../assets/css/frame.less\";\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./frame.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./frame.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./frame.vue?vue&type=template&id=dccf4164&\"\nimport script from \"./frame.vue?vue&type=script&lang=js&\"\nexport * from \"./frame.vue?vue&type=script&lang=js&\"\nimport style0 from \"./frame.vue?vue&type=style&index=0&id=dccf4164&prod&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { $cms } from \"@jx3box/jx3box-common/js/https.js\";\nimport axios from \"axios\";\nimport { __imgPath, __dataPath } from \"@jx3box/jx3box-common/data/jx3box.json\";\nfunction getDecoration(params) {\n    return $cms().get(`/api/cms/user/decoration`, {\n        params,\n    });\n}\nfunction setDecoration(data) {\n    return $cms().post(`/api/cms/user/decoration`, data);\n}\nfunction getDecorationJson() {\n    let url = __imgPath + \"decoration/index.json\";\n    return axios.get(url);\n}\nfunction getEmotion() {\n    return axios.get(`${__dataPath}emotion/output/catalog.json`);\n}\nfunction receive(user_id, val) {\n    return $cms().post(`/api/cms/user/decoration/check-suit/${user_id}/${val}/for/avatar`);\n}\n\nfunction updateAvatarFrame(data) {\n    return $cms().put(\"/api/cms/user/my/avatar-frame\", data);\n}\nfunction getHonor() {\n    return axios.get(`${__imgPath}decoration/honor.json`);\n}\nexport { getDecoration, setDecoration, getDecorationJson, getEmotion, receive, updateAvatarFrame, getHonor };\n","import _typeof from \"./typeof.js\";\nexport default function _toPrimitive(input, hint) {\n  if (_typeof(input) !== \"object\" || input === null) return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || \"default\");\n    if (_typeof(res) !== \"object\") return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}","import _typeof from \"./typeof.js\";\nimport toPrimitive from \"./toPrimitive.js\";\nexport default function _toPropertyKey(arg) {\n  var key = toPrimitive(arg, \"string\");\n  return _typeof(key) === \"symbol\" ? key : String(key);\n}","import toPropertyKey from \"./toPropertyKey.js\";\nexport default function _defineProperty(obj, key, value) {\n  key = toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}","var $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar ownKeys = require('../internals/own-keys');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar createProperty = require('../internals/create-property');\n\n// `Object.getOwnPropertyDescriptors` method\n// https://tc39.es/ecma262/#sec-object.getownpropertydescriptors\n$({ target: 'Object', stat: true, sham: !DESCRIPTORS }, {\n  getOwnPropertyDescriptors: function getOwnPropertyDescriptors(object) {\n    var O = toIndexedObject(object);\n    var getOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\n    var keys = ownKeys(O);\n    var result = {};\n    var index = 0;\n    var key, descriptor;\n    while (keys.length > index) {\n      descriptor = getOwnPropertyDescriptor(O, key = keys[index++]);\n      if (descriptor !== undefined) createProperty(result, key, descriptor);\n    }\n    return result;\n  }\n});\n","var $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar nativeGetOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar DESCRIPTORS = require('../internals/descriptors');\n\nvar FORCED = !DESCRIPTORS || fails(function () { nativeGetOwnPropertyDescriptor(1); });\n\n// `Object.getOwnPropertyDescriptor` method\n// https://tc39.es/ecma262/#sec-object.getownpropertydescriptor\n$({ target: 'Object', stat: true, forced: FORCED, sham: !DESCRIPTORS }, {\n  getOwnPropertyDescriptor: function getOwnPropertyDescriptor(it, key) {\n    return nativeGetOwnPropertyDescriptor(toIndexedObject(it), key);\n  }\n});\n","var hasOwn = require('../internals/has-own-property');\nvar defineBuiltIn = require('../internals/define-built-in');\nvar dateToPrimitive = require('../internals/date-to-primitive');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_PRIMITIVE = wellKnownSymbol('toPrimitive');\nvar DatePrototype = Date.prototype;\n\n// `Date.prototype[@@toPrimitive]` method\n// https://tc39.es/ecma262/#sec-date.prototype-@@toprimitive\nif (!hasOwn(DatePrototype, TO_PRIMITIVE)) {\n  defineBuiltIn(DatePrototype, TO_PRIMITIVE, dateToPrimitive);\n}\n"],"sourceRoot":""}