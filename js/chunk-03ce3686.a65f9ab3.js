(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-03ce3686"],{"04d1":function(t,e,n){var i=n("342f"),a=i.match(/firefox\/(\d+)/i);t.exports=!!a&&+a[1]},"4e82":function(t,e,n){"use strict";var i=n("23e7"),a=n("e330"),r=n("59ed"),o=n("7b0b"),s=n("07fa"),c=n("083a"),u=n("577e"),f=n("d039"),d=n("addb"),l=n("a640"),v=n("04d1"),p=n("d998"),h=n("2d00"),b=n("512ce"),g=[],m=a(g.sort),y=a(g.push),x=f((function(){g.sort(void 0)})),_=f((function(){g.sort(null)})),k=l("sort"),w=!f((function(){if(h)return h<70;if(!(v&&v>3)){if(p)return!0;if(b)return b<603;var t,e,n,i,a="";for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(i=0;i<47;i++)g.push({k:e+i,v:n})}for(g.sort((function(t,e){return e.v-t.v})),i=0;i<g.length;i++)e=g[i].k.charAt(0),a.charAt(a.length-1)!==e&&(a+=e);return"DGBEFHACIJK"!==a}})),O=x||!_||!k||!w,j=function(t){return function(e,n){return void 0===n?-1:void 0===e?1:void 0!==t?+t(e,n)||0:u(e)>u(n)?1:-1}};i({target:"Array",proto:!0,forced:O},{sort:function(t){void 0!==t&&r(t);var e=o(this);if(w)return void 0===t?m(e):m(e,t);var n,i,a=[],u=s(e);for(i=0;i<u;i++)i in e&&y(a,e[i]);d(a,j(t)),n=a.length,i=0;while(i<n)e[i]=a[i++];while(i<u)c(e,i++);return e}})},"4ec9":function(t,e,n){n("6f48")},"4fad":function(t,e,n){var i=n("d039"),a=n("861d"),r=n("c6b6"),o=n("d86b"),s=Object.isExtensible,c=i((function(){s(1)}));t.exports=c||o?function(t){return!!a(t)&&((!o||"ArrayBuffer"!=r(t))&&(!s||s(t)))}:s},"512ce":function(t,e,n){var i=n("342f"),a=i.match(/AppleWebKit\/(\d+)\./);t.exports=!!a&&+a[1]},"551d":function(t,e,n){},6566:function(t,e,n){"use strict";var i=n("9bf2").f,a=n("7c73"),r=n("6964"),o=n("0366"),s=n("19aa"),c=n("2266"),u=n("7dd0"),f=n("2626"),d=n("83ab"),l=n("f183").fastKey,v=n("69f3"),p=v.set,h=v.getterFor;t.exports={getConstructor:function(t,e,n,u){var f=t((function(t,i){s(t,v),p(t,{type:e,index:a(null),first:void 0,last:void 0,size:0}),d||(t.size=0),void 0!=i&&c(i,t[u],{that:t,AS_ENTRIES:n})})),v=f.prototype,b=h(e),g=function(t,e,n){var i,a,r=b(t),o=m(t,e);return o?o.value=n:(r.last=o={index:a=l(e,!0),key:e,value:n,previous:i=r.last,next:void 0,removed:!1},r.first||(r.first=o),i&&(i.next=o),d?r.size++:t.size++,"F"!==a&&(r.index[a]=o)),t},m=function(t,e){var n,i=b(t),a=l(e);if("F"!==a)return i.index[a];for(n=i.first;n;n=n.next)if(n.key==e)return n};return r(v,{clear:function(){var t=this,e=b(t),n=e.index,i=e.first;while(i)i.removed=!0,i.previous&&(i.previous=i.previous.next=void 0),delete n[i.index],i=i.next;e.first=e.last=void 0,d?e.size=0:t.size=0},delete:function(t){var e=this,n=b(e),i=m(e,t);if(i){var a=i.next,r=i.previous;delete n.index[i.index],i.removed=!0,r&&(r.next=a),a&&(a.previous=r),n.first==i&&(n.first=a),n.last==i&&(n.last=r),d?n.size--:e.size--}return!!i},forEach:function(t){var e,n=b(this),i=o(t,arguments.length>1?arguments[1]:void 0);while(e=e?e.next:n.first){i(e.value,e.key,this);while(e&&e.removed)e=e.previous}},has:function(t){return!!m(this,t)}}),r(v,n?{get:function(t){var e=m(this,t);return e&&e.value},set:function(t,e){return g(this,0===t?0:t,e)}}:{add:function(t){return g(this,t=0===t?0:t,t)}}),d&&i(v,"size",{get:function(){return b(this).size}}),f},setStrong:function(t,e,n){var i=e+" Iterator",a=h(e),r=h(i);u(t,e,(function(t,e){p(this,{type:i,target:t,state:a(t),kind:e,last:void 0})}),(function(){var t=r(this),e=t.kind,n=t.last;while(n&&n.removed)n=n.previous;return t.target&&(t.last=n=n?n.next:t.state.first)?"keys"==e?{value:n.key,done:!1}:"values"==e?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),f(e)}}},"6d61":function(t,e,n){"use strict";var i=n("23e7"),a=n("da84"),r=n("e330"),o=n("94ca"),s=n("cb2d"),c=n("f183"),u=n("2266"),f=n("19aa"),d=n("1626"),l=n("861d"),v=n("d039"),p=n("1c7e"),h=n("d44e"),b=n("7156");t.exports=function(t,e,n){var g=-1!==t.indexOf("Map"),m=-1!==t.indexOf("Weak"),y=g?"set":"add",x=a[t],_=x&&x.prototype,k=x,w={},O=function(t){var e=r(_[t]);s(_,t,"add"==t?function(t){return e(this,0===t?0:t),this}:"delete"==t?function(t){return!(m&&!l(t))&&e(this,0===t?0:t)}:"get"==t?function(t){return m&&!l(t)?void 0:e(this,0===t?0:t)}:"has"==t?function(t){return!(m&&!l(t))&&e(this,0===t?0:t)}:function(t,n){return e(this,0===t?0:t,n),this})},j=o(t,!d(x)||!(m||_.forEach&&!v((function(){(new x).entries().next()}))));if(j)k=n.getConstructor(e,t,g,y),c.enable();else if(o(t,!0)){var C=new k,A=C[y](m?{}:-0,1)!=C,S=v((function(){C.has(1)})),D=p((function(t){new x(t)})),E=!m&&v((function(){var t=new x,e=5;while(e--)t[y](e,e);return!t.has(-0)}));D||(k=e((function(t,e){f(t,_);var n=b(new x,t,k);return void 0!=e&&u(e,n[y],{that:n,AS_ENTRIES:g}),n})),k.prototype=_,_.constructor=k),(S||E)&&(O("delete"),O("has"),g&&O("get")),(E||A)&&O(y),m&&_.clear&&delete _.clear}return w[t]=k,i({global:!0,constructor:!0,forced:k!=x},w),h(k,t),m||n.setStrong(k,t,g),k}},"6ed5":function(t,e,n){"use strict";n("551d")},"6f48":function(t,e,n){"use strict";var i=n("6d61"),a=n("6566");i("Map",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),a)},a83c:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("uc",{staticClass:"m-dashboard-theme m-dashboard-skin",attrs:{icon:"el-icon-brush",title:"主题装扮","tab-list":t.tabList},scopedSlots:t._u([{key:"header",fn:function(){return[n("a",{staticClass:"u-link el-button el-button--default el-button--mini is-round is-plain",attrs:{href:"/vip/mall/?type=virtual",target:"_blank"}},[n("i",{staticClass:"el-icon-shopping-cart-2"}),t._v(" 前往获取装扮")])]},proxy:!0}])},[n("div",{staticClass:"m-theme-box"},[n("div",{staticClass:"m-theme-left"},[n("div",{staticClass:"u-top"},[t.previewUrl?n("img",{staticClass:"u-img",attrs:{src:t.previewUrl,fit:"contain"}}):n("div",{staticClass:"u-no-preview"},[t._v(" 暂 无"),n("br"),t._v(" 预 览 ")])]),n("div",{staticClass:"u-bottom"},t._l(t.themeType,(function(e,i){return n("div",{key:i,staticClass:"u-type-box"},[t.isStatus(e)?n("img",{staticClass:"u-img",attrs:{src:t.getActiveImg(e),fit:"contain"},on:{click:function(n){return t.preview(e)}}}):e.statue?n("div",{staticClass:"u-no-select"},[t._v(" 暂 无"),n("br"),t._v(" 设 置 ")]):n("div",{staticClass:"u-no-select"},[t._v(" 敬 请"),n("br"),t._v(" 期 待 ")]),n("div",{staticClass:"u-title"},[t._v(t._s(e.name))])])})),0)]),n("div",{staticClass:"m-theme-right"},[n("div",{staticClass:"u-tips"},[n("i",{staticClass:"el-icon-warning-outline"}),t._v(" 仅限同主题配置，该主题下部位可分别激活")]),n("div",{staticClass:"u-theme"},t._l(t.decoration,(function(e,i){return n("div",{key:i+e.val,staticClass:"u-decoration-list"},[n("div",{staticClass:"u-title"},[n("span",{staticClass:"u-name"},[n("i",{staticClass:"el-icon-collection-tag"}),t._v(" "+t._s(e.name))]),n("a",{staticClass:"u-buy",attrs:{href:"/vip/mall/?type=virtual&subtype=skin&search="+e.name,target:"_blank"}},[n("i",{staticClass:"el-icon-shopping-cart-2"}),t._v(" 前往获取")])]),n("div",{staticClass:"u-decoration-item"},t._l(e.list,(function(e,a){return n("div",{key:"c"+a,staticClass:"u-picbox",attrs:{title:e.name}},[n("div",{staticClass:"u-pic",class:e.isHave?e.using?"select":"":"noHave",on:{click:function(n){return t.setStatus(i,a,e)}}},[n("el-image",{attrs:{src:t._f("showDecoration")(e),fit:"contain"}})],1),n("div",{staticClass:"u-decoration-name"},[t._v(t._s(e.text))])])})),0)])})),0)])]),n("div",{staticClass:"u-btn"},[n("el-button",{attrs:{type:"primary"},on:{click:t.decorationSubmit}},[t._v("确认")]),n("el-button",{on:{click:t.reset}},[t._v("重置")])],1)])},a=[],r=n("ade3"),o=(n("e9c4"),n("4de4"),n("d3b7"),n("159b"),n("7db0"),n("4e82"),n("4ec9"),n("3ca3"),n("ddb0"),n("b64b"),n("99af"),n("d81d"),n("b0c0"),n("b547")),s=n("aa38"),c=n("c9d2"),u=n("65c2"),f=n("2ef0"),d=n("46c1"),l={name:"theme",props:[],data:function(){return{tabList:d["c"],uid:c["a"].getInfo().uid,themeType:[{name:"个人名片",type:"atcard",statue:1},{name:"主页风格",type:"homebg",statue:1},{name:"侧栏主题",type:"sidebar",statue:1},{name:"首页日历",type:"calendar",statue:1},{name:"社区称号",type:"",statue:0}],previewUrl:"",decoration:[],decorationJson:[],decorationActivate:null,originalActivateName:null,back:{}}},computed:{},methods:{reset:function(){var t=Object(f["cloneDeep"])(this.back);this.previewUrl="",this.decoration=t.decoration,this.decorationActivate=t.decorationActivate,this.originalActivateName=t.originalActivateName},loadDecoration:function(){var t=this;Object(s["b"])().then((function(e){sessionStorage.setItem("decoration_json",JSON.stringify(e.data)),t.decorationJson=e.data,Object(s["a"])().then((function(e){var n=["atcard","homebg","sidebar","calendar"],i=e.data.data.filter((function(t){return""!=t.type&&-1!=n.indexOf(t.type)}));t.decoration=t.formattingData(i,"val"),t.back.decoration=Object(f["cloneDeep"])(t.decoration),t.back.decorationActivate=Object(f["cloneDeep"])(t.decorationActivate),t.back.originalActivateName=Object(f["cloneDeep"])(t.originalActivateName)}))}))},formattingData:function(t,e){var n=this,i={},a=[],o=[],s=[{type:"atcard",text:"个人名片",sort:1,isHave:0,using:0},{type:"homebg",text:"主页风格",sort:2,isHave:0,using:0},{type:"sidebar",text:"侧栏主题",sort:3,isHave:0,using:0},{type:"calendar",text:"首页日历",sort:4,isHave:0,using:0}];t.forEach((function(t,a){var r=s.find((function(e){return e.type==t.type}));r&&(t.sort=r.sort,i[t[e]]?i[t[e]].push(t):i[t[e]]=[t],t.using&&(n.originalActivateName=t[e]))}));var c=function(t){return function(e,n){return e[t]-n[t]}},u=function(t,e,n){var i=new Map,a=[],r=Object(f["cloneDeep"])(s),c=t.filter((function(t){return!i.has(t[e])&&i.set(t[e],1)}));return r.forEach((function(t,e){if(t.val=n,-1===o.indexOf(n)){var i=c.find((function(e){return e.type==t.type}));i&&(t.isHave=1,t.using=i.using)}a.push(t)})),a},d=Object(f["cloneDeep"])(this.decorationJson);return Object.keys(d).forEach((function(t,e){if(!i[t]&&1==d[t].status){o.push(t);var n=Object(f["cloneDeep"])(s),a=[];n.forEach((function(e){e.val=t,a.push(e)})),i[t]=a}})),Object.keys(i).forEach((function(t,o){var s;t==n.originalActivateName&&(n.decorationActivate=o),a.push((s={},Object(r["a"])(s,e,t),Object(r["a"])(s,"name",d[t].desc),Object(r["a"])(s,"list",u(i[t],"type",t).sort(c("sort"))),s))})),a},noSet:function(){for(var t=this.decorationActivate,e=this.decoration[t]?this.decoration[t].list:[],n=0;n<e.length;n++)e[n].using=0;this.decorationActivate=null,this.previewUrl=""},setStatus:function(t,e,n){if(n.isHave){1==n.using?n.using=0:n.using=1;var i=this.decorationActivate;if(t!=i){for(var a=this.decoration[i]?this.decoration[i].list:[],r=0;r<a.length;r++)a[r].using=0;this.decorationActivate=t}}},isStatus:function(t){var e=this.decorationActivate,n=this.decoration[e]?this.decoration[e].list:[],i=n.find((function(e){return e.type==t.type&&1==e.using}));return!!i},preview:function(t){this.previewUrl=this.getActiveImg(t)},getActiveImg:function(t){var e=this.decorationActivate,n=this.decoration[e]?this.decoration[e].val:null,i="https://cdn.jx3box.com/static/dashboard/img/no.5fe91973.svg";return n?u["__imgPath"]+"decoration/images/".concat(n,"/").concat(t.type,"_preview.png"):i},decorationSubmit:function(){var t=this,e=this.decorationActivate,n=[],i=e?this.decoration[e].val:"",a=Object(f["flatten"])(this.decoration.map((function(t){return t.list}))),r=a.map((function(t){return 1==t.using&&n.push(t.type),{val:t.val,using:t.using,type:t.type}}));Object(s["e"])(r).then((function(e){var a={name:i,type:n};i||(a.name=!1),localStorage.setItem("decoration_all",JSON.stringify(a)),sessionStorage.removeItem("decoration_me"+t.uid),sessionStorage.removeItem("decoration_sidebar"+t.uid),sessionStorage.removeItem("decoration_calendar"),sessionStorage.removeItem("decoration_atcard"+t.uid),t.$message({message:"主题更新成功",type:"success"})}))}},mounted:function(){this.loadDecoration()},filters:{showDecoration:function(t){return u["__imgPath"]+"decoration/images/".concat(t.val,"/").concat(t.type,"_preview.png")}},components:{uc:o["a"]}},v=l,p=(n("6ed5"),n("2877")),h=Object(p["a"])(v,i,a,!1,null,null,null);e["default"]=h.exports},aa38:function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"e",(function(){return c})),n.d(e,"b",(function(){return u})),n.d(e,"c",(function(){return f})),n.d(e,"d",(function(){return d}));n("99af");var i=n("41cb"),a=n("bc3a"),r=n.n(a),o=n("65c2");function s(t){return Object(i["b"])().get("/api/cms/user/decoration",{params:t})}function c(t){return Object(i["b"])().post("/api/cms/user/decoration",t)}function u(){var t=o["__imgPath"]+"decoration/index.json";return r.a.get(t)}function f(){return r.a.get("".concat(o["__dataPath"],"emotion/output/catalog.json"))}function d(t,e){return Object(i["b"])().post("/api/cms/user/decoration/check-suit/".concat(t,"/").concat(e,"/for/avatar"))}},ade3:function(t,e,n){"use strict";function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,"a",(function(){return i}))},b64b:function(t,e,n){var i=n("23e7"),a=n("7b0b"),r=n("df75"),o=n("d039"),s=o((function(){r(1)}));i({target:"Object",stat:!0,forced:s},{keys:function(t){return r(a(t))}})},bb2f:function(t,e,n){var i=n("d039");t.exports=!i((function(){return Object.isExtensible(Object.preventExtensions({}))}))},d86b:function(t,e,n){var i=n("d039");t.exports=i((function(){if("function"==typeof ArrayBuffer){var t=new ArrayBuffer(8);Object.isExtensible(t)&&Object.defineProperty(t,"a",{value:8})}}))},d998:function(t,e,n){var i=n("342f");t.exports=/MSIE|Trident/.test(i)},f183:function(t,e,n){var i=n("23e7"),a=n("e330"),r=n("d012"),o=n("861d"),s=n("1a2d"),c=n("9bf2").f,u=n("241c"),f=n("057f"),d=n("4fad"),l=n("90e3"),v=n("bb2f"),p=!1,h=l("meta"),b=0,g=function(t){c(t,h,{value:{objectID:"O"+b++,weakData:{}}})},m=function(t,e){if(!o(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!s(t,h)){if(!d(t))return"F";if(!e)return"E";g(t)}return t[h].objectID},y=function(t,e){if(!s(t,h)){if(!d(t))return!0;if(!e)return!1;g(t)}return t[h].weakData},x=function(t){return v&&p&&d(t)&&!s(t,h)&&g(t),t},_=function(){k.enable=function(){},p=!0;var t=u.f,e=a([].splice),n={};n[h]=1,t(n).length&&(u.f=function(n){for(var i=t(n),a=0,r=i.length;a<r;a++)if(i[a]===h){e(i,a,1);break}return i},i({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:f.f}))},k=t.exports={enable:_,fastKey:m,getWeakData:y,onFreeze:x};r[h]=!0}}]);
//# sourceMappingURL=chunk-03ce3686.a65f9ab3.js.map