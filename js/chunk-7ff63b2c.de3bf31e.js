(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7ff63b2c"],{"5ccf":function(t){t.exports=JSON.parse('{"b":{"0":"免费","1":"盒币","2":"金箔"},"a":{"face":"捏脸数据"}}')},"72cc":function(t,e,a){},"9df5":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"m-dashboard m-dashboard-work m-dashboard-purchases"},[t._m(0),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"m-table",attrs:{data:t.list,"show-header":"","cell-class-name":"u-table-cell","header-cell-class-name":"u-header-cell"},on:{"row-click":t.rowClick,"filter-change":t.filterChange}},[a("el-table-column",{attrs:{label:"购买类型",filters:t.postTypeFilters,"filter-multiple":!1,"column-key":"post_type"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[a("a",{attrs:{href:t.getLink(n.post_type,n.post_id)}},[t._v(t._s(t.postType(n.post_type)))])]}}])}),a("el-table-column",{attrs:{label:"货币类型"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[t._v(" "+t._s(t.priceType(a.price_type))+" ")]}}])}),a("el-table-column",{attrs:{label:"货币数量",prop:"price_count"}}),a("el-table-column",{attrs:{label:"购买时间",prop:"created_at"}})],1),a("el-pagination",{staticClass:"m-pagination",attrs:{background:"","page-size":t.limit,"hide-on-single-page":!0,"current-page":t.page,layout:"total, prev, pager, next, jumper",total:t.total},on:{"update:currentPage":function(e){t.page=e},"update:current-page":function(e){t.page=e}}})],1)},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h2",{staticClass:"u-title"},[a("i",{staticClass:"el-icon-shopping-cart-2"}),t._v(" 我的购买")])}],r=(a("d81d"),a("b64b"),a("d3b7"),a("41cb"));function o(t){return Object(r["e"])().get("/api/buy-licence/history",{params:t})}var l=a("5ccf"),s=a("85e4"),c={name:"purchasesList",data:function(){return{loading:!1,list:[],page:1,post_type:"",limit:10,total:0}},computed:{params:function(){return{post_type:this.post_type,pageIndex:this.page,pageSize:this.limit}},postTypeFilters:function(){return Object.keys(l["a"]).map((function(t){return{text:l["a"][t],value:t}}))}},watch:{params:{deep:!0,immediate:!0,handler:function(){this.loadData()}}},methods:{loadData:function(){var t=this;this.loading=!0,o(this.params).then((function(e){t.list=e.data.data.list||[],t.page=e.data.data.page.index||1,t.limit=e.data.data.page.pageSize||10,t.total=e.data.data.page.total||0})).finally((function(){t.loading=!1}))},getLink:s["getLink"],rowClick:function(t){var e=Object(s["getLink"])(t.post_type,t.post_id);e&&window.open(e,"_blank")},filterChange:function(t){this.post_type=t.post_type[0]||""},priceType:function(t){return l["b"][t]},postType:function(t){return l["a"][t]}}},p=c,u=(a("d474"),a("2877")),d=Object(u["a"])(p,n,i,!1,null,null,null);e["default"]=d.exports},b64b:function(t,e,a){var n=a("23e7"),i=a("7b0b"),r=a("df75"),o=a("d039"),l=o((function(){r(1)}));n({target:"Object",stat:!0,forced:l},{keys:function(t){return r(i(t))}})},d474:function(t,e,a){"use strict";a("72cc")},d81d:function(t,e,a){"use strict";var n=a("23e7"),i=a("b727").map,r=a("1dde"),o=r("map");n({target:"Array",proto:!0,forced:!o},{map:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})}}]);
//# sourceMappingURL=chunk-7ff63b2c.de3bf31e.js.map