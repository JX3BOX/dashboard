(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a8e30dbe"],{"0fa0":function(t){t.exports=JSON.parse('{"0":"待处理","1":"已完成","2":"异常"}')},"2f09":function(t){t.exports=JSON.parse('["未完成","已完成","提现失败","已拒绝"]')},"31dd":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"m-credit m-boxcoin m-cny"},[t._m(0),n("div",{staticClass:"m-credit-total m-packet-total"},[t._v(" 余额 : "),n("b",{class:{hasLeft:t.hasLeft}},[t._v(t._s(t.formatMoney(t.money)))]),n("a",{staticClass:"el-button u-btn el-button--primary el-button--mini is-disabled",attrs:{href:"/vip/cny",target:"_blank"}},[t._v("充值")]),n("el-button",{staticClass:"u-btn",attrs:{type:"primary",size:"mini",disabled:!t.money},on:{click:t.togglePullBox}},[t._v("提现")])],1),n("div",{staticClass:"m-credit-pull"},[t.breadcrumb?n("el-alert",{staticClass:"m-boxcoin-ac",attrs:{type:"error","show-icon":"",closable:!1,size:"mini"}},[t._t("title",(function(){return[n("div",{domProps:{innerHTML:t._s(t.breadcrumb)}})]}))],2):t._e(),n("el-alert",{staticClass:"m-boxcoin-tip",attrs:{title:"提现说明",type:"warning","show-icon":""}},[t._t("description",(function(){return[t._v("每个月6~30日开放提现，1~5日关闭提现渠道进行汇总。（即1月6日的兑换，和1月30日的兑换，同样在2月1~5日进行汇总）"),n("br"),t._v(" 提现将收取手续费 2%，最低收取 0.02 元。收取规则：不满1元部分按1元计算，计算手续费时向上取整。"),n("br"),t._v(" 比如提现15.5，16.2 向取整，分别按16，17元收取 0.32元和0.34元。"),n("br"),t._v(" 汇总后，通常7个工作日内转账至收款账号。")]}))],2),n("el-form",{staticClass:"m-boxcoin-form",attrs:{"label-position":"left","label-width":"80px"}},[n("el-form-item",{attrs:{label:"类型"}},[n("el-select",{attrs:{placeholder:"请选择"},model:{value:t.pull.pay_type,callback:function(e){t.$set(t.pull,"pay_type",e)},expression:"pull.pay_type"}},t._l(t.pay_types,(function(t,e){return n("el-option",{key:e,attrs:{label:t,value:e}})})),1)],1),n("el-form-item",{attrs:{label:"账号"}},[n("el-input",{attrs:{placeholder:"请务必填写正确的收款账号"},model:{value:t.pull.account,callback:function(e){t.$set(t.pull,"account",e)},expression:"pull.account"}})],1),n("el-form-item",{attrs:{label:"姓名"}},[n("el-input",{attrs:{placeholder:"请务必填写正确的收款人"},model:{value:t.pull.username,callback:function(e){t.$set(t.pull,"username",e)},expression:"pull.username"}})],1),n("el-form-item",{attrs:{label:"金额"}},[n("el-input",{attrs:{placeholder:"请务必填写正确的金额，例如20000即200元、1268即12.68元"},model:{value:t.pull.money,callback:function(e){t.$set(t.pull,"money",t._n(e))},expression:"pull.money"}},[n("template",{slot:"append"},[t._v("分")]),n("template",{slot:"prepend"},[t._v(t._s(t.formatMoney(t.pull.money))+"元")])],2)],1),n("el-form-item",{attrs:{label:""}},[n("el-button",{attrs:{type:"primary",disabled:!t.ready||t.lockStatus},on:{click:t.openConfirmBox}},[t._v("提交申请")]),t.isAllowDate?t._e():n("span",{staticClass:"u-tip"},[n("i",{staticClass:"el-icon-warning-outline"}),t._v(" 每月"+t._s(t.start_date)+"-"+t._s(t.end_date)+"日结算期间不能进行提现申请 ")])],1)],1)],1)])},i=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("h2",{staticClass:"u-title"},[n("i",{staticClass:"el-icon-wallet"}),t._v(" 我的金箔")])}],o=(n("caad"),n("2532"),n("99af"),n("d3b7"),n("b680"),n("fb6a"),n("a9e3"),n("85e4")),s=n("e4f1"),l=n("31e8"),r=n("0fa0"),c=n("9deb"),u=(n("2f09"),n("2ef0"),n("cc9a")),p=n("41cb"),f=function(t){return Object(p["e"])().post("/api/cny/cashout/apply",t)},d=function(){return Object(p["e"])().get("/api/vip/i").then((function(t){return t.data.data.cny||0}))},m=n("46f4"),b={name:"Cny",props:[],data:function(){return{money:0,pull:{username:"",account:"",pay_type:"alipay",money:""},showPullBox:!1,lockStatus:!1,formStatus:!1,breadcrumb:"",types:l,dates:[],pay_types:c,loading:!1,tab:"in",list:[],page:1,per:10,total:1}},computed:{hasLeft:function(){return this.money>0},start_date:function(){return this.dates[0]},end_date:function(){return this.dates[this.dates.length-1]},isAllowDate:function(){var t=(new Date).getDate();return!this.dates.includes(t)},canCash:function(){return this.hasLeft&&this.isAllowDate},ready:function(){return!0},params:function(){var t={pageIndex:this.page,pageSize:this.per};return t}},methods:{init:function(){var t=this;Object(m["c"])().then((function(e){t.dates=JSON.parse(e.data.data.val)})),this.loadAsset(),this.loadAc()},loadAsset:function(){var t=this;d().then((function(e){t.money=e}))},togglePullBox:function(){this.showPullBox=!this.showPullBox},loadAc:function(){var t=this;Object(u["b"])("dashboard-cny").then((function(e){t.breadcrumb=e}))},checkForm:function(){for(var t in this.pull)if(!this.pull[t])return void(this.formStatus=!1);this.formStatus=!0},openConfirmBox:function(){var t=this;this.$alert('<div class="m-packet-msg">\n                收款账号<b>'.concat(this.pull.account,"</b><br/>\n                收款人<b>").concat(this.pull.username,"</b><br/>\n                金额<b>").concat(this.pull.money,"</b>\n                </div>"),"确认信息",{confirmButtonText:"确定",dangerouslyUseHTMLString:!0,callback:function(e){"confirm"==e&&(t.lockStatus=!0,t.loading=!0,f(t.pull).then((function(e){t.$message({type:"success",message:"申请成功,请耐心等待结算"}),t.showPullBox=!1,t.money=t.money-t.pull.cash})).then((function(){t.loadData()})).finally((function(){t.lockStatus=!1,t.loading=!1})))}})},loadData:function(){var t=this;this.loading=!0;var e={in:getBoxcoinGotHistory,out:getBoxcoinCashHistory};this.$router.push({query:{tab:this.tab,page:this.page}}),e[this.tab](this.params).then((function(e){t.list=e.data.data.list,t.total=e.data.data.page.total})).finally((function(){t.loading=!1}))},changeType:function(){this.page=1,this.loadData()},getPostLink:function(t){return Object(o["getLink"])(t.post_type,t.article_id)},formatMoney:function(t){return t?(t/100).toFixed(2):0},formatDate:function(t){return Object(s["b"])(t)},formatType:function(t){return t&&l[t]||"未知"},formatRemark:function(t){return t?t.length>12?t.slice(12)+"...":t:"-"},formatHistoryStatus:function(t){return r[t]||t}},created:function(){this.tab=this.$route.query.tab||"in",this.page=Number(this.$route.query.page||1),this.init()},watch:{params:{deep:!0,handler:function(){this.loadData()}},pull:{deep:!0,handler:function(){this.checkForm()}}}},h=b,y=(n("c0ac"),n("2877")),_=Object(y["a"])(h,a,i,!1,null,null,null);e["default"]=_.exports},"31e8":function(t){t.exports=JSON.parse('{"1":"品鉴评分","2":"用户打赏","3":"盒币充值","4":"盒币退回","5":"系统奖励","6":"打赏退回","7":"系统冲正","-1":"撤销评分","-2":"盒币兑换","-7":"系统冲正"}')},"46f4":function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"d",(function(){return o})),n.d(e,"a",(function(){return s})),n.d(e,"c",(function(){return l})),n.d(e,"e",(function(){return r}));var a=n("41cb");function i(t){return Object(a["e"])().get("/api/my/boxcoin/cashout/history",{params:t})}function o(t){return Object(a["e"])().get("/api/my/boxcoin/bill",{params:t})}function s(t,e){return Object(a["e"])().post("/api/my/boxcoin/cashout",t,{params:e})}function l(){return Object(a["b"])().get("/api/cms/config",{params:{key:"boxcoin_cashout_forbid_date"}})}function r(){return Object(a["e"])().get("/api/my/boxcoin/overview")}},"9deb":function(t){t.exports=JSON.parse('{"alipay":"支付宝"}')},c0ac:function(t,e,n){"use strict";n("f6e8")},f6e8:function(t,e,n){}}]);
//# sourceMappingURL=chunk-a8e30dbe.1e090461.js.map