(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-475a746d"],{"04d1":function(t,a,n){var s=n("342f"),e=s.match(/firefox\/(\d+)/i);t.exports=!!e&&+e[1]},"13d5":function(t,a,n){"use strict";var s=n("23e7"),e=n("d58f").left,i=n("a640"),r=n("2d00"),o=n("605d"),c=!o&&r>79&&r<83,u=c||!i("reduce");s({target:"Array",proto:!0,forced:u},{reduce:function(t){var a=arguments.length;return e(this,t,a,a>1?arguments[1]:void 0)}})},"4e82":function(t,a,n){"use strict";var s=n("23e7"),e=n("e330"),i=n("59ed"),r=n("7b0b"),o=n("07fa"),c=n("083a"),u=n("577e"),l=n("d039"),f=n("addb"),d=n("a640"),p=n("04d1"),h=n("d998"),k=n("2d00"),g=n("512ce"),_=[],v=e(_.sort),m=e(_.push),b=l((function(){_.sort(void 0)})),y=l((function(){_.sort(null)})),I=d("sort"),C=!l((function(){if(k)return k<70;if(!(p&&p>3)){if(h)return!0;if(g)return g<603;var t,a,n,s,e="";for(t=65;t<76;t++){switch(a=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(s=0;s<47;s++)_.push({k:a+s,v:n})}for(_.sort((function(t,a){return a.v-t.v})),s=0;s<_.length;s++)a=_[s].k.charAt(0),e.charAt(e.length-1)!==a&&(e+=a);return"DGBEFHACIJK"!==e}})),w=b||!y||!I||!C,x=function(t){return function(a,n){return void 0===n?-1:void 0===a?1:void 0!==t?+t(a,n)||0:u(a)>u(n)?1:-1}};s({target:"Array",proto:!0,forced:w},{sort:function(t){void 0!==t&&i(t);var a=r(this);if(C)return void 0===t?v(a):v(a,t);var n,s,e=[],u=o(a);for(s=0;s<u;s++)s in a&&m(e,a[s]);f(e,x(t)),n=o(e),s=0;while(s<n)a[s]=e[s++];while(s<u)c(a,s++);return a}})},"512ce":function(t,a,n){var s=n("342f"),e=s.match(/AppleWebKit\/(\d+)\./);t.exports=!!e&&+e[1]},"6d24":function(t,a,n){"use strict";n.r(a);n("b64b"),n("b0c0");var s=function(){var t=this,a=t._self._c;return a("div",{staticClass:"m-credit m-tasks"},[t._m(0),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"m-tasks-list"},[t._l(t.list,(function(n,s){return a("taskItem",{key:s,attrs:{data:n},on:{update:t.checkFinish}})})),Object.keys(t.group).length?t._l(t.group,(function(n,s){return a("div",{key:s,staticClass:"u-item u-group",class:t.groupInfo[s].open?"open":"close"},[a("div",{staticClass:"u-parent u-item"},[a("img",{staticClass:"u-img",attrs:{src:t.groupInfo[s].img,alt:t.groupInfo[s].name}}),a("div",{staticClass:"u-box"},[a("a",{staticClass:"u-title",attrs:{href:t.groupInfo[s].url,target:"_blank"}},[t._v(t._s(t.groupInfo[s].name))]),a("el-button",{attrs:{size:"small",type:t.groupInfo[s].open?"primary":""},on:{click:function(a){t.groupInfo[s].open=!t.groupInfo[s].open}}},[t._v(t._s(t.groupInfo[s].open?"折叠":"展开")),a("i",{class:t.groupInfo[s].open?"el-icon-caret-top":"el-icon-caret-right"})])],1)]),t._l(n,(function(n,s){return a("taskItem",{key:s,attrs:{data:n},on:{update:t.checkFinish}})}))],2)})):t._e()],2)])},e=[function(){var t=this,a=t._self._c;return a("h2",{staticClass:"u-title"},[a("i",{staticClass:"el-icon-coffee-cup"}),t._v(" 任务中心")])}],i=(n("d3b7"),n("4de4"),n("13d5"),n("4e82"),n("14d9"),n("ac1f"),n("5319"),n("41cb"));function r(t){return Object(i["c"])().get("/api/personal/task",{params:t})}function o(t){return Object(i["c"])().get("/api/personal/task/".concat(t,"/check-status"))}var c=n("65c2"),u=function(){var t=this,a=t._self._c;return t.data?a("div",{staticClass:"u-item"},[a("img",{staticClass:"u-img",attrs:{src:t.data.task.task_icon||t.defaultTaskIcon,alt:t.data.task.action_type_desc}}),a("div",{staticClass:"u-box"},[a("div",{staticClass:"u-info"},[a("a",{staticClass:"u-title",attrs:{href:t.data.task.task_url,target:"_blank"}},[t._v(t._s(t.data.task.action_type_desc))]),a("span",{staticClass:"u-desc"},[t._v(" "+t._s(t.data.task.task_detail)+" ∕ "),t._l(t.data.attr,(function(n,s){return a("span",{key:s,staticClass:"u-attr"},[t._v(" "+t._s(t.attr_name[n.name])+" +"+t._s(n.count)+" ")])}))],2)]),a("div",{staticClass:"u-btn"},[a("el-button",{attrs:{size:"small",type:t.data.hasFinish?"success":"warning",disabled:t.data.hasFinish,icon:t.data.hasFinish?"el-icon-check":""},on:{click:function(a){return t.checkFinish(t.data.task.id)}}},[t._v(t._s(t.data.hasFinish?"已完成":"接受任务"))])],1)])]):t._e()},l=[],f={name:"tasks",props:["data"],data:function(){return{attr_name:{experience:"经验",points:"积分"}}},computed:{defaultTaskIcon:function(){return c["__imgPath"]+"image/common/jx3box_black.svg"}},methods:{checkFinish:function(t){this.$emit("update",t)}}},d=f,p=n("2877"),h=Object(p["a"])(d,u,l,!1,null,null,null),k=h.exports,g=n("cc9a"),_={name:"tasks",components:{taskItem:k},data:function(){return{loading:!1,list:[],group:{},groupInfo:{}}},methods:{loadTasks:function(){var t=this;this.loading=!0,r({is_limit_everyday:0,os_visible:1}).then((function(a){var n=a.data.data.list;t.list=n.filter((function(t){return""==t.task.task_group})),t.group=n.sort((function(t,a){var n=parseInt(t.task.action_type.split("_").pop(),10),s=parseInt(a.task.action_type.split("_").pop(),10);return n-s})).reduce((function(t,a){return a.task.task_group&&(t[a.task.task_group]||(t[a.task.task_group]=[]),t[a.task.task_group].push(a)),t}),{})})).finally((function(){t.loading=!1}))},loadAc:function(){var t=this;Object(g["b"])("task_group_info").then((function(a){a=a.replace(/ /g,""),t.groupInfo=JSON.parse(a)}))},checkFinish:function(t){var a=this;o(t).then((function(t){t.data.data.hasFinish?(a.$notify({title:"成功",message:"完成任务，获得奖励",type:"success"}),location.reload()):a.$notify({title:"提示",message:"您没有完成任务",type:"warning"})}))}},mounted:function(){this.loadTasks(),this.loadAc()}},v=_,m=(n("fee7"),Object(p["a"])(v,s,e,!1,null,null,null));a["default"]=m.exports},baf2:function(t,a,n){},d58f:function(t,a,n){var s=n("59ed"),e=n("7b0b"),i=n("44ad"),r=n("07fa"),o=TypeError,c=function(t){return function(a,n,c,u){s(n);var l=e(a),f=i(l),d=r(l),p=t?d-1:0,h=t?-1:1;if(c<2)while(1){if(p in f){u=f[p],p+=h;break}if(p+=h,t?p<0:d<=p)throw o("Reduce of empty array with no initial value")}for(;t?p>=0:d>p;p+=h)p in f&&(u=n(u,f[p],p,l));return u}};t.exports={left:c(!1),right:c(!0)}},d998:function(t,a,n){var s=n("342f");t.exports=/MSIE|Trident/.test(s)},fee7:function(t,a,n){"use strict";n("baf2")}}]);
//# sourceMappingURL=chunk-475a746d.d48ce09b.js.map