{"version":3,"sources":["webpack:///./src/views/order_detail.vue?056b","webpack:///./src/service/goods.js","webpack:///./src/service/msg.js","webpack:///./src/components/uc.vue?1aec","webpack:///./src/components/uc.vue","webpack:///./src/components/tabs.vue","webpack:///src/components/tabs.vue","webpack:///./src/components/tabs.vue?55f4","webpack:///./src/components/tabs.vue?b057","webpack:///src/components/uc.vue","webpack:///./src/components/uc.vue?375a","webpack:///./src/components/uc.vue?cd4f","webpack:///./src/views/order_detail.vue","webpack:///src/views/order_detail.vue","webpack:///./src/views/order_detail.vue?8c34","webpack:///./src/views/order_detail.vue?fd3f"],"names":["getAddress","params","$pay","get","addAddress","data","post","updateAddress","id","put","concat","delAddress","delete","defaultAddress","getOrder","updateOrderAddress","orderId","addressId","updateOrderRemark","remark","getOrderId","closeOrder","toPay","toConfirm","getVirtual","goodsRate","appendGoodsRate","delGoodsRate","getMsgs","$next","readMsg","readAll","removeMsg","getMessageUnread","mute","getLetterUnread","getCommentMsgDetail","render","_vm","this","_c","_self","staticClass","class","icon","_v","_s","title","_t","attrs","tabList","msgChangeCount","staticRenderFns","on","changeTab","model","value","active","callback","$$v","expression","_l","tabs","item","key","name","slot","label","showCount","count","countMap","_e","props","type","Array","default","Number","msg","letter","message","watch","$route","routeName","immediate","handler","num","computed","includes","methods","$router","push","loadCount","_this","then","res","_res$data","_res$data$data","unread_count","mounted","components","component","String","profileTab","goBack","goods","is_virtual","address","actual_contact","actual_phone","actual_address","goods_images","$event","openVirtual","order","created_at","order_no","goods_num","postage","payStatus","pay_status","orderStatus","order_status","goods_price_cny","goods_price_boxcoin","goods_price_point","is_vitural_gift_order","rate","comment","add_comment","append","content","staticStyle","appendComment","delComment","cancel","open","showPay","dialogVisible","close","mode","ref","address_form","address_rules","address_id","$set","addressList","i","contact_name","contact_phone","province","city","area","submit","remark_form","remark_rules","uc","required","trigger","mallTab","pageIndex","shipAddress","load","loadAddress","_this2","list","closeButton","_this3","$message","order_id","undefined","$refs","clearValidate","_this4","map","_this5","formName","_this6","validate","valid","filter","_ref","sub_category","link","code","resolve","query","tab","emotion","skin","avatar","honor","window","href","_this7","_this8"],"mappings":"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","file":"js/chunk-492f0a32.450a424b.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./order_detail.vue?vue&type=style&index=0&id=035b5ad6&prod&lang=less\"","import { $pay } from \"@jx3box/jx3box-common/js/https\";\n// 获取地址列表\nfunction getAddress(params) {\n    return $pay().get(`/api/mall/ship-address`, params)\n}\n// 添加地址\nfunction addAddress(data) {\n    return $pay().post(`/api/mall/ship-address`, data)\n}\n// 更新地址\nfunction updateAddress(id, data) {\n    return $pay().put(`/api/mall/ship-address/${id}`, data)\n}\n// 删除地址\nfunction delAddress(id) {\n    return $pay().delete(`/api/mall/ship-address/${id}`)\n}\n// 设定默认地址\nfunction defaultAddress(id) {\n    return $pay().put(`/api/mall/ship-address/default/${id}`, )\n}\n// 获取我的订单\nfunction getOrder(params) {\n    return $pay().get(`/api/mall/my/orders`, { params })\n}\n// 更改订单的收货地址\nfunction updateOrderAddress(orderId, addressId) {\n    return $pay().put(`/api/mall/my/orders/${orderId}/bind-address/${addressId}`, )\n}\n// 修改订单备注\nfunction updateOrderRemark(id, remark) {\n    return $pay().put(`/api/mall/my/orders/${id}/remark`, { remark })\n}\n// 查看对应id的订单详情\nfunction getOrderId(id) {\n    return $pay().get(`/api/mall/my/orders/${id}`)\n}\n// 关闭订单\nfunction closeOrder(id) {\n    return $pay().put(`/api/mall/my/orders/${id}/cancel`, )\n}\n// 支付订单\nfunction toPay(id) {\n    return $pay().post(`/api/mall/my/orders/${id}/pay`);\n}\n// 确认收货\nfunction toConfirm(id) {\n    return $pay().post(`/api/mall/my/orders/${id}/received`);\n}\n// 获取虚拟商品\nfunction getVirtual(params) { \n    return $pay().get(`/api/mall/my/virtual_goods`, { params });\n}\n\n// 商品评价\nfunction goodsRate(data) {\n    return $pay().post(`/api/mall/goods-rate`, data);\n}\n// 追评\nfunction appendGoodsRate(id, data) {\n    return $pay().post(`/api/mall/goods-rate/${id}/append-comments`,data);\n}\n// 删除评论\nfunction delGoodsRate(id) {\n    return $pay().delete(`/api/mall/goods-rate/${id}`);\n}\n\n\nexport {\n    getAddress,\n    addAddress,\n    updateAddress,\n    delAddress,\n    defaultAddress,\n    getOrder,\n    updateOrderAddress,\n    updateOrderRemark,\n    getOrderId,\n    closeOrder,\n    toPay,\n    getVirtual,\n    toConfirm,\n    // 评价\n    goodsRate,\n    appendGoodsRate,\n    delGoodsRate\n};\n","import { $next } from \"@jx3box/jx3box-common/js/https\";\n\nfunction getMsgs(params) {\n    return $next().get(`/api/next2/userdata/messages`, { params });\n}\n\nfunction readMsg(id) {\n    return $next().put(`/api/next2/userdata/messages/read/${id}`);\n}\n\nfunction readAll() {\n    return $next().put(`/api/next2/userdata/messages/read`);\n}\n\nfunction removeMsg(id) {\n    return $next().delete(`/api/next2/userdata/messages/${id}`);\n}\n\nfunction getMessageUnread() {\n    return $next({ mute: true }).get(\"/api/next2/userdata/messages/unread_total\");\n}\n\nfunction getLetterUnread() {\n    return $next({ mute: true }).get(\"/api/letter/unread/count\");\n}\n\nfunction getCommentMsgDetail(id) {\n    return $next().get(`/api/next2/comment/item/${id}`);\n}\n\nexport { getMsgs, readMsg, readAll, removeMsg, getLetterUnread, getCommentMsgDetail, getMessageUnread };\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./uc.vue?vue&type=style&index=0&id=58434bd0&prod&lang=less\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"m-dashboard-profile m-profile\"},[_c('h2',{staticClass:\"u-title\"},[_c('i',{class:_vm.icon}),_vm._v(\" \"+_vm._s(_vm.title)+\" \"),_vm._t(\"header\")],2),_c('tabs',{attrs:{\"tabs\":_vm.tabList,\"msg-change-count\":_vm.msgChangeCount}}),_vm._t(\"default\")],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('el-tabs',{staticClass:\"m-dashboard-tabs\",on:{\"tab-click\":_vm.changeTab},model:{value:(_vm.active),callback:function ($$v) {_vm.active=$$v},expression:\"active\"}},_vm._l((_vm.tabs),function(item){return _c('el-tab-pane',{key:item.name,attrs:{\"name\":item.name}},[_c('span',{attrs:{\"slot\":\"label\"},slot:\"label\"},[_c('i',{staticClass:\"u-tab-icon\",class:item.icon}),_vm._v(\" \"+_vm._s(item.label)+\" \"),(_vm.showCount)?_c('span',{staticClass:\"u-count\",class:_vm.count[_vm.countMap[item.name]] ? 'is-orange' : ''},[_vm._v(\"(\"+_vm._s(_vm.count[_vm.countMap[item.name]] || 0)+\")\")]):_vm._e()])])}),1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <el-tabs class=\"m-dashboard-tabs\" v-model=\"active\" @tab-click=\"changeTab\">\n        <el-tab-pane v-for=\"item in tabs\" :key=\"item.name\" :name=\"item.name\">\n            <span slot=\"label\"\n                ><i :class=\"item.icon\" class=\"u-tab-icon\"></i> {{ item.label }}\n                <span v-if=\"showCount\" class=\"u-count\" :class=\"count[countMap[item.name]] ? 'is-orange' : ''\"\n                    >({{ count[countMap[item.name]] || 0 }})</span\n                >\n            </span>\n        </el-tab-pane>\n    </el-tabs>\n</template>\n\n<script>\nimport { getLetterUnread, getMessageUnread } from \"@/service/msg\";\nexport default {\n    name: \"\",\n    props: {\n        tabs: {\n            type: Array,\n            default: () => [],\n        },\n        msgChangeCount: {\n            type: Number,\n            default: 0,\n        },\n    },\n    data: function () {\n        return {\n            active: \"\",\n            countMap: {\n                msg: \"message\",\n                letter: \"letter\",\n            },\n            count: {\n                message: 0,\n                letter: 0,\n            },\n        };\n    },\n    watch: {\n        $route: function () {\n            this.active = this.routeName;\n        },\n        msgChangeCount: {\n            immediate: true,\n            handler(num) {\n                if (num > 0) {\n                    // 全读\n                    this.count.message = 0;\n                }\n                if (num < 0) {\n                    // 单个已读\n                    if (this.count.message > 0) {\n                        this.count.message += num;\n                    }\n                }\n            },\n        },\n    },\n    computed: {\n        showCount() {\n            return [\"msg\", \"letter\"].includes(this.routeName);\n        },\n        routeName() {\n            return this.$route.name;\n        },\n    },\n    methods: {\n        changeTab: function () {\n            this.$router.push({ name: this.active });\n        },\n        loadCount() {\n            getLetterUnread().then((res) => {\n                const data = res.data?.data || {};\n                this.count.letter = data.letter || 0;\n            });\n\n            getMessageUnread().then((res) => {\n                this.count.message = res.data.data?.unread_count || 0;\n            })\n        },\n    },\n    mounted: function () {\n        this.active = this.routeName;\n        if (this.showCount) {\n            this.loadCount();\n        }\n    },\n    components: {},\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./tabs.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./tabs.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./tabs.vue?vue&type=template&id=3877b214\"\nimport script from \"./tabs.vue?vue&type=script&lang=js\"\nexport * from \"./tabs.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n    <div class=\"m-dashboard-profile m-profile\">\n        <h2 class=\"u-title\">\n            <i :class=\"icon\"></i> {{ title }}\n            <slot name=\"header\"></slot>\n        </h2>\n        <tabs :tabs=\"tabList\" :msg-change-count=\"msgChangeCount\" />\n        <slot></slot>\n    </div>\n</template>\n\n<script>\nimport tabs from \"@/components/tabs.vue\";\nimport { profileTab } from \"@/assets/data/tabs.json\";\nexport default {\n    name: \"uc\",\n    props: {\n        icon: {\n            type: String,\n            default: \"el-icon-user\",\n        },\n        title: {\n            type: String,\n            default: \"我的资料\",\n        },\n        tabList: {\n            type: Array,\n            default: function () {\n                return profileTab;\n            },\n        },\n        msgChangeCount: {\n            type: Number,\n            default: 0,\n        },\n    },\n    data: function () {\n        return {};\n    },\n    computed: {},\n    methods: {},\n    mounted: function () {},\n    components: {\n        tabs,\n    },\n};\n</script>\n\n<style lang=\"less\">\n@import \"../assets/css/profile/uc.less\";\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./uc.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./uc.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./uc.vue?vue&type=template&id=58434bd0\"\nimport script from \"./uc.vue?vue&type=script&lang=js\"\nexport * from \"./uc.vue?vue&type=script&lang=js\"\nimport style0 from \"./uc.vue?vue&type=style&index=0&id=58434bd0&prod&lang=less\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('uc',{attrs:{\"icon\":\"el-icon-shopping-bag-1\",\"title\":\"订单中心\",\"tabList\":_vm.tabList}},[_c('div',{staticClass:\"m-mall-detail\"},[_c('div',{staticClass:\"m-breadcrumb\"},[_c('span',{staticClass:\"u-back\",on:{\"click\":_vm.goBack}},[_c('i',{staticClass:\"el-icon-arrow-left\"}),_vm._v(\" 返回\")])]),(_vm.goods)?_c('div',{staticClass:\"m-content\"},[(!_vm.goods.is_virtual)?_c('div',{staticClass:\"m-address el-card\"},[_c('span',[_vm._v(\"收件人：\"+_vm._s(_vm.address.actual_contact))]),_c('span',[_vm._v(\"联系电话：\"+_vm._s(_vm.address.actual_phone))]),_c('span',[_vm._v(\"收货地址： \"+_vm._s(_vm.address.actual_address))])]):_vm._e(),(_vm.goods)?_c('div',{staticClass:\"m-order el-card\"},[_c('div',{staticClass:\"m-img\"},[(_vm.goods.goods_images)?_c('img',{attrs:{\"src\":_vm.goods.goods_images[0]}}):_vm._e(),(_vm.goods.is_virtual)?_c('span',{staticClass:\"u-link\",on:{\"click\":function($event){return _vm.openVirtual(_vm.goods)}}},[_vm._v(\"点击查看\")]):_vm._e()]),_c('el-descriptions',{staticClass:\"m-descriptions\",attrs:{\"title\":_vm.goods.title,\"direction\":\"vertical\",\"column\":3,\"border\":\"\"}},[_c('el-descriptions-item',{attrs:{\"label\":\"下单时间\"}},[_vm._v(_vm._s(_vm.order.created_at))]),_c('el-descriptions-item',{attrs:{\"label\":\"订单编号\",\"span\":2}},[_vm._v(_vm._s(_vm.order.order_no))]),_c('el-descriptions-item',{attrs:{\"label\":\"购买数量\"}},[_vm._v(_vm._s(_vm.order.goods_num))]),_c('el-descriptions-item',{attrs:{\"label\":\"邮费\"}},[_vm._v(\" \"+_vm._s(_vm.goods.postage ? _vm.goods.postage / 100 + \"元\" : \"包邮\")+\" \")]),_c('el-descriptions-item',{attrs:{\"label\":\"支付状态\"}},[_vm._v(_vm._s(_vm.payStatus[_vm.order.pay_status]))]),_c('el-descriptions-item',{attrs:{\"label\":\"订单状态\"}},[_vm._v(\" \"+_vm._s(_vm.orderStatus[_vm.order.order_status])+\" \")]),_c('el-descriptions-item',{attrs:{\"label\":\"购买消耗\"}},[_c('div',{staticClass:\"u-box\"},[(_vm.order.goods_price_cny)?_c('span',[_vm._v(\" 金箔：\"),_c('b',[_vm._v(_vm._s(_vm.order.goods_price_cny * _vm.order.goods_num))])]):_vm._e(),(_vm.order.goods_price_boxcoin)?_c('span',[_vm._v(\" 盒币：\"),_c('b',[_vm._v(_vm._s(_vm.order.goods_price_boxcoin * _vm.order.goods_num))])]):_vm._e(),(_vm.order.goods_price_point)?_c('span',[_vm._v(\" 银铛：\"),_c('b',[_vm._v(_vm._s(_vm.order.goods_price_point * _vm.order.goods_num))])]):_vm._e()])]),_c('el-descriptions-item',{attrs:{\"label\":\"是否为赠送\"}},[_vm._v(_vm._s(_vm.order.is_vitural_gift_order ? \"是\" : \"否\"))]),_c('el-descriptions-item',{attrs:{\"label\":\"备注\"}},[_vm._v(_vm._s(_vm.order.remark || \"-\"))]),(_vm.rate.comment)?_c('el-descriptions-item',{attrs:{\"label\":\"评价\",\"span\":3}},[_c('div',{staticClass:\"m-comment\"},[_c('div',{staticClass:\"m-text\"},[_c('span',{staticClass:\"u-comment\"},[_vm._v(_vm._s(_vm.rate.comment))]),(_vm.rate.add_comment)?_c('span',{staticClass:\"u-add_comment\"},[_vm._v(\"追加评价：\"+_vm._s(_vm.rate.add_comment))]):_vm._e(),(_vm.append)?_c('el-input',{staticClass:\"u-textarea\",model:{value:(_vm.content),callback:function ($$v) {_vm.content=$$v},expression:\"content\"}},[_c('template',{slot:\"append\"},[_c('span',{staticStyle:{\"cursor\":\"pointer\"},on:{\"click\":_vm.appendComment}},[_vm._v(\"确定\")])])],2):_vm._e()],1),_c('div',{staticClass:\"u-button\"},[(_vm.order.order_status == 5)?_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){_vm.append = !_vm.append}}},[_vm._v(\" 追加评论 \")]):_vm._e(),_c('el-popconfirm',{attrs:{\"title\":\"确认删除评价吗？\",\"width\":200},on:{\"confirm\":function($event){return _vm.delComment(_vm.rate.id)}}},[_c('el-button',{attrs:{\"slot\":\"reference\",\"type\":\"text\"},slot:\"reference\"},[_vm._v(\"删除\")])],1)],1)])]):_vm._e()],1)],1):_vm._e(),_c('div',{staticClass:\"m-button\"},[(_vm.data.order.order_status == 0)?[_c('el-button',{on:{\"click\":function($event){return _vm.cancel(_vm.data.order.id)}}},[_vm._v(\"取消订单\")]),_c('el-button',{on:{\"click\":function($event){return _vm.open(_vm.data.order.id, 'address')}}},[_vm._v(\"修改地址\")]),_c('el-button',{on:{\"click\":function($event){return _vm.open(_vm.data.order.id, 'remark')}}},[_vm._v(\"添加备注\")])]:_vm._e(),(_vm.data.order.order_status == 3)?_c('el-button',{on:{\"click\":function($event){return _vm.toConfirm(_vm.data.order.id)}}},[_vm._v(\" 确认收货 \")]):_vm._e(),(_vm.showPay(_vm.data.order))?_c('el-button',{on:{\"click\":function($event){return _vm.toPay(_vm.data)}}},[_vm._v(\"点击付款\")]):_vm._e()],2)]):_vm._e(),_c('el-dialog',{attrs:{\"title\":_vm.title,\"visible\":_vm.dialogVisible,\"width\":\"30%\",\"before-close\":_vm.close,\"custom-class\":\"m-edit-dialog\"},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[(_vm.mode == 'address')?[_c('el-form',{ref:\"address_form\",staticClass:\"demo-form-inline\",attrs:{\"model\":_vm.address_form,\"rules\":_vm.address_rules}},[_c('el-form-item',{attrs:{\"label\":\"选择收货地址\",\"prop\":\"address_id\"}},[_c('el-select',{model:{value:(_vm.address_form.address_id),callback:function ($$v) {_vm.$set(_vm.address_form, \"address_id\", $$v)},expression:\"address_form.address_id\"}},_vm._l((_vm.addressList),function(item,i){return _c('el-option',{key:i,attrs:{\"label\":`【 ${item.contact_name} ${item.contact_phone} 】 ${item.province}${item.city}${item.area}${item.address}`,\"value\":item.id}})}),1)],1),_c('el-form-item',[_c('div',{staticClass:\"m-button\"},[_c('el-button',{on:{\"click\":_vm.close}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.submit('address_form')}}},[_vm._v(\"确定\")])],1)])],1)]:[_c('el-form',{ref:\"remark_form\",staticClass:\"demo-form-inline\",attrs:{\"model\":_vm.remark_form,\"rules\":_vm.remark_rules}},[_c('el-form-item',{attrs:{\"label\":\"备注\",\"prop\":\"remark\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"rows\":2,\"placeholder\":\"请输入备注\"},model:{value:(_vm.remark_form.remark),callback:function ($$v) {_vm.$set(_vm.remark_form, \"remark\", $$v)},expression:\"remark_form.remark\"}})],1),_c('el-form-item',[_c('div',{staticClass:\"m-button\"},[_c('el-button',{on:{\"click\":_vm.close}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.submit('remark_form')}}},[_vm._v(\"确定\")])],1)])],1)]],2)],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <uc icon=\"el-icon-shopping-bag-1\" title=\"订单中心\" :tabList=\"tabList\">\n        <div class=\"m-mall-detail\">\n            <div class=\"m-breadcrumb\">\n                <span @click=\"goBack\" class=\"u-back\"><i class=\"el-icon-arrow-left\"></i> 返回</span>\n            </div>\n\n            <div class=\"m-content\" v-if=\"goods\">\n                <div class=\"m-address el-card\" v-if=\"!goods.is_virtual\">\n                    <span>收件人：{{ address.actual_contact }}</span>\n                    <span>联系电话：{{ address.actual_phone }}</span>\n                    <span>收货地址： {{ address.actual_address }}</span>\n                </div>\n                <div class=\"m-order el-card\" v-if=\"goods\">\n                    <div class=\"m-img\">\n                        <img v-if=\"goods.goods_images\" :src=\"goods.goods_images[0]\" />\n                        <span class=\"u-link\" v-if=\"goods.is_virtual\" @click=\"openVirtual(goods)\">点击查看</span>\n                    </div>\n                    <el-descriptions\n                        class=\"m-descriptions\"\n                        :title=\"goods.title\"\n                        direction=\"vertical\"\n                        :column=\"3\"\n                        border\n                    >\n                        <el-descriptions-item label=\"下单时间\">{{ order.created_at }}</el-descriptions-item>\n                        <el-descriptions-item label=\"订单编号\" :span=\"2\">{{ order.order_no }}</el-descriptions-item>\n\n                        <el-descriptions-item label=\"购买数量\">{{ order.goods_num }}</el-descriptions-item>\n                        <el-descriptions-item label=\"邮费\">\n                            {{ goods.postage ? goods.postage / 100 + \"元\" : \"包邮\" }}\n                        </el-descriptions-item>\n                        <el-descriptions-item label=\"支付状态\">{{ payStatus[order.pay_status] }}</el-descriptions-item>\n                        <el-descriptions-item label=\"订单状态\">\n                            {{ orderStatus[order.order_status] }}\n                        </el-descriptions-item>\n                        <el-descriptions-item label=\"购买消耗\">\n                            <div class=\"u-box\">\n                                <span v-if=\"order.goods_price_cny\">\n                                    金箔：<b>{{ order.goods_price_cny * order.goods_num }}</b>\n                                </span>\n                                <span v-if=\"order.goods_price_boxcoin\">\n                                    盒币：<b>{{ order.goods_price_boxcoin * order.goods_num }}</b>\n                                </span>\n                                <span v-if=\"order.goods_price_point\">\n                                    银铛：<b>{{ order.goods_price_point * order.goods_num }}</b>\n                                </span>\n                            </div>\n                        </el-descriptions-item>\n                        <el-descriptions-item label=\"是否为赠送\">{{\n                            order.is_vitural_gift_order ? \"是\" : \"否\"\n                        }}</el-descriptions-item>\n                        <el-descriptions-item label=\"备注\">{{ order.remark || \"-\" }}</el-descriptions-item>\n                        <el-descriptions-item label=\"评价\" v-if=\"rate.comment\" :span=\"3\">\n                            <div class=\"m-comment\">\n                                <div class=\"m-text\">\n                                    <span class=\"u-comment\">{{ rate.comment }}</span>\n                                    <span class=\"u-add_comment\" v-if=\"rate.add_comment\"\n                                        >追加评价：{{ rate.add_comment }}</span\n                                    >\n                                    <el-input v-if=\"append\" class=\"u-textarea\" v-model=\"content\">\n                                        <template slot=\"append\">\n                                            <span style=\"cursor: pointer\" @click=\"appendComment\">确定</span>\n                                        </template>\n                                    </el-input>\n                                </div>\n                                <div class=\"u-button\">\n                                    <el-button @click=\"append = !append\" type=\"text\" v-if=\"order.order_status == 5\">\n                                        追加评论\n                                    </el-button>\n                                    <el-popconfirm title=\"确认删除评价吗？\" :width=\"200\" @confirm=\"delComment(rate.id)\">\n                                        <el-button slot=\"reference\" type=\"text\">删除</el-button>\n                                    </el-popconfirm>\n                                </div>\n                            </div>\n                        </el-descriptions-item>\n                    </el-descriptions>\n                </div>\n                <div class=\"m-button\">\n                    <template v-if=\"data.order.order_status == 0\">\n                        <el-button @click=\"cancel(data.order.id)\">取消订单</el-button>\n                        <el-button @click=\"open(data.order.id, 'address')\">修改地址</el-button>\n                        <el-button @click=\"open(data.order.id, 'remark')\">添加备注</el-button>\n                    </template>\n\n                    <el-button @click=\"toConfirm(data.order.id)\" v-if=\"data.order.order_status == 3\">\n                        确认收货\n                    </el-button>\n                    <el-button @click=\"toPay(data)\" v-if=\"showPay(data.order)\">点击付款</el-button>\n                </div>\n            </div>\n\n            <!-- 弹窗 -->\n            <el-dialog\n                :title=\"title\"\n                :visible.sync=\"dialogVisible\"\n                width=\"30%\"\n                :before-close=\"close\"\n                custom-class=\"m-edit-dialog\"\n            >\n                <template v-if=\"mode == 'address'\">\n                    <el-form ref=\"address_form\" :model=\"address_form\" :rules=\"address_rules\" class=\"demo-form-inline\">\n                        <el-form-item label=\"选择收货地址\" prop=\"address_id\">\n                            <el-select v-model=\"address_form.address_id\">\n                                <el-option\n                                    :label=\"`【 ${item.contact_name} ${item.contact_phone} 】 ${item.province}${item.city}${item.area}${item.address}`\"\n                                    :value=\"item.id\"\n                                    v-for=\"(item, i) in addressList\"\n                                    :key=\"i\"\n                                ></el-option>\n                            </el-select>\n                        </el-form-item>\n                        <el-form-item>\n                            <div class=\"m-button\">\n                                <el-button @click=\"close\">取 消</el-button>\n                                <el-button type=\"primary\" @click=\"submit('address_form')\">确定</el-button>\n                            </div>\n                        </el-form-item>\n                    </el-form>\n                </template>\n                <template v-else>\n                    <el-form ref=\"remark_form\" :model=\"remark_form\" :rules=\"remark_rules\" class=\"demo-form-inline\">\n                        <el-form-item label=\"备注\" prop=\"remark\">\n                            <el-input type=\"textarea\" :rows=\"2\" placeholder=\"请输入备注\" v-model=\"remark_form.remark\">\n                            </el-input>\n                        </el-form-item>\n                        <el-form-item>\n                            <div class=\"m-button\">\n                                <el-button @click=\"close\">取 消</el-button>\n                                <el-button type=\"primary\" @click=\"submit('remark_form')\">确定</el-button>\n                            </div>\n                        </el-form-item>\n                    </el-form>\n                </template>\n            </el-dialog>\n        </div>\n    </uc>\n</template>\n\n<script>\nimport {\n    updateOrderAddress,\n    updateOrderRemark,\n    getAddress,\n    closeOrder,\n    toPay,\n    toConfirm,\n    appendGoodsRate,\n    delGoodsRate,\n} from \"@/service/goods\";\nimport { getOrderId } from \"@/service/goods\";\nimport { orderStatus, payStatus } from \"../assets/data/mall.json\";\nimport uc from \"@/components/uc\";\nimport { mallTab } from \"@/assets/data/tabs.json\";\nimport { append } from \"domutils/lib/manipulation\";\nexport default {\n    name: \"orderDetail\",\n    components: { uc },\n    data: function () {\n        return {\n            data: {},\n            mode: \"\",\n            dialogVisible: false,\n            addressList: [],\n            address_form: {\n                address_id: \"\",\n            },\n            address_rules: {\n                address_id: [{ required: true, message: \"请选择地址\", trigger: \"change\" }],\n            },\n            remark_form: {\n                remark: \"\",\n            },\n            remark_rules: {\n                remark: [{ required: true, message: \"请输入备注\", trigger: \"blur\" }],\n            },\n            content: \"\",\n            append: false,\n\n            tabList: mallTab,\n        };\n    },\n    computed: {\n        id() {\n            return this.$route.params.id;\n        },\n        pageIndex() {\n            return this.$route.params.pageIndex;\n        },\n        address() {\n            return this.data.shipAddress || {};\n        },\n        order() {\n            return this.data.order;\n        },\n        goods() {\n            return this.data.goods;\n        },\n        rate() {\n            return this.data.rate;\n        },\n        payStatus() {\n            return payStatus;\n        },\n        orderStatus() {\n            return orderStatus;\n        },\n        title() {\n            return this.mode == \"address\" ? \"修改收货地址\" : \"修改备注\";\n        },\n    },\n    methods: {\n        load() {\n            getOrderId(this.id).then((res) => {\n                this.data = res.data.data;\n            });\n        },\n        loadAddress() {\n            getAddress().then((res) => {\n                this.addressList = res.data.data.list;\n            });\n        },\n        // 订单关闭不显示按钮\n        closeButton(data) {\n            if (!data) return false;\n            if (data.order_status == 1 || data.order_status == 2 || data.order_status == 7) return false;\n            return true;\n        },\n        // 显示支付按钮\n        showPay(data) {\n            if (data) {\n                const { order_status, pay_status } = data;\n                if (order_status == 1 || order_status == 2 || order_status == 7) return false;\n                return pay_status == 0 ? true : false;\n            }\n            return false;\n        },\n        // 确认收货\n        toConfirm(id) {\n            toConfirm(id).then(() => {\n                this.$message({\n                    message: \"收货成功\",\n                    type: \"success\",\n                });\n                this.data.order.order_status = 4;\n            });\n        },\n        goBack() {\n            this.$router.push({\n                name: \"mall\",\n                params: {\n                    pageIndex: this.pageIndex,\n                },\n            });\n        },\n        open(id, type) {\n            this.order_id = id;\n            if (type == \"address\") this.loadAddress();\n            if (this.$refs.address_form !== undefined) this.$refs.address_form.clearValidate();\n            if (this.$refs.remark_form !== undefined) this.$refs.remark_form.clearValidate();\n            this.mode = type;\n            this.dialogVisible = true;\n        },\n        close() {\n            this.dialogVisible = false;\n        },\n        // 关闭订单\n        cancel(id) {\n            closeOrder(id).then((res) => {\n                this.$message({\n                    message: \"关闭订单成功\",\n                    type: \"success\",\n                });\n                this.list = this.list.map((item) => {\n                    if (item.order.id == id) item.order.order_status = 1;\n                    return item;\n                });\n            });\n        },\n        // 支付\n        toPay(data) {\n            const id = data.order.id;\n            toPay(id).then(() => {\n                this.$message({\n                    message: \"支付成功\",\n                    type: \"success\",\n                });\n                this.list = this.list.map((item) => {\n                    if (item.order.id == id) item.order.pay_status = 1;\n                    return item;\n                });\n            });\n        },\n        submit(formName) {\n            this.$refs[formName].validate((valid) => {\n                if (valid) {\n                    this.mode == \"address\"\n                        ? updateOrderAddress(this.order_id, this.address_form.address_id).then(() => {\n                              this.$message({\n                                  message: \"修改地址成功\",\n                                  type: \"success\",\n                              });\n\n                              const list = this.addressList.filter(\n                                  (item) => item.id == this.address_form.address_id\n                              )[0];\n                              if (list) {\n                                  const { province, city, area, address, contact_name, contact_phone } = list;\n                                  const actual_address = province + \" \" + city + \" \" + area + \" \" + address;\n                                  this.data.shipAddress.actual_address = actual_address;\n                                  this.data.shipAddress.actual_contact = contact_name;\n                                  this.data.shipAddress.actual_phone = contact_phone;\n                              }\n                              this.close();\n                          })\n                        : updateOrderRemark(this.order_id, this.remark_form.remark).then(() => {\n                              this.$message({\n                                  message: \"修改备注成功\",\n                                  type: \"success\",\n                              });\n                              this.data.order.remark = this.remark_form.remark;\n                              this.close();\n                          });\n                }\n            });\n        },\n        // 跳转查看\n        openVirtual({ sub_category }) {\n            let link = null;\n            const data = {\n                code: this.$router.resolve({\n                    name: \"card\",\n                    query: {\n                        tab: \"virtual\",\n                    },\n                }),\n                emotion: this.$router.resolve({\n                    name: \"emotion\",\n                }),\n                skin: this.$router.resolve({\n                    name: \"theme\",\n                }),\n                avatar: this.$router.resolve({\n                    name: \"frame\",\n                }),\n                honor: this.$router.resolve({\n                    name: \"honor\",\n                }),\n            };\n            link = data[sub_category];\n            if (link) window.open(link.href, \"_blank\");\n        },\n        // 追评\n        appendComment() {\n            if (this.content)\n                appendGoodsRate(this.rate.id, { content: this.content }).then((res) => {\n                    this.$message({\n                        message: \"追评成功\",\n                        type: \"success\",\n                    });\n                    this.data.rate.add_comment = this.content;\n                    this.data.order.order_status = 8;\n                    this.append = false;\n                });\n        },\n        // 删除评价\n        delComment(id) {\n            delGoodsRate(id).then((res) => {\n                this.$message({\n                    message: \"删除评价成功\",\n                    type: \"success\",\n                });\n                this.data.rate.comment = \"\";\n            });\n        },\n    },\n    mounted() {\n        if (this.id) this.load();\n    },\n};\n</script>\n<style lang=\"less\">\n@import \"../assets/css/order_detail.less\";\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./order_detail.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./order_detail.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./order_detail.vue?vue&type=template&id=035b5ad6\"\nimport script from \"./order_detail.vue?vue&type=script&lang=js\"\nexport * from \"./order_detail.vue?vue&type=script&lang=js\"\nimport style0 from \"./order_detail.vue?vue&type=style&index=0&id=035b5ad6&prod&lang=less\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}