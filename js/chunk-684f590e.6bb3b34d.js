(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-684f590e"],{1645:function(t){t.exports=JSON.parse('{"default":{"name":"default","style":"square","files":{"xs":{"w":48,"width":60,"file":"default-xs.gif"},"s":{"w":68,"width":84,"file":"default-s.gif"},"m":{"w":108,"width":136,"file":"default-m.png"},"l":{"w":180,"width":224,"file":"default-l.png"},"xl":{"w":240,"width":300,"file":"default-xl.png"}}},"flower_1":{"name":"flower_1","style":"circle","files":{"xs":{"w":48,"width":60,"file":"flower_1-xs.png"},"s":{"w":68,"width":84,"file":"flower_1-s.png"},"m":{"w":108,"width":136,"file":"flower_1-m.png"},"l":{"w":180,"width":224,"file":"flower_1-l.png"},"xl":{"w":240,"width":300,"file":"flower_1-xl.png"}}}}')},"221c":function(t,a,e){"use strict";e("fee0")},42084:function(t,a,e){"use strict";e.r(a);e("99af");var n=function(){var t=this,a=t._self._c;return a("uc",{staticClass:"m-dashboard-avatar"},[a("div",{staticClass:"m-profile-avatar"},[a("div",{staticClass:"m-profile-box m-profile-avatar-primary"},[a("img",{staticClass:"u-avatar u-avatar-l",attrs:{src:t.showAvatar(t.avatar)}}),a("el-upload",{staticClass:"u-upload",attrs:{drag:"",accept:"image/png, image/gif, image/jpeg","on-change":t.upload,action:"upload/avatar","auto-upload":!1}},[a("i",{staticClass:"el-icon-upload"}),a("div",{staticClass:"el-upload__text"},[t._v(" 将文件拖到此处，或 "),a("em",[t._v("点击上传")]),a("br"),a("span",{staticClass:"u-tip"},[t._v("只能上传jpg/png/gif文件")])])])],1),a("div",{staticClass:"m-profile-box m-profile-avatar-list"},[a("div",{staticClass:"u-title"},[t._v("默认头像")]),t.avatarList.length?t._l(t.avatarList,(function(e,n){return a("span",{key:n,staticClass:"u-avatar",on:{click:function(a){return t.changeAvatar("".concat(t.imgPath,"img/avatar/").concat(e,".jpg"))}}},[a("el-avatar",{attrs:{shape:"square",size:86,src:"".concat(t.imgPath,"img/avatar/").concat(e,".jpg")}})],1)})):t._e()],2)]),a("div",{staticClass:"u-profile-btn"},[a("el-button",{attrs:{type:"primary"},on:{click:t.submit}},[t._v("确认")]),a("el-button",{on:{click:t.reset}},[t._v("重置")])],1)])},i=[],r=e("b547"),c=e("cc9a"),s=e("46e8"),u=e("c9d2"),o=e("85e4"),l=e("1645"),f=e("65c2"),p={name:"avatar",props:[],data:function(){return{bak:"",avatar:"",frame:"",isVIP:!1,uid:u["a"].getInfo().uid,frames:l,tabActivate:"0",decorationJson:{},decoration:[],decorationActivate:null,originalActivateName:null,selectAll:[],noDecoration:!1,avatarList:[],imgPath:f["__imgPath"]}},computed:{data:function(){return{user_avatar:this.avatar}}},methods:{upload:function(t,a){var e=this,n=new FormData,i=t.raw;n.append("avatar",i),Object(s["o"])(n).then((function(t){e.$message({message:"上传成功",type:"success"}),e.avatar=t.data.data[0]}))},reset:function(){this.avatar=this.bak},submit:function(){var t=this;Object(s["l"])(this.data).then((function(a){u["a"].refresh("avatar",t.avatar),t.$message({message:"头像更新成功",type:"success"})}))},showFrame:function(t){return f["__imgPath"]+"avatar/images/".concat(t,"/").concat(t,".svg")},init:function(){var t=this;this.avatar=this.bak=u["a"].getInfo().avatar_origin,Object(s["f"])(this.uid).then((function(a){t.frame=a.data.data.user_avatar_frame||""})),this.loadAvatar()},loadAvatar:function(){var t=this;Object(c["b"])("dashboard-default-avatar").then((function(a){t.avatarList=a?a.split(","):[]}))},changeAvatar:function(t){this.avatar=t},showAvatar:function(t){return Object(o["showAvatar"])(t,480,!1)},showSmallAvatar:function(t){return Object(o["showAvatar"])(t,136,!1)}},created:function(){this.init()},components:{uc:r["a"]}},d=p,v=(e("221c"),e("2877")),m=Object(v["a"])(d,n,i,!1,null,null,null);a["default"]=m.exports},"46e8":function(t,a,e){"use strict";e.d(a,"n",(function(){return o})),e.d(a,"e",(function(){return u})),e.d(a,"l",(function(){return l})),e.d(a,"m",(function(){return v})),e.d(a,"i",(function(){return b})),e.d(a,"a",(function(){return h})),e.d(a,"b",(function(){return m})),e.d(a,"h",(function(){return g})),e.d(a,"j",(function(){return _})),e.d(a,"c",(function(){return w})),e.d(a,"o",(function(){return f})),e.d(a,"d",(function(){return p})),e.d(a,"f",(function(){return d})),e.d(a,"g",(function(){return j})),e.d(a,"k",(function(){return O}));var n=e("41cb"),i=e("bc3a"),r=e.n(i),c=e("65c2"),s=Object(n["a"])("server",{proxy:!1});function u(){return Object(n["b"])().get("/api/cms/user/my/profile")}function o(t){return Object(n["b"])().put("/api/cms/user/my/profile",t)}function l(t){return Object(n["b"])().put("/api/cms/user/my/avatar",t)}function f(t){return Object(n["b"])().post("/api/cms/upload/avatar",t)}function p(){var t=c["__imgPath"]+"avatar/index.json";return r.a.get(t)}function d(t){return Object(n["b"])().get("/api/cms/user/".concat(t,"/info"),{params:{__no_cache:1}})}function v(t){return s.post("profile/password",t)}function m(){return s.get("profile/email/check")}function h(t){return s.get("profile/email/available",{params:{user_email:t}})}function g(t){return s.post("profile/email/bind",t)}function b(){return s.post("profile/email/verify")}function w(){return Object(n["b"])().get("/api/cms/account/oauth/status")}function _(t){return Object(n["b"])({popType:"alert"}).delete("/api/cms/account/oauth/unbind/".concat(t))}function j(){return Object(n["b"])().get("/api/cms/wechat/mp/bind")}function O(){return Object(n["b"])().get("/api/cms/wechat/mp/unbind")}},fee0:function(t,a,e){}}]);
//# sourceMappingURL=chunk-684f590e.6bb3b34d.js.map