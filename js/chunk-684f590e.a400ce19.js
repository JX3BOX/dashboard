(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-684f590e"],{1645:function(t){t.exports=JSON.parse('{"default":{"name":"default","style":"square","files":{"xs":{"w":48,"width":60,"file":"default-xs.gif"},"s":{"w":68,"width":84,"file":"default-s.gif"},"m":{"w":108,"width":136,"file":"default-m.png"},"l":{"w":180,"width":224,"file":"default-l.png"},"xl":{"w":240,"width":300,"file":"default-xl.png"}}},"flower_1":{"name":"flower_1","style":"circle","files":{"xs":{"w":48,"width":60,"file":"flower_1-xs.png"},"s":{"w":68,"width":84,"file":"flower_1-s.png"},"m":{"w":108,"width":136,"file":"flower_1-m.png"},"l":{"w":180,"width":224,"file":"flower_1-l.png"},"xl":{"w":240,"width":300,"file":"flower_1-xl.png"}}}}')},"221c":function(t,a,n){"use strict";n("fee0")},42084:function(t,a,n){"use strict";n.r(a);n("99af");var e=function(){var t=this,a=t._self._c;return a("uc",{staticClass:"m-dashboard-avatar"},[a("div",{staticClass:"m-profile-avatar"},[a("div",{staticClass:"m-profile-box m-profile-avatar-primary"},[a("img",{staticClass:"u-avatar u-avatar-l",attrs:{src:t.showAvatar(t.avatar)}}),a("el-upload",{staticClass:"u-upload",attrs:{drag:"",accept:"image/png, image/gif, image/jpeg","on-change":t.upload,action:"upload/avatar","auto-upload":!1}},[a("i",{staticClass:"el-icon-upload"}),a("div",{staticClass:"el-upload__text"},[t._v(" 将文件拖到此处，或 "),a("em",[t._v("点击上传")]),a("br"),a("span",{staticClass:"u-tip"},[t._v("只能上传jpg/png/gif文件")])])])],1),a("div",{staticClass:"m-profile-box m-profile-avatar-list"},[a("div",{staticClass:"u-title"},[t._v("默认头像")]),t.avatarList.length?t._l(t.avatarList,(function(n,e){return a("span",{key:e,staticClass:"u-avatar",on:{click:function(a){return t.changeAvatar("".concat(t.imgPath,"img/avatar/").concat(n,".jpg"))}}},[a("el-avatar",{attrs:{shape:"square",size:86,src:"".concat(t.imgPath,"img/avatar/").concat(n,".jpg")}})],1)})):t._e()],2)]),a("div",{staticClass:"u-profile-btn"},[a("el-button",{attrs:{type:"primary"},on:{click:t.submit}},[t._v("确认")]),a("el-button",{on:{click:t.reset}},[t._v("重置")])],1)])},i=[],r=n("b547"),c=n("cc9a"),u=n("46e8"),s=n("c9d2"),o=n("85e4"),f=n("1645"),l=n("65c2"),p={name:"avatar",props:[],data:function(){return{bak:"",avatar:"",frame:"",isVIP:!1,uid:s["a"].getInfo().uid,frames:f,tabActivate:"0",decorationJson:{},decoration:[],decorationActivate:null,originalActivateName:null,selectAll:[],noDecoration:!1,avatarList:[],imgPath:l["__imgPath"]}},computed:{data:function(){return{user_avatar:this.avatar}}},methods:{upload:function(t,a){var n=this,e=new FormData,i=t.raw;e.append("avatar",i),Object(u["p"])(e).then((function(t){n.$message({message:"上传成功",type:"success"}),n.avatar=t.data.data[0]}))},reset:function(){this.avatar=this.bak},submit:function(){var t=this;Object(u["m"])(this.data).then((function(a){s["a"].refresh("avatar",t.avatar),t.$message({message:"头像更新成功",type:"success"})}))},showFrame:function(t){return l["__imgPath"]+"avatar/images/".concat(t,"/").concat(t,".svg")},init:function(){var t=this;this.avatar=this.bak=s["a"].getInfo().avatar_origin,Object(u["f"])(this.uid).then((function(a){t.frame=a.data.data.user_avatar_frame||""})),this.loadAvatar()},loadAvatar:function(){var t=this;Object(c["b"])("dashboard-default-avatar").then((function(a){t.avatarList=a?a.split(","):[]}))},changeAvatar:function(t){this.avatar=t},showAvatar:function(t){return Object(o["showAvatar"])(t,480,!1)},showSmallAvatar:function(t){return Object(o["showAvatar"])(t,136,!1)}},created:function(){this.init()},components:{uc:r["a"]}},d=p,m=(n("221c"),n("2877")),v=Object(m["a"])(d,e,i,!1,null,null,null);a["default"]=v.exports},"46e8":function(t,a,n){"use strict";n.d(a,"o",(function(){return s})),n.d(a,"e",(function(){return u})),n.d(a,"m",(function(){return o})),n.d(a,"n",(function(){return d})),n.d(a,"j",(function(){return h})),n.d(a,"a",(function(){return m})),n.d(a,"h",(function(){return v})),n.d(a,"k",(function(){return b})),n.d(a,"b",(function(){return g})),n.d(a,"p",(function(){return f})),n.d(a,"d",(function(){return l})),n.d(a,"f",(function(){return p})),n.d(a,"g",(function(){return w})),n.d(a,"l",(function(){return j})),n.d(a,"i",(function(){return _})),n.d(a,"q",(function(){return O})),n.d(a,"c",(function(){return x}));var e=n("41cb"),i=n("bc3a"),r=n.n(i),c=n("65c2");function u(){return Object(e["a"])().get("/api/cms/user/my/profile")}function s(t){return Object(e["a"])().put("/api/cms/user/my/profile",t)}function o(t){return Object(e["a"])().put("/api/cms/user/my/avatar",t)}function f(t){return Object(e["a"])().post("/api/cms/upload/avatar",t)}function l(){var t=c["__imgPath"]+"avatar/index.json";return r.a.get(t)}function p(t){return Object(e["a"])().get("/api/cms/user/".concat(t,"/info"),{params:{__no_cache:1}})}function d(t){return Object(e["a"])().put("/api/cms/user/my/password",t)}function m(t){return Object(e["a"])().get("/api/cms/user/account/email/valid",{params:{email:t}})}function v(t){return Object(e["a"])().post("/api/cms/user/account/email/bind",t)}function h(t){return Object(e["a"])().put("/api/cms/user/account/email/verify",{code:t},{app:"jx3box"})}function g(){return Object(e["a"])().get("/api/cms/account/oauth/status")}function b(t){return Object(e["a"])({popType:"alert"}).delete("/api/cms/account/oauth/unbind/".concat(t))}function w(){return Object(e["a"])().get("/api/cms/wechat/mp/bind")}function j(){return Object(e["a"])().get("/api/cms/wechat/mp/unbind")}function _(t){return Object(e["a"])().post("/api/cms/account/oauth/phone/bind",t,{app:"jx3box"})}function O(t){return Object(e["a"])().put("/api/cms/account/oauth/phone/verify",t,{app:"jx3box"})}function x(t){return Object(e["a"])().get("/api/cms/account/oauth/phone/check",{params:t})}},fee0:function(t,a,n){}}]);
//# sourceMappingURL=chunk-684f590e.a400ce19.js.map