{"version":3,"sources":["webpack:///./src/views/honor.vue?5b71","webpack:///./src/views/honor.vue","webpack:///src/views/honor.vue","webpack:///./src/views/honor.vue?0803","webpack:///./src/views/honor.vue?62e2","webpack:///./src/service/decoration.js"],"names":["render","_vm","this","_c","_self","staticClass","attrs","tabList","scopedSlots","_u","key","fn","_v","proxy","uid","avatar","avatarSize","avatar_frame","on","$event","copyData","data","display_name","_s","ID","concat","experience","class","level","style","backgroundColor","showLevelColor","isPRO","isVIP","vipTypeTitle","vipType","_e","isSuperAuthor","isSelect","isCustomize","backgroundImage","imgUrl","color","honor","_l","list","item","i","slot","setClass","selectChange","submit","reset","staticRenderFns","name","props","themeTab","info","User","getInfo","user_avatar","__imgPath","user_avatar_frame","bio","sign","listBak","isSelectBak","honorList","computed","_this$data","is_pro","_this$data2","_this$data3","getLevel","methods","val","isImgIndex","imgIndex","ext","isHave","using","w","document","body","clientWidth","documentElement","loadUserInfo","_this","getMyInfo","then","res","loadHonor","_this2","getHonor","loadDecoration","_this3","getDecoration","type","newArr","Object","keys","forEach","find","honorConfig","disposeHonor","prefix","regPrefix","match","ranking","honorStr","year","length","undefined","inRange","Number","str","regStr","replace","suffix","push","json","extra","isUsing","unshift","cloneDeep","e","$set","__userLevelColor","_this4","setDecoration","$message","message","mounted","components","uc","component","params","$cms","get","post","getDecorationJson","url","axios","getEmotion","__dataPath","receive","user_id","updateAvatarFrame","put"],"mappings":"kHAAA,W,yCCAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,KAAK,CAACE,YAAY,qCAAqCC,MAAM,CAAC,KAAO,gBAAgB,MAAQ,OAAO,WAAWL,EAAIM,SAASC,YAAYP,EAAIQ,GAAG,CAAC,CAACC,IAAI,SAASC,GAAG,WAAW,MAAO,CAACR,EAAG,IAAI,CAACE,YAAY,wEAAwEC,MAAM,CAAC,KAAO,6BAA6B,OAAS,WAAW,CAACH,EAAG,IAAI,CAACE,YAAY,4BAA4BJ,EAAIW,GAAG,eAAeC,OAAM,MAAS,CAACV,EAAG,MAAM,CAACE,YAAY,WAAW,CAACF,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACF,EAAG,MAAM,CAACE,YAAY,iBAAiB,CAACF,EAAG,SAAS,CAACE,YAAY,kBAAkBC,MAAM,CAAC,IAAML,EAAIa,IAAI,IAAMb,EAAIc,OAAO,KAAOd,EAAIe,aAAa,MAAQf,EAAIgB,gBAAgBd,EAAG,MAAM,CAACE,YAAY,iBAAiB,CAACF,EAAG,OAAO,CAACE,YAAY,UAAU,CAACF,EAAG,OAAO,CAACe,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOlB,EAAImB,SAASnB,EAAIoB,KAAKC,cAAgB,SAAS,CAACrB,EAAIW,GAAGX,EAAIsB,GAAGtB,EAAIoB,KAAKC,cAAgB,SAASrB,EAAIW,GAAG,KAAKT,EAAG,OAAO,CAACE,YAAY,QAAQa,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOlB,EAAImB,SAASnB,EAAIoB,KAAKG,IAAM,MAAM,CAACvB,EAAIW,GAAG,UAAUX,EAAIsB,GAAGtB,EAAIoB,KAAKG,IAAM,GAAG,SAASrB,EAAG,MAAM,CAACE,YAAY,UAAU,CAACF,EAAG,aAAa,CAACG,MAAM,CAAC,QAAS,QAAAmB,OAASxB,EAAIoB,KAAKK,YAAc,GAAI,UAAY,QAAQ,CAACvB,EAAG,OAAO,CAACE,YAAY,UAAUsB,MAAM,MAAQ1B,EAAI2B,MAAMC,MAAO,CAAEC,gBAAiB7B,EAAI8B,eAAe9B,EAAI2B,SAAW,CAAC3B,EAAIW,GAAG,MAAMX,EAAIsB,GAAGtB,EAAI2B,YAAa3B,EAAI+B,OAAS/B,EAAIgC,MAAO9B,EAAG,aAAa,CAACG,MAAM,CAAC,QAAUL,EAAIiC,aAAa,UAAY,QAAQ,CAAC/B,EAAG,OAAO,CAACE,YAAY,QAAQC,MAAM,CAAC,OAAS,WAAW,CAACH,EAAG,IAAI,CAACE,YAAY,cAAc,CAACJ,EAAIW,GAAGX,EAAIsB,GAAGtB,EAAIkC,gBAAgBlC,EAAImC,KAAMnC,EAAIoC,cAAelC,EAAG,aAAa,CAACG,MAAM,CAAC,QAAU,OAAO,UAAY,QAAQ,CAACH,EAAG,OAAO,CAACE,YAAY,iBAAiB,CAACF,EAAG,IAAI,CAACE,YAAY,sBAAsB,CAACJ,EAAIW,GAAG,cAAcX,EAAImC,MAAM,GAAKnC,EAAIqC,SAASC,YAAyMtC,EAAImC,KAAhMjC,EAAG,MAAM,CAACE,YAAY,UAAUwB,MAAO,CAAEW,gBAAiB,OAAFf,OAASxB,EAAIwC,OAAOxC,EAAIqC,UAAS,OAAQ,CAACnC,EAAG,OAAO,CAAC0B,MAAO,CAAEa,MAAOzC,EAAIqC,SAASI,QAAU,CAACzC,EAAIW,GAAGX,EAAIsB,GAAGtB,EAAIqC,SAASK,eAAwB,KAAKxC,EAAG,MAAM,CAACE,YAAY,iBAAiB,CAACF,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACF,EAAG,MAAM,CAACE,YAAY,WAAW,CAACF,EAAG,OAAO,CAACE,YAAY,UAAU,CAACF,EAAG,IAAI,CAACE,YAAY,2BAA2BJ,EAAIW,GAAG,QAAQT,EAAG,IAAI,CAACE,YAAY,QAAQC,MAAM,CAAC,KAAM,gDAAiD,OAAS,WAAW,CAACH,EAAG,IAAI,CAACE,YAAY,4BAA4BJ,EAAIW,GAAG,aAAaT,EAAG,MAAM,CAACE,YAAY,gBAAgBJ,EAAI2C,GAAI3C,EAAI4C,MAAM,SAASC,EAAKC,GAAG,OAAO5C,EAAG,MAAM,CAACO,IAAIqC,EAAE1C,YAAY,YAAY,CAACF,EAAG,aAAa,CAACG,MAAM,CAAC,OAAS,OAAO,UAAY,MAAM,aAAa,MAAM,CAACH,EAAG,MAAM,CAACG,MAAM,CAAC,KAAO,WAAW0C,KAAK,WAAW,CAAC/C,EAAIW,GAAGX,EAAIsB,GAAGuB,EAAKH,UAAUxC,EAAG,MAAM,CAACE,YAAY,QAAQsB,MAAM1B,EAAIgD,SAASH,GAAM5B,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOlB,EAAIiD,aAAaJ,MAAS,CAAGA,EAAKP,YAA6EpC,EAAG,MAAM,CAACE,YAAY,cAAtFF,EAAG,WAAW,CAACG,MAAM,CAAC,IAAML,EAAIwC,OAAOK,GAAM,IAAM,cAAkD,MAAM,MAAK,SAAS3C,EAAG,MAAM,CAACE,YAAY,SAAS,CAACF,EAAG,YAAY,CAACG,MAAM,CAAC,KAAO,WAAWY,GAAG,CAAC,MAAQjB,EAAIkD,SAAS,CAAClD,EAAIW,GAAG,QAAQT,EAAG,YAAY,CAACe,GAAG,CAAC,MAAQjB,EAAImD,QAAQ,CAACnD,EAAIW,GAAG,SAAS,MAEtlGyC,EAAkB,G,0LC2FP,GACfC,KAAA,QACAC,MAAA,GACAlC,KAAA,WACA,OACAd,QAAAiD,OACAvB,OAAA,EACAwB,KAAA,CACA3C,IAAA4C,OAAAC,UAAA7C,IACAwC,KAAA,KACAM,YAAA,GAAAnC,OAAAoC,eAAA,4BACAC,kBAAA,UACAC,IAAA,IACAC,KAAA,GAEAnB,KAAA,GACAoB,QAAA,GACA3B,SAAA,GACA4B,YAAA,GACAC,UAAA,KAGAC,SAAA,CACAtD,IAAA,WACA,OAAA4C,OAAAC,UAAA7C,KAEAO,KAAA,WACA,YAAAoC,MAEA1C,OAAA,WACA,YAAAM,KAAAuC,aAAA,IAEA3C,aAAA,WACA,YAAAI,KAAAyC,mBAAA,IAEA9B,MAAA,eAAAqC,EACA,eAAAA,EAAA,KAAAhD,YAAA,IAAAgD,OAAA,EAAAA,EAAAC,QAEAjC,cAAA,eAAAkC,EACA,gBAAAA,EAAA,KAAAlD,YAAA,IAAAkD,MAAAP,OAEA7B,QAAA,WACA,YAAAH,MAAA,aAEAE,aAAA,WACA,YAAAF,MAAA,qBAEAJ,MAAA,eAAA4C,EACA,OAAAd,OAAAe,UAAA,QAAAD,EAAA,KAAAnD,YAAA,IAAAmD,OAAA,EAAAA,EAAA9C,aAAA,KAGAgD,QAAA,CACAjC,OAAA,SAAAK,GACA,GAAAA,MAAAP,aAAAO,EAAA6B,IACA,OAAA7B,EAAA8B,WACAf,eAAA,oBAAApC,OAAAqB,EAAA6B,IAAA,KAAAlD,OAAAqB,EAAA6B,IAAA,KAAAlD,OAAAqB,EAAA+B,SAAA,KAAApD,OAAAqB,EAAAgC,KAEAjB,eAAA,oBAAApC,OAAAqB,EAAA6B,IAAA,KAAAlD,OAAAqB,EAAA6B,IAAA,KAAAlD,OAAAqB,EAAAgC,MAEA7B,SAAA,SAAAH,GACA,OAAAA,EAAAiC,OACAjC,EAAAkC,MAAA,gBADA,UAGAhE,WAAA,WACA,IAAAiE,EAAAC,SAAAC,KAAAC,aAAAF,SAAAG,gBAAAD,YACA,OAAAH,EAAA,IACA,IAEA,KAGAK,aAAA,eAAAC,EAAA,KACAC,iBAAAC,MAAA,SAAAC,GACAA,EAAArE,YACAkE,EAAA9B,KAAAiC,EAAArE,eAIAsE,UAAA,eAAAC,EAAA,KACAC,iBAAAJ,MAAA,SAAAC,GACAE,EAAAzB,UAAAuB,EAAArE,KACAuE,EAAAE,qBAGAA,eAAA,eAAAC,EAAA,KACAC,eAAA,CAAAC,KAAA,UAAAR,MAAA,SAAApE,GACA,IAAAqE,EAAArE,YAEA8C,EAAA4B,EAAA5B,UACA+B,EAAA,GACAC,OAAAC,KAAAjC,GAAAkC,SAAA,SAAA3F,EAAAqC,GACA,IAAA1B,EAAAqE,EAAAY,MAAA,SAAAxD,GAAA,OAAAA,EAAA6B,KAAAjE,KACA6F,EAAApC,EAAAzD,GAEA8F,EAAA,SAAAnF,GAEA,IAAAoF,EAAAF,EAAAE,OACAC,EAAAH,EAAAE,OAAAE,MAAA,uBACAC,EAAAL,EAAAK,QACAC,EAAAN,EAAAO,MAAA,GASA,GARAJ,EACArF,IACAwF,GAAAxF,EAAAqF,EAAA,SAGAG,GAAAJ,EAGAG,EAAAG,OAAA,GAAA1F,EAAA,CACAA,EAAAwD,SAAA,EACA,QAAA9B,EAAA,EAAAA,EAAA6D,EAAAG,OAAAhE,IAEA,QACAiE,GAAA3F,EAAAuF,SACAK,qBAAAC,OAAA7F,EAAAuF,WAAA7D,GAAA,GAAA6D,EAAA7D,GAAA,IACA,CACA1B,EAAAwD,SAAA9B,EACA,IAAAoE,EAAAP,EAAA7D,GAAA,GAEAqE,EAAAD,EAAAR,MAAA,uBAGAE,GAFAO,EAEAD,EAAAE,QAAA,aAAAhG,EAAA+F,EAAA,KAEAD,EAEA,OAIA,OAAAN,EAAAN,EAAAe,QAEA,GAAAjG,EACAA,EAAAsB,MAAA6D,EAAAnF,GACAA,EAAAqB,MAAA6D,EAAA7D,MACArB,EAAAyD,IAAAyB,EAAAzB,IACAzD,EAAA0D,QAAA,EACA1D,EAAAuD,WAAA2B,EAAAK,QAAAG,OAAA,EAAAb,EAAAqB,KAAAlG,OACA,CACA,IAAAmG,EAAA,CACA9E,MAAA6D,EAAA7D,MACAoC,IAAAyB,EAAAzB,IACAnC,MAAA6D,IACAiB,MAAA,WACAzC,MAAA,EACAiB,KAAA,QACAtB,IAAAjE,EACAqE,QAAA,EACAF,SAAA,EACAD,WAAA2B,EAAAK,QAAAG,OAAA,GAEAb,EAAAqB,KAAAC,OAGA,IAAAE,EAAAxB,EAAAI,MAAA,SAAAxD,GAAA,UAAAA,EAAAkC,SACAe,EAAAlD,KAAAqD,GAAA,GACA,IAAA3D,EAAA,CACA0D,KAAA,kBACAtB,IAAA,QACAhC,MAAA,SACAqC,MAAA0C,EAAA,IACA3C,QAAA,EACAxC,aAAA,GAGAwD,EAAAzD,SADAoF,GAGAnF,EAEAwD,EAAAlD,KAAA8E,QAAApF,GACAwD,EAAA7B,YAAA0D,uBAAA7B,EAAAzD,UACAyD,EAAA9B,QAAA2D,uBAAA7B,EAAAlD,UAIAK,aAAA,SAAAJ,GACA,GAAAA,EAAAiC,OAAA,CACA,IAAAlC,EAAA,KAAAA,KACAyD,EAAAzD,EAAAyD,MAAA,SAAAuB,GAAA,UAAAA,EAAA7C,SACAsB,MAAAtB,MAAA,GACAlC,EAAAkC,MAAA,EACA,KAAA1C,SAAAQ,IAEAM,MAAA,WACA,KAAA0E,KAAA,YAAAF,uBAAA,KAAA3D,UACA,KAAA6D,KAAA,gBAAAF,uBAAA,KAAA1D,eAEAnC,eAAA,SAAAH,GACA,OAAAmG,sBAAAnG,IAEAuB,OAAA,eAAA6E,EAAA,KACAC,eAAA,KAAApF,MAAA4C,MAAA,SAAApE,GACA2G,EAAAE,SAAA,CACAC,QAAA,SACAlC,KAAA,iBAKAmC,QAAA,WACA,KAAA9C,eACA,KAAAK,aAEA0C,WAAA,CACAC,YCzS0Y,I,wBCQtYC,EAAY,eACd,EACAvI,EACAqD,GACA,EACA,KACA,KACA,MAIa,aAAAkF,E,6WChBf,SAASvC,EAAcwC,GACnB,OAAOC,iBAAOC,IAAI,2BAA4B,CAC1CF,WAGR,SAASP,EAAc5G,GACnB,OAAOoH,iBAAOE,KAAK,2BAA4BtH,GAEnD,SAASuH,IACL,IAAIC,EAAMhF,eAAY,wBACtB,OAAOiF,IAAMJ,IAAIG,GAErB,SAASE,IACL,OAAOD,IAAMJ,IAAI,GAADjH,OAAIuH,gBAAU,gCAElC,SAASC,EAAQC,EAASvE,GACtB,OAAO8D,iBAAOE,KAAK,uCAADlH,OAAwCyH,EAAO,KAAAzH,OAAIkD,EAAG,gBAG5E,SAASwE,EAAkB9H,GACvB,OAAOoH,iBAAOW,IAAI,gCAAiC/H,GAEvD,SAASwE,IACL,OAAOiD,IAAMJ,IAAI,GAADjH,OAAIoC,eAAS","file":"js/chunk-819e7c7c.fa2ef100.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./honor.vue?vue&type=style&index=0&id=a4a5734a&prod&lang=less&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('uc',{staticClass:\"m-dashboard-honor m-dashboard-skin\",attrs:{\"icon\":\"el-icon-brush\",\"title\":\"主题装扮\",\"tab-list\":_vm.tabList},scopedSlots:_vm._u([{key:\"header\",fn:function(){return [_c('a',{staticClass:\"u-link el-button el-button--default el-button--mini is-round is-plain\",attrs:{\"href\":\"/vip/mall?category=virtual\",\"target\":\"_blank\"}},[_c('i',{staticClass:\"el-icon-shopping-cart-2\"}),_vm._v(\" 前往获取装扮\")])]},proxy:true}])},[_c('div',{staticClass:\"m-honor\"},[_c('div',{staticClass:\"m-honor-left\"},[_c('div',{staticClass:\"u-header-info\"},[_c('Avatar',{staticClass:\"u-author-avatar\",attrs:{\"uid\":_vm.uid,\"url\":_vm.avatar,\"size\":_vm.avatarSize(),\"frame\":_vm.avatar_frame}}),_c('div',{staticClass:\"u-author-info\"},[_c('span',{staticClass:\"u-name\"},[_c('span',{on:{\"click\":function($event){return _vm.copyData(_vm.data.display_name || '匿名')}}},[_vm._v(_vm._s(_vm.data.display_name || \"匿名\"))]),_vm._v(\" \"),_c('span',{staticClass:\"u-uid\",on:{\"click\":function($event){return _vm.copyData(_vm.data.ID || 0)}}},[_vm._v(\"(UID : \"+_vm._s(_vm.data.ID || 0)+\")\")])]),_c('div',{staticClass:\"u-tips\"},[_c('el-tooltip',{attrs:{\"content\":`当前经验 ${_vm.data.experience || 0}`,\"placement\":\"top\"}},[_c('span',{staticClass:\"u-level\",class:'lv-' + _vm.level,style:({ backgroundColor: _vm.showLevelColor(_vm.level) })},[_vm._v(\"Lv.\"+_vm._s(_vm.level))])]),(_vm.isPRO || _vm.isVIP)?_c('el-tooltip',{attrs:{\"content\":_vm.vipTypeTitle,\"placement\":\"top\"}},[_c('span',{staticClass:\"u-vip\",attrs:{\"target\":\"_blank\"}},[_c('i',{staticClass:\"u-icon vip\"},[_vm._v(_vm._s(_vm.vipType))])])]):_vm._e(),(_vm.isSuperAuthor)?_c('el-tooltip',{attrs:{\"content\":\"签约作者\",\"placement\":\"top\"}},[_c('span',{staticClass:\"u-superauthor\"},[_c('i',{staticClass:\"u-icon superauthor\"},[_vm._v(\"签约作者\")])])]):_vm._e()],1),(!_vm.isSelect.isCustomize)?_c('div',{staticClass:\"u-honor\",style:({ backgroundImage: `url(${_vm.imgUrl(_vm.isSelect)})` })},[_c('span',{style:({ color: _vm.isSelect.color })},[_vm._v(_vm._s(_vm.isSelect.honor))])]):_vm._e()])],1)]),_c('div',{staticClass:\"m-honor-right\"},[_c('div',{staticClass:\"u-honor-list\"},[_c('div',{staticClass:\"u-title\"},[_c('span',{staticClass:\"u-name\"},[_c('i',{staticClass:\"el-icon-collection-tag\"}),_vm._v(\"称号\")]),_c('a',{staticClass:\"u-buy\",attrs:{\"href\":`/vip/mall?category=virtual&sub_category=honor`,\"target\":\"_blank\"}},[_c('i',{staticClass:\"el-icon-shopping-cart-2\"}),_vm._v(\" 前往获取\")])]),_c('div',{staticClass:\"u-honor-item\"},_vm._l((_vm.list),function(item,i){return _c('div',{key:i,staticClass:\"u-picbox\"},[_c('el-tooltip',{attrs:{\"effect\":\"dark\",\"placement\":\"top\",\"open-delay\":200}},[_c('div',{attrs:{\"slot\":\"content\"},slot:\"content\"},[_vm._v(_vm._s(item.honor))]),_c('div',{staticClass:\"u-pic\",class:_vm.setClass(item),on:{\"click\":function($event){return _vm.selectChange(item)}}},[(!item.isCustomize)?_c('el-image',{attrs:{\"src\":_vm.imgUrl(item),\"fit\":\"contain\"}}):_c('div',{staticClass:\"u-noHonor\"})],1)])],1)}),0)])])]),_c('div',{staticClass:\"m-btn\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.submit}},[_vm._v(\"确认\")]),_c('el-button',{on:{\"click\":_vm.reset}},[_vm._v(\"重置\")])],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <uc class=\"m-dashboard-honor m-dashboard-skin\" icon=\"el-icon-brush\" title=\"主题装扮\" :tab-list=\"tabList\">\n        <template #header>\n            <a\n                class=\"u-link el-button el-button--default el-button--mini is-round is-plain\"\n                href=\"/vip/mall?category=virtual\"\n                target=\"_blank\"\n                ><i class=\"el-icon-shopping-cart-2\"></i> 前往获取装扮</a\n            >\n        </template>\n        <div class=\"m-honor\">\n            <div class=\"m-honor-left\">\n                <div class=\"u-header-info\">\n                    <Avatar\n                        class=\"u-author-avatar\"\n                        :uid=\"uid\"\n                        :url=\"avatar\"\n                        :size=\"avatarSize()\"\n                        :frame=\"avatar_frame\"\n                    />\n                    <div class=\"u-author-info\">\n                        <span class=\"u-name\">\n                            <span @click=\"copyData(data.display_name || '匿名')\">{{ data.display_name || \"匿名\" }}</span\n                            >&nbsp;<span class=\"u-uid\" @click=\"copyData(data.ID || 0)\">(UID : {{ data.ID || 0 }})</span>\n                        </span>\n                        <div class=\"u-tips\">\n                            <el-tooltip :content=\"`当前经验 ${data.experience || 0}`\" placement=\"top\">\n                                <span\n                                    class=\"u-level\"\n                                    :class=\"'lv-' + level\"\n                                    :style=\"{ backgroundColor: showLevelColor(level) }\"\n                                    >Lv.{{ level }}</span\n                                >\n                            </el-tooltip>\n                            <el-tooltip :content=\"vipTypeTitle\" v-if=\"isPRO || isVIP\" placement=\"top\">\n                                <span class=\"u-vip\" target=\"_blank\">\n                                    <i class=\"u-icon vip\">{{ vipType }}</i>\n                                </span>\n                            </el-tooltip>\n                            <el-tooltip content=\"签约作者\" v-if=\"isSuperAuthor\" placement=\"top\">\n                                <span class=\"u-superauthor\">\n                                    <i class=\"u-icon superauthor\">签约作者</i>\n                                </span>\n                            </el-tooltip>\n                        </div>\n                        <div\n                            class=\"u-honor\"\n                            v-if=\"!isSelect.isCustomize\"\n                            :style=\"{ backgroundImage: `url(${imgUrl(isSelect)})` }\"\n                        >\n                            <span :style=\"{ color: isSelect.color }\">{{ isSelect.honor }}</span>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n            <div class=\"m-honor-right\">\n                <div class=\"u-honor-list\">\n                    <div class=\"u-title\">\n                        <span class=\"u-name\"><i class=\"el-icon-collection-tag\"></i>称号</span>\n                        <a class=\"u-buy\" :href=\"`/vip/mall?category=virtual&sub_category=honor`\" target=\"_blank\"\n                            ><i class=\"el-icon-shopping-cart-2\"></i> 前往获取</a\n                        >\n                    </div>\n                    <div class=\"u-honor-item\">\n                        <div class=\"u-picbox\" v-for=\"(item, i) in list\" :key=\"i\">\n                            <el-tooltip effect=\"dark\" placement=\"top\" :open-delay=\"200\">\n                                <div slot=\"content\">{{ item.honor }}</div>\n                                <div class=\"u-pic\" :class=\"setClass(item)\" @click=\"selectChange(item)\">\n                                    <el-image :src=\"imgUrl(item)\" fit=\"contain\" v-if=\"!item.isCustomize\" />\n                                    <div v-else class=\"u-noHonor\"></div>\n                                </div>\n                            </el-tooltip>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class=\"m-btn\">\n            <el-button type=\"primary\" @click=\"submit\">确认</el-button>\n            <el-button @click=\"reset\">重置</el-button>\n        </div>\n    </uc>\n</template>\n\n<script>\nimport uc from \"@/components/uc.vue\";\nimport { themeTab } from \"@/assets/data/tabs.json\";\nimport User from \"@jx3box/jx3box-common/js/user\";\nimport { getMyInfo } from \"@/service/index.js\";\nimport { __userLevelColor, __imgPath } from \"@jx3box/jx3box-common/data/jx3box\";\nimport { getDecoration, setDecoration, getHonor } from \"@/service/decoration\";\nimport { cloneDeep, inRange } from \"lodash\";\nexport default {\n    name: \"honor\",\n    props: [],\n    data: function () {\n        return {\n            tabList: themeTab,\n            isVIP: false,\n            info: {\n                uid: User.getInfo().uid,\n                name: \"匿名\",\n                user_avatar: `${__imgPath}/image/common/avatar.png`,\n                user_avatar_frame: \"default\",\n                bio: \"-\",\n                sign: 0,\n            },\n            list: [],\n            listBak: [],\n            isSelect: {},\n            isSelectBak: {},\n            honorList: {},\n        };\n    },\n    computed: {\n        uid: function () {\n            return User.getInfo().uid;\n        },\n        data: function () {\n            return this.info;\n        },\n        avatar: function () {\n            return this.data.user_avatar || \"\";\n        },\n        avatar_frame: function () {\n            return this.data.user_avatar_frame || \"\";\n        },\n        isPRO: function () {\n            return this.data?.is_pro;\n        },\n        isSuperAuthor: function () {\n            return !!this.data?.sign;\n        },\n        vipType: function () {\n            return this.isPRO ? \"PRO\" : \"PRE\";\n        },\n        vipTypeTitle: function () {\n            return this.isPRO ? \"专业版会员用户\" : \"高级版会员用户\";\n        },\n        level: function () {\n            return User.getLevel(this.data?.experience || 0);\n        },\n    },\n    methods: {\n        imgUrl: function (item) {\n            if (!item || item.isCustomize || !item.val) return;\n            if (item.isImgIndex) {\n                return __imgPath + `decoration/honor/${item.val}/${item.val}_${item.imgIndex}.${item.ext}`;\n            }\n            return __imgPath + `decoration/honor/${item.val}/${item.val}.${item.ext}`;\n        },\n        setClass(item) {\n            if (!item.isHave) return \"noHave\";\n            if (item.using) return \"select\";\n        },\n        avatarSize() {\n            let w = document.body.clientWidth || document.documentElement.clientWidth;\n            if (w > 500) {\n                return \"m\";\n            } else {\n                return \"s\";\n            }\n        },\n        loadUserInfo: function () {\n            getMyInfo().then((res) => {\n                if (res.data.data) {\n                    this.info = res.data.data;\n                }\n            });\n        },\n        loadHonor() {\n            getHonor().then((res) => {\n                this.honorList = res.data;\n                this.loadDecoration();\n            });\n        },\n        loadDecoration() {\n            getDecoration({ type: \"honor\" }).then((data) => {\n                let res = data.data.data;\n                // let res = [];\n                let honorList = this.honorList;\n                let newArr = [];\n                Object.keys(honorList).forEach((key, i) => {\n                    let data = res.find((item) => item.val == key);\n                    let honorConfig = honorList[key];\n\n                    let disposeHonor = function (data) {\n                        //正则取出前缀\n                        let prefix = honorConfig.prefix;\n                        let regPrefix = honorConfig.prefix.match(/(?<=\\{)(.+?)(?=\\})/g);\n                        let ranking = honorConfig.ranking;\n                        let honorStr = honorConfig.year || \"\";\n                        if (regPrefix) {\n                            if (data) {\n                                honorStr = honorStr + (data[regPrefix[0]] || \"\");\n                            }\n                        } else {\n                            honorStr = honorStr + prefix;\n                        }\n                        //排名处理\n                        if (ranking.length > 0 && data) {\n                            data.imgIndex = 0;\n                            for (let i = 0; i < ranking.length; i++) {\n                                //处在范围内取数组第三个值进行称号拼接\n                                if (\n                                    data.ranking != undefined &&\n                                    inRange(Number(data.ranking), ranking[i][0], ranking[i][1])\n                                ) {\n                                    data.imgIndex = i;\n                                    let str = ranking[i][2];\n                                    //正则取出需替换值，如果没有则直接拼接\n                                    let regStr = str.match(/(?<=\\{)(.+?)(?=\\})/g);\n                                    if (regStr) {\n                                        //包含花括号替换\n                                        honorStr = honorStr + str.replace(/\\{(.+?)\\}/g, data[regStr[0]]);\n                                    } else {\n                                        honorStr = honorStr + str;\n                                    }\n                                    break;\n                                }\n                            }\n                        }\n                        return honorStr + honorConfig.suffix;\n                    };\n                    if (data) {\n                        data.honor = disposeHonor(data);\n                        data.color = honorConfig.color;\n                        data.ext = honorConfig.ext;\n                        data.isHave = true;\n                        (data.isImgIndex = honorConfig.ranking.length > 0 ? true : false), newArr.push(data);\n                    } else {\n                        let json = {\n                            color: honorConfig.color,\n                            ext: honorConfig.ext,\n                            honor: disposeHonor(),\n                            extra: \"尚未获取的称号框\",\n                            using: 0,\n                            type: \"honor\",\n                            val: key,\n                            isHave: false,\n                            imgIndex: 0,\n                            isImgIndex: honorConfig.ranking.length > 0 ? true : false,\n                        };\n                        newArr.push(json);\n                    }\n                });\n                let isUsing = newArr.find((item) => item.using == 1);\n                this.list = newArr || [];\n                let isCustomize = {\n                    type: \"honor_customize\",\n                    val: \"不佩戴称号\",\n                    honor: \"取消佩戴称号\",\n                    using: isUsing ? 0 : 1,\n                    isHave: true,\n                    isCustomize: true, //是否是自己定义的\n                };\n                if (isUsing) {\n                    this.isSelect = isUsing;\n                } else {\n                    this.isSelect = isCustomize;\n                }\n                this.list.unshift(isCustomize);\n                this.isSelectBak = cloneDeep(this.isSelect);\n                this.listBak = cloneDeep(this.list);\n            });\n        },\n\n        selectChange(item) {\n            if (!item.isHave) return;\n            let list = this.list;\n            let find = list.find((e) => e.using == 1);\n            if (find) find.using = 0;\n            item.using = 1;\n            this.isSelect = item;\n        },\n        reset() {\n            this.$set(this, \"list\", cloneDeep(this.listBak));\n            this.$set(this, \"isSelect\", cloneDeep(this.isSelectBak));\n        },\n        showLevelColor: function (level) {\n            return __userLevelColor[level];\n        },\n        submit() {\n            setDecoration(this.list).then((data) => {\n                this.$message({\n                    message: \"称号更新成功\",\n                    type: \"success\",\n                });\n            });\n        },\n    },\n    mounted: function () {\n        this.loadUserInfo();\n        this.loadHonor();\n    },\n    components: {\n        uc,\n    },\n};\n</script>\n<style lang=\"less\">\n@import \"../assets/css/honor.less\";\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./honor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./honor.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./honor.vue?vue&type=template&id=a4a5734a&\"\nimport script from \"./honor.vue?vue&type=script&lang=js&\"\nexport * from \"./honor.vue?vue&type=script&lang=js&\"\nimport style0 from \"./honor.vue?vue&type=style&index=0&id=a4a5734a&prod&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { $cms } from \"@jx3box/jx3box-common/js/https.js\";\nimport axios from \"axios\";\nimport { __imgPath, __dataPath } from \"@jx3box/jx3box-common/data/jx3box.json\";\nfunction getDecoration(params) {\n    return $cms().get(`/api/cms/user/decoration`, {\n        params,\n    });\n}\nfunction setDecoration(data) {\n    return $cms().post(`/api/cms/user/decoration`, data);\n}\nfunction getDecorationJson() {\n    let url = __imgPath + \"decoration/index.json\";\n    return axios.get(url);\n}\nfunction getEmotion() {\n    return axios.get(`${__dataPath}emotion/output/catalog.json`);\n}\nfunction receive(user_id, val) {\n    return $cms().post(`/api/cms/user/decoration/check-suit/${user_id}/${val}/for/avatar`);\n}\n\nfunction updateAvatarFrame(data) {\n    return $cms().put(\"/api/cms/user/my/avatar-frame\", data);\n}\nfunction getHonor() {\n    return axios.get(`${__imgPath}decoration/honor.json`);\n}\nexport { getDecoration, setDecoration, getDecorationJson, getEmotion, receive, updateAvatarFrame, getHonor };\n"],"sourceRoot":""}