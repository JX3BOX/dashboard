(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8093effa"],{"2c11":function(t,a,e){"use strict";e("e1e0")},"3c65":function(t,a,e){"use strict";var n=e("23e7"),i=e("7b0b"),s=e("07fa"),r=e("3a34"),o=e("083a"),c=e("3511"),u=1!==[].unshift(0),l=function(){try{Object.defineProperty([],"length",{writable:!1}).unshift()}catch(t){return t instanceof TypeError}},f=u||!l();n({target:"Array",proto:!0,arity:1,forced:f},{unshift:function(t){var a=i(this),e=s(a),n=arguments.length;if(n){c(e+n);var u=e;while(u--){var l=u+n;u in a?a[l]=a[u]:o(a,l)}for(var f=0;f<n;f++)a[f]=arguments[f]}return r(a,e+n)}})},4039:function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t._self._c;return a("uc",{staticClass:"m-dashboard-honor m-dashboard-skin",attrs:{icon:"el-icon-brush",title:"主题装扮","tab-list":t.tabList},scopedSlots:t._u([{key:"header",fn:function(){return[a("a",{staticClass:"u-link el-button el-button--default el-button--mini is-round is-plain",attrs:{href:"/vip/mall?category=virtual",target:"_blank"}},[a("i",{staticClass:"el-icon-shopping-cart-2"}),t._v(" 前往获取装扮")])]},proxy:!0}])},[a("div",{staticClass:"m-honor"},[a("div",{staticClass:"m-honor-left"},[a("div",{staticClass:"u-header-info"},[a("Avatar",{staticClass:"u-author-avatar",attrs:{uid:t.uid,url:t.avatar,frame:t.avatar_frame}}),a("div",{staticClass:"u-author-info"},[a("span",{staticClass:"u-name"},[a("span",{on:{click:function(a){return t.copyData(t.data.display_name||"匿名")}}},[t._v(t._s(t.data.display_name||"匿名"))]),t._v(" "),a("span",{staticClass:"u-uid",on:{click:function(a){return t.copyData(t.data.ID||0)}}},[t._v("(UID : "+t._s(t.data.ID||0)+")")])]),a("div",{staticClass:"u-tips"},[a("el-tooltip",{attrs:{content:"当前经验 ".concat(t.data.experience||0),placement:"top"}},[a("span",{staticClass:"u-level",class:"lv-"+t.level,style:{backgroundColor:t.showLevelColor(t.level)}},[t._v("Lv."+t._s(t.level))])]),t.isPRO||t.isVIP?a("el-tooltip",{attrs:{content:t.vipTypeTitle,placement:"top"}},[a("span",{staticClass:"u-vip",attrs:{target:"_blank"}},[a("i",{staticClass:"u-icon vip"},[t._v(t._s(t.vipType))])])]):t._e(),t.isSuperAuthor?a("el-tooltip",{attrs:{content:"签约作者",placement:"top"}},[a("span",{staticClass:"u-superauthor"},[a("i",{staticClass:"u-icon superauthor"},[t._v("签约作者")])])]):t._e()],1),t.isSelect.isCustomize?t._e():a("div",{staticClass:"u-honor"},[t._v(t._s(t.isSelect.val))])])],1)]),a("div",{staticClass:"m-honor-right"},t._l(t.list,(function(e,n){return a("div",{key:n,staticClass:"u-btn",class:e.using?"on":"",on:{click:function(a){return t.selectChange(e)}}},[t._v(" "+t._s(e.val)+" ")])})),0)]),a("div",{staticClass:"m-btn"},[a("el-button",{attrs:{type:"primary"},on:{click:t.submit}},[t._v("确认")]),a("el-button",{on:{click:t.reset}},[t._v("重置")])],1)])},i=[],s=(e("4de4"),e("d3b7"),e("3c65"),e("7db0"),e("b547")),r=e("46c1"),o=e("c9d2"),c=e("8e44"),u=e("65c2"),l=e("aa38"),f=e("2ef0"),d={name:"honor",props:[],data:function(){return{tabList:r["d"],isVIP:!1,info:{uid:o["a"].getInfo().uid,name:"匿名",user_avatar:"https://img.jx3box.com/image/common/avatar.png",user_avatar_frame:"default",bio:"-",sign:0},list:[],listBak:[],isSelect:{},isSelectBak:{}}},computed:{uid:function(){return o["a"].getInfo().uid},data:function(){return this.info},avatar:function(){return this.data.user_avatar||""},avatar_frame:function(){return this.data.user_avatar_frame||""},isPRO:function(){var t;return null===(t=this.data)||void 0===t?void 0:t.is_pro},isSuperAuthor:function(){var t;return!(null===(t=this.data)||void 0===t||!t.sign)},vipType:function(){return this.isPRO?"PRO":"PRE"},vipTypeTitle:function(){return this.isPRO?"专业版会员用户":"高级版会员用户"},level:function(){var t;return o["a"].getLevel((null===(t=this.data)||void 0===t?void 0:t.experience)||0)}},methods:{loadUserInfo:function(){var t=this;Object(c["b"])().then((function(a){a.data.data&&(t.info=a.data.data)}))},loadDecoration:function(){var t=this;Object(l["a"])({type:"honor"}).then((function(a){var e=a.data.data,n=e.filter((function(t){return 1==t.using}));t.list=e||[];var i={type:"honor_customize",val:"不佩戴称号",using:n.length?0:1,isCustomize:!0};n.length?t.isSelect=n[0]:t.isSelect=i,t.list.unshift(i),t.isSelectBak=Object(f["cloneDeep"])(t.isSelect),t.listBak=Object(f["cloneDeep"])(t.list)}))},selectChange:function(t){var a=this.list,e=a.find((function(t){return 1==t.using}));e&&(e.using=0),t.using=1,this.isSelect=t},reset:function(){this.$set(this,"list",Object(f["cloneDeep"])(this.listBak)),this.$set(this,"isSelect",Object(f["cloneDeep"])(this.isSelectBak))},showLevelColor:function(t){return u["__userLevelColor"][t]},submit:function(){var t=this;Object(l["e"])(this.list).then((function(a){t.$message({message:"称号更新成功",type:"success"})}))}},mounted:function(){this.loadUserInfo(),this.loadDecoration()},components:{uc:s["a"]}},v=d,p=(e("2c11"),e("2877")),h=Object(p["a"])(v,n,i,!1,null,null,null);a["default"]=h.exports},aa38:function(t,a,e){"use strict";e.d(a,"a",(function(){return o})),e.d(a,"e",(function(){return c})),e.d(a,"b",(function(){return u})),e.d(a,"c",(function(){return l})),e.d(a,"d",(function(){return f})),e.d(a,"f",(function(){return d}));e("99af");var n=e("41cb"),i=e("bc3a"),s=e.n(i),r=e("65c2");function o(t){return Object(n["b"])().get("/api/cms/user/decoration",{params:t})}function c(t){return Object(n["b"])().post("/api/cms/user/decoration",t)}function u(){var t=r["__imgPath"]+"decoration/index.json";return s.a.get(t)}function l(){return s.a.get("".concat(r["__dataPath"],"emotion/output/catalog.json"))}function f(t,a){return Object(n["b"])().post("/api/cms/user/decoration/check-suit/".concat(t,"/").concat(a,"/for/avatar"))}function d(t){return Object(n["b"])().put("/api/cms/user/my/avatar-frame",t)}},e1e0:function(t,a,e){}}]);
//# sourceMappingURL=chunk-8093effa.16d41870.js.map