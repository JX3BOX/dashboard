{"version":3,"sources":["webpack:///./src/service/goods.js","webpack:///./src/components/uc.vue?4475","webpack:///./src/components/tabs.vue?f261","webpack:///src/components/tabs.vue","webpack:///./src/components/tabs.vue?b935","webpack:///./src/components/tabs.vue","webpack:///src/components/uc.vue","webpack:///./src/components/uc.vue?9fd4","webpack:///./src/components/uc.vue","webpack:///./src/components/uc.vue?b7ab","webpack:///./src/views/order_detail.vue?29d2","webpack:///./src/views/order_detail.vue?40e7","webpack:///src/views/order_detail.vue","webpack:///./src/views/order_detail.vue?3fde","webpack:///./src/views/order_detail.vue"],"names":["getAddress","params","$pay","get","addAddress","data","post","updateAddress","id","put","delAddress","delete","defaultAddress","getOrder","updateOrderAddress","orderId","addressId","updateOrderRemark","remark","getOrderId","closeOrder","toPay","toConfirm","getVirtual","render","_vm","this","_h","$createElement","_c","_self","staticClass","class","icon","_v","_s","title","_t","attrs","tabList","staticRenderFns","on","changeTab","model","value","callback","$$v","active","expression","_l","item","key","name","slot","label","props","tabs","type","default","watch","$route","computed","methods","mounted","components","component","goBack","address","actual_contact","actual_phone","actual_address","goods","goods_images","order","order_no","created_at","goods_num","postage","payStatus","pay_status","orderStatus","order_status","price_cny","_e","price_boxcoin","price_points","closeButton","$event","cancel","open","showPay","dialogVisible","close","mode","ref","address_form","address_rules","$set","i","submit","remark_form","remark_rules","uc","addressList","address_id","required","message","trigger","pageIndex","load","loadAddress","formName"],"mappings":"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","file":"js/chunk-491909ea.37ad2bff.js","sourcesContent":["import { $pay } from \"@jx3box/jx3box-common/js/https\";\n// 获取地址列表\nfunction getAddress(params) {\n    return $pay().get(`/mall/ship-address`, params)\n}\n// 添加地址\nfunction addAddress(data) {\n    return $pay().post(`/mall/ship-address`, data)\n}\n// 更新地址\nfunction updateAddress(id, data) {\n    return $pay().put(`/mall/ship-address/${id}`, data)\n}\n// 删除地址\nfunction delAddress(id) {\n    return $pay().delete(`/mall/ship-address/${id}`)\n}\n// 设定默认地址\nfunction defaultAddress(id) {\n    return $pay().put(`/mall/ship-address/default/${id}`, )\n}\n// 获取我的订单\nfunction getOrder(params) {\n    return $pay().get(`/mall/my/orders`, { params })\n}\n// 更改订单的收货地址\nfunction updateOrderAddress(orderId, addressId) {\n    return $pay().put(`/mall/my/orders/${orderId}/bind-address/${addressId}`, )\n}\n// 修改订单备注\nfunction updateOrderRemark(id, remark) {\n    return $pay().put(`/mall/my/orders/${id}/remark`, { remark })\n}\n// 查看对应id的订单详情\nfunction getOrderId(id) {\n    return $pay().get(`/mall/my/orders/${id}`)\n}\n// 关闭订单\nfunction closeOrder(id) {\n    return $pay().put(`/mall/my/orders/${id}/cancel`, )\n}\n// 支付订单\nfunction toPay(id) {\n    return $pay().post(`/mall/my/orders/${id}/pay`);\n}\n// 确认收货\nfunction toConfirm(id) {\n    return $pay().post(`/mall/my/orders/${id}/received`);\n}\n//\nfunction getVirtual(params) {\n    return $pay().get(`/mall/my/virtual_goods`, { params });\n}\n\n// 获取\nexport {\n    getAddress,\n    addAddress,\n    updateAddress,\n    delAddress,\n    defaultAddress,\n    getOrder,\n    updateOrderAddress,\n    updateOrderRemark,\n    getOrderId,\n    closeOrder,\n    toPay,\n    getVirtual,\n    toConfirm\n};","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"m-dashboard-profile m-profile\"},[_c('h2',{staticClass:\"u-title\"},[_c('i',{class:_vm.icon}),_vm._v(\" \"+_vm._s(_vm.title)+\" \"),_vm._t(\"header\")],2),_c('tabs',{attrs:{\"tabs\":_vm.tabList}}),_vm._t(\"default\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-tabs',{staticClass:\"m-dashboard-tabs\",on:{\"tab-click\":_vm.changeTab},model:{value:(_vm.active),callback:function ($$v) {_vm.active=$$v},expression:\"active\"}},_vm._l((_vm.tabs),function(item){return _c('el-tab-pane',{key:item.name,attrs:{\"name\":item.name}},[_c('span',{attrs:{\"slot\":\"label\"},slot:\"label\"},[_c('i',{class:item.icon}),_vm._v(\" \"+_vm._s(item.label))])])}),1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <el-tabs class=\"m-dashboard-tabs\" v-model=\"active\" @tab-click=\"changeTab\">\n        <el-tab-pane v-for=\"item in tabs\" :key=\"item.name\" :name=\"item.name\">\n            <span slot=\"label\"><i :class=\"item.icon\"></i> {{ item.label }}</span>\n        </el-tab-pane>\n    </el-tabs>\n</template>\n\n<script>\nexport default {\n    name: \"\",\n    props: {\n        tabs: {\n            type: Array,\n            default: () => [],\n        }\n    },\n    data: function () {\n        return {\n            active: \"\",\n        };\n    },\n    watch: {\n        $route: function () {\n            this.active = this.$route.name;\n        },\n    },\n    computed: {},\n    methods: {\n        changeTab: function () {\n            this.$router.push({ name: this.active });\n        },\n    },\n    mounted: function () {\n        this.active = this.$route.name;\n    },\n    components: {},\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./tabs.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./tabs.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./tabs.vue?vue&type=template&id=562810e3&\"\nimport script from \"./tabs.vue?vue&type=script&lang=js&\"\nexport * from \"./tabs.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n    <div class=\"m-dashboard-profile m-profile\">\n        <h2 class=\"u-title\">\n            <i :class=\"icon\"></i> {{ title }}\n            <slot name=\"header\"></slot>\n        </h2>\n        <tabs :tabs=\"tabList\" />\n        <slot></slot>\n    </div>\n</template>\n\n<script>\nimport tabs from \"@/components/tabs.vue\";\nimport { profileTab } from \"@/assets/data/tabs.json\";\nexport default {\n    name: \"uc\",\n    props: {\n        icon: {\n            type: String,\n            default: \"el-icon-user\",\n        },\n        title: {\n            type: String,\n            default: \"我的资料\",\n        },\n        tabList: {\n            type: Array,\n            default: function () {\n                return profileTab;\n            },\n        }\n    },\n    data: function() {\n        return {};\n    },\n    computed: {},\n    methods: {},\n    mounted: function() {},\n    components: {\n        tabs\n    },\n};\n</script>\n\n<style lang=\"less\">\n@import \"../assets/css/profile/uc.less\";\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./uc.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./uc.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./uc.vue?vue&type=template&id=63b546ce&\"\nimport script from \"./uc.vue?vue&type=script&lang=js&\"\nexport * from \"./uc.vue?vue&type=script&lang=js&\"\nimport style0 from \"./uc.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./uc.vue?vue&type=style&index=0&lang=less&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./order_detail.vue?vue&type=style&index=0&lang=less&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('uc',{attrs:{\"icon\":\"el-icon-shopping-bag-1\",\"title\":\"订单中心\",\"tabList\":_vm.tabList}},[_c('div',{staticClass:\"m-mall-detail\"},[_c('div',{staticClass:\"m-breadcrumb\"},[_c('span',{staticClass:\"u-back\",on:{\"click\":_vm.goBack}},[_c('i',{staticClass:\"el-icon-arrow-left\"}),_vm._v(\" 返回\")])]),_c('div',{staticClass:\"m-content\"},[_c('div',{staticClass:\"m-address el-card\"},[_c('span',[_vm._v(\"收件人：\"+_vm._s(_vm.address.actual_contact))]),_c('span',[_vm._v(\"联系电话：\"+_vm._s(_vm.address.actual_phone))]),_c('span',[_vm._v(\"收货地址： \"+_vm._s(_vm.address.actual_address))])]),(_vm.goods)?_c('div',{staticClass:\"m-order el-card\"},[_c('img',{staticClass:\"u-img\",attrs:{\"src\":_vm.goods.goods_images[0]}}),_c('div',{staticClass:\"m-box\"},[_c('span',{staticClass:\"u-title\"},[_vm._v(_vm._s(_vm.goods.title))]),_c('span',[_vm._v(\"订单编号：\"+_vm._s(_vm.order.order_no))]),_c('span',[_vm._v(\"下单时间：\"+_vm._s(_vm.order.created_at))]),_c('span',[_vm._v(\"购买数量：\"+_vm._s(_vm.order.goods_num))]),_c('span',[_vm._v(\"邮费：\"+_vm._s(_vm.goods.postage ? _vm.goods.postage / 100 + \"元\" : \"包邮\"))]),_c('span',[_vm._v(\"支付状态：\"+_vm._s(_vm.payStatus[_vm.order.pay_status])+\" \")]),_c('span',[_vm._v(\"订单状态：\"+_vm._s(_vm.orderStatus[_vm.order.order_status])+\" \")]),_c('div',{staticClass:\"u-consume\"},[_c('span',[_vm._v(\"购买消耗：\")]),_c('div',{staticClass:\"u-box\"},[(_vm.goods.price_cny)?_c('span',[_vm._v(\"金箔：\"),_c('b',[_vm._v(_vm._s(_vm.goods.price_cny * _vm.order.goods_num))])]):_vm._e(),(_vm.goods.price_boxcoin)?_c('span',[_vm._v(\"盒币：\"),_c('b',[_vm._v(_vm._s(_vm.goods.price_boxcoin * _vm.order.goods_num))])]):_vm._e(),(_vm.goods.price_points)?_c('span',[_vm._v(\"积分：\"),_c('b',[_vm._v(_vm._s(_vm.goods.price_points * _vm.order.goods_num))])]):_vm._e()])]),_c('span',[_vm._v(\"备注：\"+_vm._s(_vm.order.remark || \"-\"))])])]):_vm._e(),(_vm.closeButton(_vm.data.order))?_c('div',{staticClass:\"m-button\"},[(_vm.data.order.order_status == 0)?[_c('el-button',{on:{\"click\":function($event){return _vm.cancel(_vm.data.order.id)}}},[_vm._v(\"取消订单\")]),_c('el-button',{on:{\"click\":function($event){return _vm.open(_vm.data.order.id, 'address')}}},[_vm._v(\"修改地址\")]),_c('el-button',{on:{\"click\":function($event){return _vm.open(_vm.data.order.id, 'remark')}}},[_vm._v(\"添加备注\")])]:_vm._e(),(_vm.data.order.order_status == 3)?_c('el-button',{on:{\"click\":function($event){return _vm.toConfirm(_vm.data.order.id)}}},[_vm._v(\"确认收货\")]):_vm._e(),(_vm.showPay(_vm.data.order))?_c('el-button',{on:{\"click\":function($event){return _vm.toPay(_vm.data)}}},[_vm._v(\"点击付款\")]):_vm._e()],2):_vm._e()]),_c('el-dialog',{attrs:{\"title\":_vm.title,\"visible\":_vm.dialogVisible,\"width\":\"30%\",\"before-close\":_vm.close,\"custom-class\":\"m-edit-dialog\"},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[(_vm.mode == 'address')?[_c('el-form',{ref:\"address_form\",staticClass:\"demo-form-inline\",attrs:{\"model\":_vm.address_form,\"rules\":_vm.address_rules}},[_c('el-form-item',{attrs:{\"label\":\"选择收货地址\",\"prop\":\"address_id\"}},[_c('el-select',{model:{value:(_vm.address_form.address_id),callback:function ($$v) {_vm.$set(_vm.address_form, \"address_id\", $$v)},expression:\"address_form.address_id\"}},_vm._l((_vm.addressList),function(item,i){return _c('el-option',{key:i,attrs:{\"label\":(\"【 \" + (item.contact_name) + \" \" + (item.contact_phone) + \" 】 \" + (item.province) + (item.city) + (item.area) + (item.address)),\"value\":item.id}})}),1)],1),_c('el-form-item',[_c('div',{staticClass:\"m-button\"},[_c('el-button',{on:{\"click\":_vm.close}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.submit('address_form')}}},[_vm._v(\"确定\")])],1)])],1)]:[_c('el-form',{ref:\"remark_form\",staticClass:\"demo-form-inline\",attrs:{\"model\":_vm.remark_form,\"rules\":_vm.remark_rules}},[_c('el-form-item',{attrs:{\"label\":\"备注\",\"prop\":\"remark\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"rows\":2,\"placeholder\":\"请输入备注\"},model:{value:(_vm.remark_form.remark),callback:function ($$v) {_vm.$set(_vm.remark_form, \"remark\", $$v)},expression:\"remark_form.remark\"}})],1),_c('el-form-item',[_c('div',{staticClass:\"m-button\"},[_c('el-button',{on:{\"click\":_vm.close}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.submit('remark_form')}}},[_vm._v(\"确定\")])],1)])],1)]],2)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <uc icon=\"el-icon-shopping-bag-1\" title=\"订单中心\" :tabList=\"tabList\">\n        <div class=\"m-mall-detail\">\n            <div class=\"m-breadcrumb\">\n                <span @click=\"goBack\" class=\"u-back\"><i class=\"el-icon-arrow-left\"></i> 返回</span>\n            </div>\n\n            <div class=\"m-content\">\n                <div class=\"m-address el-card\">\n                    <span>收件人：{{ address.actual_contact }}</span>\n                    <span>联系电话：{{ address.actual_phone }}</span>\n                    <span>收货地址： {{ address.actual_address }}</span>\n                </div>\n                <div class=\"m-order el-card\" v-if=\"goods\">\n                    <img class=\"u-img\" :src=\"goods.goods_images[0]\" />\n                    <div class=\"m-box\">\n                        <span class=\"u-title\">{{ goods.title }}</span>\n                        <span>订单编号：{{ order.order_no }}</span>\n                        <span>下单时间：{{ order.created_at }}</span>\n                        <span>购买数量：{{ order.goods_num }}</span>\n                        <span>邮费：{{ goods.postage ? goods.postage / 100 + \"元\" : \"包邮\" }}</span>\n                        <span>支付状态：{{ payStatus[order.pay_status] }} </span>\n                        <span>订单状态：{{ orderStatus[order.order_status] }} </span>\n                        <div class=\"u-consume\">\n                            <span>购买消耗：</span>\n                            <div class=\"u-box\">\n                                <span v-if=\"goods.price_cny\"\n                                    >金箔：<b>{{ goods.price_cny * order.goods_num }}</b></span\n                                >\n                                <span v-if=\"goods.price_boxcoin\"\n                                    >盒币：<b>{{ goods.price_boxcoin * order.goods_num }}</b></span\n                                >\n                                <span v-if=\"goods.price_points\"\n                                    >积分：<b>{{ goods.price_points * order.goods_num }}</b></span\n                                >\n                            </div>\n                        </div>\n                        <span>备注：{{ order.remark || \"-\" }}</span>\n                    </div>\n                </div>\n                <div class=\"m-button\" v-if=\"closeButton(data.order)\">\n                    <template v-if=\"data.order.order_status == 0\">\n                        <el-button @click=\"cancel(data.order.id)\">取消订单</el-button>\n                        <el-button @click=\"open(data.order.id, 'address')\">修改地址</el-button>\n                        <el-button @click=\"open(data.order.id, 'remark')\">添加备注</el-button>\n                    </template>\n\n                    <el-button @click=\"toConfirm(data.order.id)\" v-if=\"data.order.order_status == 3\"\n                        >确认收货</el-button\n                    >\n                    <el-button @click=\"toPay(data)\" v-if=\"showPay(data.order)\">点击付款</el-button>\n                </div>\n            </div>\n\n            <!-- 弹窗 -->\n            <el-dialog\n                :title=\"title\"\n                :visible.sync=\"dialogVisible\"\n                width=\"30%\"\n                :before-close=\"close\"\n                custom-class=\"m-edit-dialog\"\n            >\n                <template v-if=\"mode == 'address'\">\n                    <el-form ref=\"address_form\" :model=\"address_form\" :rules=\"address_rules\" class=\"demo-form-inline\">\n                        <el-form-item label=\"选择收货地址\" prop=\"address_id\">\n                            <el-select v-model=\"address_form.address_id\">\n                                <el-option\n                                    :label=\"`【 ${item.contact_name} ${item.contact_phone} 】 ${item.province}${item.city}${item.area}${item.address}`\"\n                                    :value=\"item.id\"\n                                    v-for=\"(item, i) in addressList\"\n                                    :key=\"i\"\n                                ></el-option>\n                            </el-select>\n                        </el-form-item>\n                        <el-form-item>\n                            <div class=\"m-button\">\n                                <el-button @click=\"close\">取 消</el-button>\n                                <el-button type=\"primary\" @click=\"submit('address_form')\">确定</el-button>\n                            </div>\n                        </el-form-item>\n                    </el-form>\n                </template>\n                <template v-else>\n                    <el-form ref=\"remark_form\" :model=\"remark_form\" :rules=\"remark_rules\" class=\"demo-form-inline\">\n                        <el-form-item label=\"备注\" prop=\"remark\">\n                            <el-input type=\"textarea\" :rows=\"2\" placeholder=\"请输入备注\" v-model=\"remark_form.remark\">\n                            </el-input>\n                        </el-form-item>\n                        <el-form-item>\n                            <div class=\"m-button\">\n                                <el-button @click=\"close\">取 消</el-button>\n                                <el-button type=\"primary\" @click=\"submit('remark_form')\">确定</el-button>\n                            </div>\n                        </el-form-item>\n                    </el-form>\n                </template>\n            </el-dialog>\n        </div>\n    </uc>\n</template>\n\n<script>\nimport { updateOrderAddress, updateOrderRemark, getAddress, closeOrder, toPay, toConfirm } from \"@/service/goods\";\nimport { getOrderId } from \"@/service/goods\";\nimport { orderStatus, payStatus } from \"../assets/data/mall.json\";\nimport uc from \"@/components/uc\";\nimport { mallTab } from \"@/assets/data/tabs.json\";\nexport default {\n    name: \"orderDetail\",\n    components: { uc },\n    data: function () {\n        return {\n            data: {},\n            mode: \"\",\n            dialogVisible: false,\n            addressList: [],\n            address_form: {\n                address_id: \"\",\n            },\n            address_rules: {\n                address_id: [{ required: true, message: \"请选择地址\", trigger: \"change\" }],\n            },\n            remark_form: {\n                remark: \"\",\n            },\n            remark_rules: {\n                remark: [{ required: true, message: \"请输入备注\", trigger: \"blur\" }],\n            },\n\n            tabList: mallTab,\n        };\n    },\n    computed: {\n        id() {\n            return this.$route.params.id;\n        },\n        pageIndex() {\n            return this.$route.params.pageIndex;\n        },\n        address() {\n            return this.data.shipAddress || {};\n        },\n        order() {\n            return this.data.order;\n        },\n        goods() {\n            return this.data.goods;\n        },\n        payStatus() {\n            return payStatus;\n        },\n        orderStatus() {\n            return orderStatus;\n        },\n        title() {\n            return this.mode == \"address\" ? \"修改收货地址\" : \"修改备注\";\n        },\n    },\n    methods: {\n        load() {\n            getOrderId(this.id).then((res) => {\n                this.data = res.data.data;\n            });\n        },\n        loadAddress() {\n            getAddress().then((res) => {\n                this.addressList = res.data.data.list;\n            });\n        },\n        // 订单关闭不显示按钮\n        closeButton(data) {\n            if (!data) return false;\n            if (data.order_status == 1 || data.order_status == 2 || data.order_status == 7) return false;\n            return true;\n        },\n        // 显示支付按钮\n        showPay(data) {\n            if (data) {\n                const { order_status, pay_status } = data;\n                if (order_status == 1 || order_status == 2 || order_status == 7) return false;\n                return pay_status == 0 ? true : false;\n            }\n            return false;\n        },\n        // 确认收货\n        toConfirm(id) {\n            toConfirm(id).then(() => {\n                this.$message({\n                    message: \"收货成功\",\n                    type: \"success\",\n                });\n                this.data.order.order_status = 4;\n            });\n        },\n        goBack() {\n            this.$router.push({\n                name: \"mall\",\n                params: {\n                    pageIndex: this.pageIndex,\n                },\n            });\n        },\n        open(id, type) {\n            this.order_id = id;\n            if (type == \"address\") this.loadAddress();\n            if (this.$refs.address_form !== undefined) this.$refs.address_form.clearValidate();\n            if (this.$refs.remark_form !== undefined) this.$refs.remark_form.clearValidate();\n            this.mode = type;\n            this.dialogVisible = true;\n        },\n        close() {\n            this.dialogVisible = false;\n        },\n        // 关闭订单\n        cancel(id) {\n            closeOrder(id).then((res) => {\n                this.$message({\n                    message: \"关闭订单成功\",\n                    type: \"success\",\n                });\n                this.list = this.list.map((item) => {\n                    if (item.order.id == id) item.order.order_status = 1;\n                    return item;\n                });\n            });\n        },\n        // 支付\n        toPay(data) {\n            const id = data.order.id;\n            toPay(id).then(() => {\n                this.$message({\n                    message: \"支付成功\",\n                    type: \"success\",\n                });\n                this.list = this.list.map((item) => {\n                    if (item.order.id == id) item.order.pay_status = 1;\n                    return item;\n                });\n            });\n        },\n        submit(formName) {\n            this.$refs[formName].validate((valid) => {\n                if (valid) {\n                    this.mode == \"address\"\n                        ? updateOrderAddress(this.order_id, this.address_form.address_id).then(() => {\n                              this.$message({\n                                  message: \"修改地址成功\",\n                                  type: \"success\",\n                              });\n\n                              const list = this.addressList.filter(\n                                  (item) => item.id == this.address_form.address_id\n                              )[0];\n                              if (list) {\n                                  const { province, city, area, address, contact_name, contact_phone } = list;\n                                  const actual_address = province + \" \" + city + \" \" + area + \" \" + address;\n                                  this.data.shipAddress.actual_address = actual_address;\n                                  this.data.shipAddress.actual_contact = contact_name;\n                                  this.data.shipAddress.actual_phone = contact_phone;\n                              }\n                              this.close();\n                          })\n                        : updateOrderRemark(this.order_id, this.remark_form.remark).then(() => {\n                              this.$message({\n                                  message: \"修改备注成功\",\n                                  type: \"success\",\n                              });\n                              this.data.order.remark = this.remark_form.remark;\n                              this.close();\n                          });\n                }\n            });\n        },\n    },\n    mounted() {\n        if (this.id) this.load();\n    },\n};\n</script>\n<style lang=\"less\">\n@import \"../assets/css/order_detail.less\";\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./order_detail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./order_detail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./order_detail.vue?vue&type=template&id=f74099c8&\"\nimport script from \"./order_detail.vue?vue&type=script&lang=js&\"\nexport * from \"./order_detail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./order_detail.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}