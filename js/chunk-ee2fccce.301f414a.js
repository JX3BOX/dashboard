(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ee2fccce"],{4208:function(t,a,r){"use strict";r.r(a);var e=function(){var t=this,a=t.$createElement,r=t._self._c||a;return r("div",{staticClass:"m-dashboard m-dashboard-avatar"},[r("div",{staticClass:"u-preview"},[r("img",{staticClass:"u-avatar u-avatar-l",attrs:{src:t.avatar}})]),r("el-upload",{staticClass:"u-upload",attrs:{drag:"",action:t.upload_url,"with-credentials":"","on-success":t.success,"on-error":t.fail,accept:"image/png,image/gif,image/jpeg"}},[r("i",{staticClass:"el-icon-upload"}),r("div",{staticClass:"el-upload__text"},[t._v(" 将文件拖到此处，或"),r("em",[t._v("点击上传")]),r("br"),r("span",{staticClass:"u-tip"},[t._v("只能上传jpg/png/gif文件")])])]),r("p",{staticClass:"u-btng"},[r("el-button",{attrs:{type:"primary"},on:{click:t.submit}},[t._v("确认")]),r("el-button",{on:{click:t.reset}},[t._v("重置")])],1)],1)},n=[],s=r("ee8f"),u=r("46e8"),i=s["JX3BOX"].__server,o={name:"avatar",props:[],data:function(){return{avatar:"",bak:"",upload_url:i+"upload/avatar",path:""}},computed:{},methods:{success:function(t){this.$message({message:"上传成功",type:"success"}),this.avatar=s["Utils"].showAvatar(t.data.list[0],"l"),this.path=t.data.list[0]},fail:function(t){this.$message.error("上传失败,网络异常或非法请求")},reset:function(){this.avatar=this.bak},submit:function(){var t=this;Object(u["l"])({uid:s["User"].getInfo().uid,path:this.path}).then((function(a){s["User"].refresh("avatar",t.path),t.$message({message:"头像更新成功",type:"success"})}))}},mounted:function(){this.avatar=s["Utils"].showAvatar(s["User"].getInfo().avatar_origin,"l"),this.bak=this.avatar}},c=o,d=(r("bfad"),r("2877")),f=Object(d["a"])(c,e,n,!1,null,null,null);a["default"]=f.exports},"46e8":function(t,a,r){"use strict";r.d(a,"g",(function(){return s})),r.d(a,"c",(function(){return u})),r.d(a,"m",(function(){return i})),r.d(a,"o",(function(){return o})),r.d(a,"f",(function(){return c})),r.d(a,"l",(function(){return d})),r.d(a,"n",(function(){return f})),r.d(a,"i",(function(){return v})),r.d(a,"a",(function(){return l})),r.d(a,"b",(function(){return p})),r.d(a,"h",(function(){return h})),r.d(a,"k",(function(){return _})),r.d(a,"d",(function(){return b})),r.d(a,"e",(function(){return m})),r.d(a,"j",(function(){return g}));var e=r("2777"),n=r("64c7");function s(t){return e["a"].get(n["__server"]+"user/info",{params:{uid:t}})}function u(t){return e["a"].get(n["__server"]+"dashboard/nickname/check",{params:{name:t}})}function i(t){return e["a"].post(n["__server"]+"dashboard/nickname/update",{name:t})}function o(t){return e["a"].post(n["__server"]+"dashboard/profile/update",t)}function c(){return e["a"].get(n["__server"]+"user/profile").then((function(t){return t.data.data}))}function d(t){return e["a"].post(n["__server"]+"dashboard/avatar/update",t)}function f(t){return e["a"].post(n["__server"]+"dashboard/password/update",t)}function p(t){return e["a"].get(n["__server"]+"dashboard/email/check",{params:{uid:t}})}function l(t){return e["a"].get(n["__server"]+"account/has",{params:{user_login:t}})}function h(t){return e["a"].post(n["__server"]+"dashboard/email/bind",t)}function v(t){return e["a"].get(n["__server"]+"dashboard/email/verify",{params:{uid:t}})}function _(t){return e["a"].post(n["__server"]+"dashboard/oauth/unbind",t)}function b(t){return e["a"].post(n["__server"]+"dashboard/oauth/check",t)}function m(){return e["a"].get(n["__server"]+"dashboard/config")}function g(t){return e["a"].post(n["__server"]+"dashboard/config",t)}},bfad:function(t,a,r){"use strict";var e=r("d38b"),n=r.n(e);n.a},d38b:function(t,a,r){}}]);
//# sourceMappingURL=chunk-ee2fccce.301f414a.js.map