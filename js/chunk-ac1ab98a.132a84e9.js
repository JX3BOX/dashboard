(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ac1ab98a"],{"04d1":function(t,e,a){var n=a("342f"),r=n.match(/firefox\/(\d+)/i);t.exports=!!r&&+r[1]},1645:function(t){t.exports=JSON.parse('{"default":{"name":"default","style":"square","files":{"xs":{"w":48,"width":60,"file":"default-xs.gif"},"s":{"w":68,"width":84,"file":"default-s.gif"},"m":{"w":108,"width":136,"file":"default-m.png"},"l":{"w":180,"width":224,"file":"default-l.png"},"xl":{"w":240,"width":300,"file":"default-xl.png"}}},"flower_1":{"name":"flower_1","style":"circle","files":{"xs":{"w":48,"width":60,"file":"flower_1-xs.png"},"s":{"w":68,"width":84,"file":"flower_1-s.png"},"m":{"w":108,"width":136,"file":"flower_1-m.png"},"l":{"w":180,"width":224,"file":"flower_1-l.png"},"xl":{"w":240,"width":300,"file":"flower_1-xl.png"}}}}')},4208:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("uc",{staticClass:"m-dashboard-avatar"},[a("div",{staticClass:"m-profile-avatar"},[a("div",{staticClass:"m-profile-avatar-primary"},[a("el-upload",{staticClass:"u-upload",attrs:{drag:"",accept:"image/png, image/gif, image/jpeg","on-change":t.upload,action:"upload/avatar","auto-upload":!1}},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"点击上传，只能上传jpg/png/gif文件",placement:"top-start"}},[a("div",{staticClass:"u-avatar"},[a("img",{staticClass:"u-avatar u-avatar-l",attrs:{src:t._f("showAvatar")(t.avatar)}})])])],1),a("p",{staticClass:"u-btng"},[a("el-button",{attrs:{type:"primary"},on:{click:t.submit}},[t._v("确认")]),a("el-button",{on:{click:t.reset}},[t._v("重置")])],1)],1),a("div",{staticClass:"m-profile-avatar-frame"},[a("el-tabs",{attrs:{type:"card"},model:{value:t.tabActivate,callback:function(e){t.tabActivate=e},expression:"tabActivate"}},[a("el-tab-pane",{staticClass:"m-profile-tab",attrs:{label:"头像框",name:"0"}},[a("h3",{staticClass:"u-title"},[t._v(" 自定义头像框 "),a("span",{staticClass:"u-limit",class:{on:t.isVIP}},[t._v(" ( "),a("i",{class:t.isVIP?"el-icon-unlock":"el-icon-lock"}),t._v("仅"),a("a",{attrs:{href:"/vip/premium?from=dashboard_avatar",target:"_blank"}},[t._v("高级/专业版")]),t._v("账户适用 ) ")])]),t.frames?a("div",{staticClass:"u-list"},[a("li",{staticClass:"u-item",class:{on:!t.frame},on:{click:function(e){return t.selectFrame("")}}},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"无边框",placement:"top","open-delay":200}},[a("div",[a("img",{directives:[{name:"show",rawName:"v-show",value:!t.frame,expression:"!frame"}],staticClass:"u-pic",attrs:{src:t._f("showSmallAvatar")(t.avatar)}}),a("i",{staticClass:"u-frame u-frame-none"})])])],1),t._l(t.frames,(function(e,n){return a("li",{key:n,staticClass:"u-item",class:{on:n==t.frame},on:{click:function(a){return t.selectFrame(e)}}},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.desc,placement:"top","open-delay":300}},[a("div",{class:{"u-blocked":!e.status}},[a("img",{directives:[{name:"show",rawName:"v-show",value:n==t.frame,expression:"name == frame"}],staticClass:"u-pic isCircle",attrs:{src:t._f("showSmallAvatar")(t.avatar)}}),a("i",{staticClass:"u-frame"},[a("img",{attrs:{src:t.showFrame(e.name)}})])])])],1)}))],2):t._e(),a("div",{staticClass:"u-tip"},[a("i",{staticClass:"el-icon-warning-outline"}),t._v(" 「限定头像框」仅在指定时间段可选择激活。 ")])])],1)],1)])])},r=[],i=a("ade3"),o=(a("d81d"),a("b0c0"),a("e9c4"),a("4ec9"),a("d3b7"),a("3ca3"),a("ddb0"),a("4de4"),a("159b"),a("b64b"),a("4e82"),a("7db0"),a("99af"),a("b547")),s=a("46e8"),c=a("aa38"),u=a("c9d2"),f=a("85e4"),l=a("1645"),d=a("65c2"),v=a("2ef0"),h={name:"avatar",props:[],data:function(){return{bak:"",avatar:"",frame:"",isVIP:!1,uid:u["a"].getInfo().uid,frames:l,tabActivate:"0",decorationJson:{},decoration:[],decorationActivate:null,originalActivateName:null,selectAll:[],noDecoration:!1}},computed:{data:function(){return{user_avatar:this.avatar,user_avatar_frame:this.frame}}},methods:{upload:function(t,e){var a=this,n=new FormData,r=t.raw;n.append("avatar",r),Object(s["m"])(n).then((function(t){a.$message({message:"上传成功",type:"success"}),a.avatar=t.data.data[0]}))},reset:function(){this.avatar=this.bak},submit:function(){var t=this;this.isVIP||(this.frame&&this.$notify({title:"头像框未生效",message:"头像框仅高级/专业账号可用",type:"warning"}),this.frame=""),Object(s["j"])(this.data).then((function(e){u["a"].refresh("avatar",t.avatar),t.$message({message:"头像更新成功",type:"success"})}))},decorationSubmit:function(){var t=this,e=this.decorationActivate,a=e?this.decoration[e].val:"",n=Object(v["flatten"])(this.decoration.map((function(t){return t.list}))),r=this.getActivate(),i=n.map((function(t){return{val:t.val,using:t.using,type:t.type}}));Object(c["d"])(i).then((function(e){var n={name:a,type:r};a||(n.name=!1),localStorage.setItem("decoration_all",JSON.stringify(n)),sessionStorage.removeItem("decoration_me"+t.uid),sessionStorage.removeItem("decoration_sidebar"+t.uid),sessionStorage.removeItem("decoration_calendar"),sessionStorage.removeItem("decoration_atcard"+t.uid),t.$message({message:"主题更新成功",type:"success"})}))},formattingData:function(t,e){for(var a=this,n={"无主题":[]},r=[],o=this,s=[{name:"atcard",text:"个人名片",sort:2},{name:"homebg",text:"主页风格",sort:3},{name:"sidebar",text:"侧边栏主题",sort:4},{name:"calendar",text:"首页日历",sort:5}],c=function(r){var i=t[r],o=s.find((function(t){return t.name==i.type}));o&&(i.sort=o.sort,n[i[e]]?n[i[e]].push(i):n[i[e]]=[i],i.using&&(a.originalActivateName=i[e]))},u=0;u<t.length;u++)c(u);var f=function(t){return function(e,a){return e[t]-a[t]}},l=function(t,e){var a=new Map;return t.filter((function(t){return!a.has(t[e])&&a.set(t[e],1)}))};return Object.keys(n).forEach((function(t,a){var s;0!==a&&t==o.originalActivateName&&(o.decorationActivate=a),r.push((s={},Object(i["a"])(s,e,t),Object(i["a"])(s,"list",l(n[t],"type").sort(f("sort"))),s))})),r},loadFrames:function(){var t=this;Object(s["d"])().then((function(e){t.frames=e.data})),Object(c["b"])().then((function(e){sessionStorage.setItem("decoration_json",JSON.stringify(e.data)),t.decorationJson=e.data,Object(c["a"])().then((function(e){var a=e.data.data.filter((function(t){return""!=t.type}));t.decoration=t.formattingData(a,"val"),t.selectAllInit()}))}))},showFrame:function(t){return d["__imgPath"]+"avatar/images/".concat(t,"/").concat(t,".svg")},selectFrame:function(t){t?t.status&&(this.frame=t.name):this.frame=""},init:function(){var t=this;this.loadFrames(),u["a"].isVIP().then((function(e){t.isVIP=e})),this.avatar=this.bak=u["a"].getInfo().avatar_origin,Object(s["f"])(this.uid).then((function(e){t.frame=e.data.data.user_avatar_frame||""}))},decorationStatus:function(t,e,a){if("homebanner"!=t.type)if(1==t.using?t.using=0:t.using=1,a!=this.decorationActivate){for(var n=this.decoration[this.decorationActivate]?this.decoration[this.decorationActivate].list:[],r=0;r<n.length;r++)n[r].using=0;this.selectAll[this.decorationActivate]=!1,this.decorationActivate=a}else{for(var i=this.decoration[a].list,o=!1,s=!0,c=0;c<i.length;c++)i[c].using&&"homebanner"!=i[c].type?o=!0:s=!1;this.decorationActivate=o?a:null,this.selectAll[a]=s}},getActivate:function(){for(var t=this.decorationActivate,e=[],a=t?this.decoration[t].list:[],n=0;n<a.length;n++)a[n].using&&e.push(a[n].type);return e},selectAllInit:function(){var t=this.decorationActivate;if(null!=t){for(var e=!0,a=this.decoration[t].list,n=0;n<a.length;n++)a[n].using||(e=!1);this.selectAll[t]=e}else this.selectAll[0]=!0},selectAllChange:function(t,e){this.decorationActivate=t?e:null;for(var a=[],n=0;n<this.selectAll.length;n++)n!=e?a.push(!1):a.push(t);for(var r=this.decoration,i=0;i<r.length;i++)for(var o=r[i].list,s=0;s<o.length;s++)o[s].using=i===e&&t?1:0;this.$set(this,"decoration",r),this.selectAll=a}},filters:{showAvatar:function(t){return Object(f["showAvatar"])(t,480,!1)},showSmallAvatar:function(t){return Object(f["showAvatar"])(t,136,!1)},showDecoration:function(t){return d["__imgPath"]+"decoration/images/".concat(t.val,"/").concat(t.type,"_preview.png")},showDecorationName:function(t){var e=[{name:"homebanner",text:"资料卡(默认)"},{name:"atcard",text:"个人名片"},{name:"homebg",text:"主页风格"},{name:"sidebar",text:"侧边栏主题"},{name:"calendar",text:"首页日历"}],a=e.find((function(e){return e.name==t}));return a?a.text:"无"}},created:function(){this.init()},components:{uc:o["a"]}},m=h,p=(a("bfad"),a("2877")),b=Object(p["a"])(m,n,r,!1,null,null,null);e["default"]=b.exports},"46e8":function(t,e,a){"use strict";a.d(e,"l",(function(){return u})),a.d(e,"e",(function(){return c})),a.d(e,"j",(function(){return f})),a.d(e,"k",(function(){return h})),a.d(e,"h",(function(){return g})),a.d(e,"a",(function(){return p})),a.d(e,"b",(function(){return m})),a.d(e,"g",(function(){return b})),a.d(e,"i",(function(){return x})),a.d(e,"c",(function(){return w})),a.d(e,"m",(function(){return l})),a.d(e,"d",(function(){return d})),a.d(e,"f",(function(){return v}));var n=a("41cb"),r=a("bc3a"),i=a.n(r),o=a("65c2"),s=Object(n["a"])("server",{proxy:!1});function c(){return Object(n["b"])().get("/api/cms/user/my/profile")}function u(t){return Object(n["b"])().put("/api/cms/user/my/profile",t)}function f(t){return Object(n["b"])().put("/api/cms/user/my/avatar",t)}function l(t){return Object(n["b"])().post("/api/cms/upload/avatar",t)}function d(){var t=o["__imgPath"]+"avatar/index.json";return i.a.get(t)}function v(t){return Object(n["b"])().get("/api/cms/user/".concat(t,"/info"))}function h(t){return s.post("profile/password",t)}function m(){return s.get("profile/email/check")}function p(t){return s.get("profile/email/available",{params:{user_email:t}})}function b(t){return s.post("profile/email/bind",t)}function g(){return s.post("profile/email/verify")}function w(){return Object(n["b"])().get("/api/cms/account/oauth/status")}function x(t){return Object(n["b"])({popType:"alert"}).delete("/api/cms/account/oauth/unbind/".concat(t))}},"4e82":function(t,e,a){"use strict";var n=a("23e7"),r=a("e330"),i=a("59ed"),o=a("7b0b"),s=a("07fa"),c=a("083a"),u=a("577e"),f=a("d039"),l=a("addb"),d=a("a640"),v=a("04d1"),h=a("d998"),m=a("2d00"),p=a("512ce"),b=[],g=r(b.sort),w=r(b.push),x=f((function(){b.sort(void 0)})),y=f((function(){b.sort(null)})),_=d("sort"),A=!f((function(){if(m)return m<70;if(!(v&&v>3)){if(h)return!0;if(p)return p<603;var t,e,a,n,r="";for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:a=3;break;case 68:case 71:a=4;break;default:a=2}for(n=0;n<47;n++)b.push({k:e+n,v:a})}for(b.sort((function(t,e){return e.v-t.v})),n=0;n<b.length;n++)e=b[n].k.charAt(0),r.charAt(r.length-1)!==e&&(r+=e);return"DGBEFHACIJK"!==r}})),j=x||!y||!_||!A,k=function(t){return function(e,a){return void 0===a?-1:void 0===e?1:void 0!==t?+t(e,a)||0:u(e)>u(a)?1:-1}};n({target:"Array",proto:!0,forced:j},{sort:function(t){void 0!==t&&i(t);var e=o(this);if(A)return void 0===t?g(e):g(e,t);var a,n,r=[],u=s(e);for(n=0;n<u;n++)n in e&&w(r,e[n]);l(r,k(t)),a=r.length,n=0;while(n<a)e[n]=r[n++];while(n<u)c(e,n++);return e}})},"4ec9":function(t,e,a){a("6f48")},"4fad":function(t,e,a){var n=a("d039"),r=a("861d"),i=a("c6b6"),o=a("d86b"),s=Object.isExtensible,c=n((function(){s(1)}));t.exports=c||o?function(t){return!!r(t)&&((!o||"ArrayBuffer"!=i(t))&&(!s||s(t)))}:s},"512ce":function(t,e,a){var n=a("342f"),r=n.match(/AppleWebKit\/(\d+)\./);t.exports=!!r&&+r[1]},6566:function(t,e,a){"use strict";var n=a("9bf2").f,r=a("7c73"),i=a("6964"),o=a("0366"),s=a("19aa"),c=a("2266"),u=a("7dd0"),f=a("2626"),l=a("83ab"),d=a("f183").fastKey,v=a("69f3"),h=v.set,m=v.getterFor;t.exports={getConstructor:function(t,e,a,u){var f=t((function(t,n){s(t,v),h(t,{type:e,index:r(null),first:void 0,last:void 0,size:0}),l||(t.size=0),void 0!=n&&c(n,t[u],{that:t,AS_ENTRIES:a})})),v=f.prototype,p=m(e),b=function(t,e,a){var n,r,i=p(t),o=g(t,e);return o?o.value=a:(i.last=o={index:r=d(e,!0),key:e,value:a,previous:n=i.last,next:void 0,removed:!1},i.first||(i.first=o),n&&(n.next=o),l?i.size++:t.size++,"F"!==r&&(i.index[r]=o)),t},g=function(t,e){var a,n=p(t),r=d(e);if("F"!==r)return n.index[r];for(a=n.first;a;a=a.next)if(a.key==e)return a};return i(v,{clear:function(){var t=this,e=p(t),a=e.index,n=e.first;while(n)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete a[n.index],n=n.next;e.first=e.last=void 0,l?e.size=0:t.size=0},delete:function(t){var e=this,a=p(e),n=g(e,t);if(n){var r=n.next,i=n.previous;delete a.index[n.index],n.removed=!0,i&&(i.next=r),r&&(r.previous=i),a.first==n&&(a.first=r),a.last==n&&(a.last=i),l?a.size--:e.size--}return!!n},forEach:function(t){var e,a=p(this),n=o(t,arguments.length>1?arguments[1]:void 0);while(e=e?e.next:a.first){n(e.value,e.key,this);while(e&&e.removed)e=e.previous}},has:function(t){return!!g(this,t)}}),i(v,a?{get:function(t){var e=g(this,t);return e&&e.value},set:function(t,e){return b(this,0===t?0:t,e)}}:{add:function(t){return b(this,t=0===t?0:t,t)}}),l&&n(v,"size",{get:function(){return p(this).size}}),f},setStrong:function(t,e,a){var n=e+" Iterator",r=m(e),i=m(n);u(t,e,(function(t,e){h(this,{type:n,target:t,state:r(t),kind:e,last:void 0})}),(function(){var t=i(this),e=t.kind,a=t.last;while(a&&a.removed)a=a.previous;return t.target&&(t.last=a=a?a.next:t.state.first)?"keys"==e?{value:a.key,done:!1}:"values"==e?{value:a.value,done:!1}:{value:[a.key,a.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})}),a?"entries":"values",!a,!0),f(e)}}},"6d61":function(t,e,a){"use strict";var n=a("23e7"),r=a("da84"),i=a("e330"),o=a("94ca"),s=a("cb2d"),c=a("f183"),u=a("2266"),f=a("19aa"),l=a("1626"),d=a("861d"),v=a("d039"),h=a("1c7e"),m=a("d44e"),p=a("7156");t.exports=function(t,e,a){var b=-1!==t.indexOf("Map"),g=-1!==t.indexOf("Weak"),w=b?"set":"add",x=r[t],y=x&&x.prototype,_=x,A={},j=function(t){var e=i(y[t]);s(y,t,"add"==t?function(t){return e(this,0===t?0:t),this}:"delete"==t?function(t){return!(g&&!d(t))&&e(this,0===t?0:t)}:"get"==t?function(t){return g&&!d(t)?void 0:e(this,0===t?0:t)}:"has"==t?function(t){return!(g&&!d(t))&&e(this,0===t?0:t)}:function(t,a){return e(this,0===t?0:t,a),this})},k=o(t,!l(x)||!(g||y.forEach&&!v((function(){(new x).entries().next()}))));if(k)_=a.getConstructor(e,t,b,w),c.enable();else if(o(t,!0)){var O=new _,C=O[w](g?{}:-0,1)!=O,I=v((function(){O.has(1)})),S=h((function(t){new x(t)})),E=!g&&v((function(){var t=new x,e=5;while(e--)t[w](e,e);return!t.has(-0)}));S||(_=e((function(t,e){f(t,y);var a=p(new x,t,_);return void 0!=e&&u(e,a[w],{that:a,AS_ENTRIES:b}),a})),_.prototype=y,y.constructor=_),(I||E)&&(j("delete"),j("has"),b&&j("get")),(E||C)&&j(w),g&&y.clear&&delete y.clear}return A[t]=_,n({global:!0,constructor:!0,forced:_!=x},A),m(_,t),g||a.setStrong(_,t,b),_}},"6f48":function(t,e,a){"use strict";var n=a("6d61"),r=a("6566");n("Map",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),r)},aa38:function(t,e,a){"use strict";a.d(e,"a",(function(){return s})),a.d(e,"d",(function(){return c})),a.d(e,"b",(function(){return u})),a.d(e,"c",(function(){return f}));var n=a("41cb"),r=a("bc3a"),i=a.n(r),o=a("65c2");function s(t){return Object(n["b"])().get("/api/cms/user/decoration",{params:t})}function c(t){return Object(n["b"])().post("/api/cms/user/decoration",t)}function u(){var t=o["__imgPath"]+"decoration/index.json";return i.a.get(t)}function f(){return i.a.get("".concat(o["__dataPath"],"emotion/output/catalog.json"))}},ade3:function(t,e,a){"use strict";function n(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}a.d(e,"a",(function(){return n}))},b64b:function(t,e,a){var n=a("23e7"),r=a("7b0b"),i=a("df75"),o=a("d039"),s=o((function(){i(1)}));n({target:"Object",stat:!0,forced:s},{keys:function(t){return i(r(t))}})},bb2f:function(t,e,a){var n=a("d039");t.exports=!n((function(){return Object.isExtensible(Object.preventExtensions({}))}))},bfad:function(t,e,a){"use strict";a("d38b")},d38b:function(t,e,a){},d81d:function(t,e,a){"use strict";var n=a("23e7"),r=a("b727").map,i=a("1dde"),o=i("map");n({target:"Array",proto:!0,forced:!o},{map:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},d86b:function(t,e,a){var n=a("d039");t.exports=n((function(){if("function"==typeof ArrayBuffer){var t=new ArrayBuffer(8);Object.isExtensible(t)&&Object.defineProperty(t,"a",{value:8})}}))},d998:function(t,e,a){var n=a("342f");t.exports=/MSIE|Trident/.test(n)},f183:function(t,e,a){var n=a("23e7"),r=a("e330"),i=a("d012"),o=a("861d"),s=a("1a2d"),c=a("9bf2").f,u=a("241c"),f=a("057f"),l=a("4fad"),d=a("90e3"),v=a("bb2f"),h=!1,m=d("meta"),p=0,b=function(t){c(t,m,{value:{objectID:"O"+p++,weakData:{}}})},g=function(t,e){if(!o(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!s(t,m)){if(!l(t))return"F";if(!e)return"E";b(t)}return t[m].objectID},w=function(t,e){if(!s(t,m)){if(!l(t))return!0;if(!e)return!1;b(t)}return t[m].weakData},x=function(t){return v&&h&&l(t)&&!s(t,m)&&b(t),t},y=function(){_.enable=function(){},h=!0;var t=u.f,e=r([].splice),a={};a[m]=1,t(a).length&&(u.f=function(a){for(var n=t(a),r=0,i=n.length;r<i;r++)if(n[r]===m){e(n,r,1);break}return n},n({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:f.f}))},_=t.exports={enable:y,fastKey:g,getWeakData:w,onFreeze:x};i[m]=!0}}]);
//# sourceMappingURL=chunk-ac1ab98a.132a84e9.js.map