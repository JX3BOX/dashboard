(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2c7dce86"],{1399:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"m-dashboard m-dashboard-work m-dashboard-fav"},[a("h2",{staticClass:"u-title"},[t._v("剑三小册")]),a("el-input",{staticClass:"m-dashboard-work-search",attrs:{placeholder:"请输入小册标题搜索内容"},on:{change:function(e){return t.page_change(1)}},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}},[a("template",{slot:"prepend"},[t._v("关键词")]),a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:function(e){return t.page_change(1)}},slot:"append"})],2),a("div",{staticClass:"m-dashboard-box"},[t.data.length?a("ul",{staticClass:"m-dashboard-box-list"},t._l(t.data,(function(e,n){return a("li",{key:n},[a("div",{staticClass:"c-content"},[a("i",{staticClass:"u-icon"},[e.public?a("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 12 16",width:"12",height:"16","aria-hidden":"true",fill:"#555","svg-inline":"",role:"presentation",focusable:"false",tabindex:"-1"}},[a("path",{attrs:{"fill-rule":"evenodd",d:"M4 9H3V8h1v1zm0-3H3v1h1V6zm0-2H3v1h1V4zm0-2H3v1h1V2zm8-1v12c0 .55-.45 1-1 1H6v2l-1.5-1.5L3 16v-2H1c-.55 0-1-.45-1-1V1c0-.55.45-1 1-1h10c.55 0 1 .45 1 1zm-1 10H1v2h2v-1h3v1h5v-2zm0-10H2v9h9V1z"}})]):a("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 12 16",width:"12",height:"16",fill:"#dbab09","svg-inline":"",role:"presentation",focusable:"false",tabindex:"-1"}},[a("path",{attrs:{"fill-rule":"evenodd",d:"M4 13H3v-1h1v1zm8-6v7c0 .55-.45 1-1 1H1c-.55 0-1-.45-1-1V7c0-.55.45-1 1-1h1V4c0-2.2 1.8-4 4-4s4 1.8 4 4v2h1c.55 0 1 .45 1 1zM3.8 6h4.41V4c0-1.22-.98-2.2-2.2-2.2-1.22 0-2.2.98-2.2 2.2v2H3.8zM11 7H2v7h9V7zM4 8H3v1h1V8zm0 2H3v1h1v-1z"}})])]),a("a",{staticClass:"u-title",attrs:{target:"_blank",href:t.getLink(e.post_type,e.post_id)}},[t._v(t._s(e.title||"无标题"))]),a("div",{staticClass:"u-desc"},[e.updated?a("span",[t._v(" | 最后更新: "+t._s(t._f("dateFormat")(1e3*e.updated)))]):t._e()]),a("el-button-group",{staticClass:"u-action"},[a("el-button",{attrs:{size:"mini",icon:"el-icon-edit",title:"编辑"},on:{click:function(a){return t.post_edit(e.id)}}}),a("el-button",{attrs:{size:"mini",icon:"el-icon-delete",title:"删除"},on:{click:function(a){return t.post_del(e.id)}}})],1)],1)])})),0):a("el-alert",{staticClass:"m-dashboard-box-null",attrs:{title:"没有找到相关条目",type:"info",center:"","show-icon":""}}),a("el-pagination",{staticClass:"m-dashboard-box-pages",attrs:{background:"","page-size":t.limit,"hide-on-single-page":!0,"current-page":t.page,layout:"total, prev, pager, next, jumper",total:t.total},on:{"current-change":t.page_change}})],1)],1)},c=[],o=(a("ac1f"),a("841c"),a("6c2b")),i=a("85e4"),s=a("fb92"),l={name:"collection",props:[],data:function(){return{type:"all",data:[],total:1,page:1,limit:9,search:""}},computed:{},methods:{page_change:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;Object(o["c"])({keyword:this.search,page:e,limit:this.limit}).then((function(e){e=e.data,t.data=200===e.code?e.data.data:[],t.total=200===e.code?e.data.total:0}))},post_edit:function(t){location.href="./publish/#/collection/"+t},post_del:function(t){var e=this;this.$alert("确定要删除这篇小册吗？","确认信息",{confirmButtonText:"确定",callback:function(a){Object(o["d"])(t).then((function(t){t=t.data,200===t.code?(e.$message({type:"success",message:"删除成功"}),e.page_change(e.page)):e.$message({type:"warning",message:t.message})}))}})},getLink:i["getLink"],getTypeLabel:i["getTypeLabel"]},filters:{dateFormat:function(t){return Object(s["a"])(new Date(t))}},mounted:function(){this.page_change()}},r=l,d=(a("1ae8"),a("2877")),u=Object(d["a"])(r,n,c,!1,null,"545ad20d",null);e["default"]=u.exports},"1ae8":function(t,e,a){"use strict";var n=a("eec4"),c=a.n(n);c.a},"6c2b":function(t,e,a){"use strict";a.d(e,"b",(function(){return o})),a.d(e,"a",(function(){return i})),a.d(e,"c",(function(){return s})),a.d(e,"e",(function(){return l})),a.d(e,"d",(function(){return r}));var n=a("2777"),c=a("4328");function o(){return Object(n["b"])({method:"GET",url:"/api/post/collection/legal_tags",headers:{Accept:"application/prs.helper.v2+json"}})}function i(t){return Object(n["b"])({method:"GET",url:"/api/post/collection/".concat(t),headers:{Accept:"application/prs.helper.v2+json"}})}function s(t){return Object(n["b"])({method:"GET",url:"/api/my/post/collections",headers:{Accept:"application/prs.helper.v2+json"},params:t})}function l(t){return Object(n["b"])({method:"POST",url:"/api/post/collection",headers:{Accept:"application/prs.helper.v2+json"},data:c.stringify({action:t.id?"update":"create",collection:t})})}function r(t){return t?Object(n["b"])({method:"PUT",url:"/api/post/collection/remove",headers:{Accept:"application/prs.helper.v2+json"},data:c.stringify({id:t})}):null}},eec4:function(t,e,a){},fb92:function(t,e,a){"use strict";a("99af");function n(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-",a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=t.getFullYear(),o=t.getMonth()+1,i=t.getDate(),s=a?"".concat(n).concat(e).concat(c(o)).concat(e).concat(c(i)):"".concat(n).concat(e).concat(o).concat(e).concat(i);return s}function c(t){return t<10?"0"+t:t}e["a"]=n}}]);
//# sourceMappingURL=chunk-2c7dce86.c9686042.js.map