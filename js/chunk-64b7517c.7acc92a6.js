(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-64b7517c"],{4039:function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("uc",{staticClass:"m-dashboard-honor m-dashboard-skin",attrs:{icon:"el-icon-brush",title:"主题装扮","tab-list":t.tabList},scopedSlots:t._u([{key:"header",fn:function(){return[e("a",{staticClass:"u-link el-button el-button--default el-button--mini is-round is-plain",attrs:{href:"/vip/mall?category=virtual",target:"_blank"}},[e("i",{staticClass:"el-icon-shopping-cart-2"}),t._v(" 前往获取装扮")])]},proxy:!0}])},[e("div",{staticClass:"m-honor"},[e("div",{staticClass:"m-honor-left"},[e("div",{staticClass:"u-header-info"},[e("Avatar",{staticClass:"u-author-avatar",attrs:{uid:t.uid,url:t.avatar,frame:t.avatar_frame}}),e("div",{staticClass:"u-author-info"},[e("span",{staticClass:"u-name"},[e("span",{on:{click:function(a){return t.copyData(t.data.display_name||"匿名")}}},[t._v(t._s(t.data.display_name||"匿名"))]),t._v(" "),e("span",{staticClass:"u-uid",on:{click:function(a){return t.copyData(t.data.ID||0)}}},[t._v("(UID : "+t._s(t.data.ID||0)+")")])]),e("div",{staticClass:"u-tips"},[e("el-tooltip",{attrs:{content:"当前经验 "+(t.data.experience||0),placement:"top"}},[e("span",{staticClass:"u-level",class:"lv-"+t.level,style:{backgroundColor:t.showLevelColor(t.level)}},[t._v("Lv."+t._s(t.level))])]),t.isPRO||t.isVIP?e("el-tooltip",{attrs:{content:t.vipTypeTitle,placement:"top"}},[e("span",{staticClass:"u-vip",attrs:{target:"_blank"}},[e("i",{staticClass:"u-icon vip"},[t._v(t._s(t.vipType))])])]):t._e(),t.isSuperAuthor?e("el-tooltip",{attrs:{content:"签约作者",placement:"top"}},[e("span",{staticClass:"u-superauthor"},[e("i",{staticClass:"u-icon superauthor"},[t._v("签约作者")])])]):t._e()],1),t.isSelect.isCustomize?t._e():e("div",{staticClass:"u-honor"},[t._v(t._s(t.isSelect.val))])])],1)]),e("div",{staticClass:"m-honor-right"},t._l(t.list,(function(a,n){return e("div",{key:n,staticClass:"u-btn",class:a.using?"on":"",on:{click:function(e){return t.selectChange(a)}}},[t._v(" "+t._s(a.val)+" ")])})),0)]),e("div",{staticClass:"m-btn"},[e("el-button",{attrs:{type:"primary"},on:{click:t.submit}},[t._v("确认")]),e("el-button",{on:{click:t.reset}},[t._v("重置")])],1)])},i=[],s=(e("4de4"),e("d3b7"),e("7db0"),e("b547")),o=e("46c1"),r=e("c9d2"),c=e("8e44"),u=e("65c2"),l=e("aa38"),d=e("2ef0"),f={name:"honor",props:[],data:function(){return{tabList:o["c"],isVIP:!1,info:{uid:r["a"].getInfo().uid,name:"匿名",user_avatar:"https://img.jx3box.com/image/common/avatar.png",user_avatar_frame:"default",bio:"-",sign:0},list:[],listBak:[],isSelect:{},isSelectBak:{}}},computed:{uid:function(){return r["a"].getInfo().uid},data:function(){return this.info},avatar:function(){return this.data.user_avatar||""},avatar_frame:function(){return this.data.user_avatar_frame||""},isPRO:function(){var t;return null===(t=this.data)||void 0===t?void 0:t.is_pro},isSuperAuthor:function(){var t;return!(null===(t=this.data)||void 0===t||!t.sign)},vipType:function(){return this.isPRO?"PRO":"PRE"},vipTypeTitle:function(){return this.isPRO?"专业版会员用户":"高级版会员用户"},level:function(){var t;return r["a"].getLevel((null===(t=this.data)||void 0===t?void 0:t.experience)||0)}},methods:{loadUserInfo:function(){var t=this;Object(c["b"])().then((function(a){a.data.data&&(t.info=a.data.data)}))},loadDecoration:function(){var t=this;Object(l["a"])({type:"honor"}).then((function(a){var e=a.data.data,n=e.filter((function(t){return 1==t.using}));t.list=e||[];var i={type:"honor_customize",val:"不佩戴称号",using:n.length?0:1,isCustomize:!0};n.length?t.isSelect=n[0]:t.isSelect=i,t.list.unshift(i),t.isSelectBak=Object(d["cloneDeep"])(t.isSelect),t.listBak=Object(d["cloneDeep"])(t.list)}))},selectChange:function(t){var a=this.list,e=a.find((function(t){return 1==t.using}));e&&(e.using=0),t.using=1,this.isSelect=t},reset:function(){this.$set(this,"list",Object(d["cloneDeep"])(this.listBak)),this.$set(this,"isSelect",Object(d["cloneDeep"])(this.isSelectBak))},showLevelColor:function(t){return u["__userLevelColor"][t]},submit:function(){var t=this;Object(l["e"])(this.list).then((function(a){t.$message({message:"称号更新成功",type:"success"})}))}},mounted:function(){this.loadUserInfo(),this.loadDecoration()},components:{uc:s["a"]}},p=f,v=(e("5ad2"),e("2877")),h=Object(v["a"])(p,n,i,!1,null,null,null);a["default"]=h.exports},"4da4":function(t,a,e){},"5ad2":function(t,a,e){"use strict";e("4da4")},aa38:function(t,a,e){"use strict";e.d(a,"a",(function(){return r})),e.d(a,"e",(function(){return c})),e.d(a,"b",(function(){return u})),e.d(a,"c",(function(){return l})),e.d(a,"d",(function(){return d})),e.d(a,"f",(function(){return f}));e("99af");var n=e("41cb"),i=e("bc3a"),s=e.n(i),o=e("65c2");function r(t){return Object(n["b"])().get("/api/cms/user/decoration",{params:t})}function c(t){return Object(n["b"])().post("/api/cms/user/decoration",t)}function u(){var t=o["__imgPath"]+"decoration/index.json";return s.a.get(t)}function l(){return s.a.get("".concat(o["__dataPath"],"emotion/output/catalog.json"))}function d(t,a){return Object(n["b"])().post("/api/cms/user/decoration/check-suit/".concat(t,"/").concat(a,"/for/avatar"))}function f(t){return Object(n["b"])().put("/api/cms/user/my/avatar-frame",t)}}}]);
//# sourceMappingURL=chunk-64b7517c.7acc92a6.js.map