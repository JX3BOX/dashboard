{"version":3,"sources":["webpack:///./src/views/honor.vue?2aab","webpack:///src/views/honor.vue","webpack:///./src/views/honor.vue?0803","webpack:///./src/views/honor.vue","webpack:///./src/views/honor.vue?f6b7","webpack:///./src/service/decoration.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","tabList","scopedSlots","_u","key","fn","_v","proxy","uid","avatar","avatar_frame","on","$event","copyData","data","display_name","_s","ID","experience","class","level","style","backgroundColor","showLevelColor","isPRO","isVIP","vipTypeTitle","vipType","_e","isSelect","isCustomize","val","_l","item","i","using","selectChange","submit","reset","staticRenderFns","name","props","info","user_avatar","user_avatar_frame","bio","sign","list","listBak","isSelectBak","computed","isSuperAuthor","methods","loadUserInfo","getMyInfo","loadDecoration","getDecoration","type","setDecoration","message","mounted","components","uc","component","params","$cms","get","post","getDecorationJson","url","__imgPath","axios","getEmotion","__dataPath","receive","user_id","updateAvatarFrame","put"],"mappings":"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","file":"js/chunk-64b7517c.5525176c.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('uc',{staticClass:\"m-dashboard-honor m-dashboard-skin\",attrs:{\"icon\":\"el-icon-brush\",\"title\":\"主题装扮\",\"tab-list\":_vm.tabList},scopedSlots:_vm._u([{key:\"header\",fn:function(){return [_c('a',{staticClass:\"u-link el-button el-button--default el-button--mini is-round is-plain\",attrs:{\"href\":\"/vip/mall?category=virtual\",\"target\":\"_blank\"}},[_c('i',{staticClass:\"el-icon-shopping-cart-2\"}),_vm._v(\" 前往获取装扮\")])]},proxy:true}])},[_c('div',{staticClass:\"m-honor\"},[_c('div',{staticClass:\"m-honor-left\"},[_c('div',{staticClass:\"u-header-info\"},[_c('Avatar',{staticClass:\"u-author-avatar\",attrs:{\"uid\":_vm.uid,\"url\":_vm.avatar,\"frame\":_vm.avatar_frame}}),_c('div',{staticClass:\"u-author-info\"},[_c('span',{staticClass:\"u-name\"},[_c('span',{on:{\"click\":function($event){return _vm.copyData(_vm.data.display_name || '匿名')}}},[_vm._v(_vm._s(_vm.data.display_name || \"匿名\"))]),_vm._v(\" \"),_c('span',{staticClass:\"u-uid\",on:{\"click\":function($event){return _vm.copyData(_vm.data.ID || 0)}}},[_vm._v(\"(UID : \"+_vm._s(_vm.data.ID || 0)+\")\")])]),_c('div',{staticClass:\"u-tips\"},[_c('el-tooltip',{attrs:{\"content\":(\"当前经验 \" + (_vm.data.experience || 0)),\"placement\":\"top\"}},[_c('span',{staticClass:\"u-level\",class:'lv-' + _vm.level,style:({ backgroundColor: _vm.showLevelColor(_vm.level) })},[_vm._v(\"Lv.\"+_vm._s(_vm.level))])]),(_vm.isPRO || _vm.isVIP)?_c('el-tooltip',{attrs:{\"content\":_vm.vipTypeTitle,\"placement\":\"top\"}},[_c('span',{staticClass:\"u-vip\",attrs:{\"target\":\"_blank\"}},[_c('i',{staticClass:\"u-icon vip\"},[_vm._v(_vm._s(_vm.vipType))])])]):_vm._e(),(_vm.isSuperAuthor)?_c('el-tooltip',{attrs:{\"content\":\"签约作者\",\"placement\":\"top\"}},[_c('span',{staticClass:\"u-superauthor\"},[_c('i',{staticClass:\"u-icon superauthor\"},[_vm._v(\"签约作者\")])])]):_vm._e()],1),(!_vm.isSelect.isCustomize)?_c('div',{staticClass:\"u-honor\"},[_vm._v(_vm._s(_vm.isSelect.val))]):_vm._e()])],1)]),_c('div',{staticClass:\"m-honor-right\"},_vm._l((_vm.list),function(item,i){return _c('div',{key:i,staticClass:\"u-btn\",class:item.using ? 'on' : '',on:{\"click\":function($event){return _vm.selectChange(item)}}},[_vm._v(\" \"+_vm._s(item.val)+\" \")])}),0)]),_c('div',{staticClass:\"m-btn\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.submit}},[_vm._v(\"确认\")]),_c('el-button',{on:{\"click\":_vm.reset}},[_vm._v(\"重置\")])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <uc class=\"m-dashboard-honor m-dashboard-skin\" icon=\"el-icon-brush\" title=\"主题装扮\" :tab-list=\"tabList\">\n        <template #header>\n            <a\n                class=\"u-link el-button el-button--default el-button--mini is-round is-plain\"\n                href=\"/vip/mall?category=virtual\"\n                target=\"_blank\"\n                ><i class=\"el-icon-shopping-cart-2\"></i> 前往获取装扮</a\n            >\n        </template>\n        <div class=\"m-honor\">\n            <div class=\"m-honor-left\">\n                <div class=\"u-header-info\">\n                    <Avatar class=\"u-author-avatar\" :uid=\"uid\" :url=\"avatar\" :frame=\"avatar_frame\" />\n                    <div class=\"u-author-info\">\n                        <span class=\"u-name\">\n                            <span @click=\"copyData(data.display_name || '匿名')\">{{ data.display_name || \"匿名\" }}</span\n                            >&nbsp;<span class=\"u-uid\" @click=\"copyData(data.ID || 0)\">(UID : {{ data.ID || 0 }})</span>\n                        </span>\n                        <div class=\"u-tips\">\n                            <el-tooltip :content=\"`当前经验 ${data.experience || 0}`\" placement=\"top\">\n                                <span\n                                    class=\"u-level\"\n                                    :class=\"'lv-' + level\"\n                                    :style=\"{ backgroundColor: showLevelColor(level) }\"\n                                    >Lv.{{ level }}</span\n                                >\n                            </el-tooltip>\n                            <el-tooltip :content=\"vipTypeTitle\" v-if=\"isPRO || isVIP\" placement=\"top\">\n                                <span class=\"u-vip\" target=\"_blank\">\n                                    <i class=\"u-icon vip\">{{ vipType }}</i>\n                                </span>\n                            </el-tooltip>\n                            <el-tooltip content=\"签约作者\" v-if=\"isSuperAuthor\" placement=\"top\">\n                                <span class=\"u-superauthor\">\n                                    <i class=\"u-icon superauthor\">签约作者</i>\n                                </span>\n                            </el-tooltip>\n                        </div>\n                        <div class=\"u-honor\" v-if=\"!isSelect.isCustomize\">{{ isSelect.val }}</div>\n                    </div>\n                </div>\n            </div>\n\n            <div class=\"m-honor-right\">\n                <div\n                    class=\"u-btn\"\n                    :class=\"item.using ? 'on' : ''\"\n                    v-for=\"(item, i) in list\"\n                    :key=\"i\"\n                    @click=\"selectChange(item)\"\n                >\n                    {{ item.val }}\n                </div>\n            </div>\n        </div>\n        <div class=\"m-btn\">\n            <el-button type=\"primary\" @click=\"submit\">确认</el-button>\n            <el-button @click=\"reset\">重置</el-button>\n        </div>\n    </uc>\n</template>\n\n<script>\nimport uc from \"@/components/uc.vue\";\nimport { themeTab } from \"@/assets/data/tabs.json\";\nimport User from \"@jx3box/jx3box-common/js/user\";\nimport { getMyInfo } from \"@/service/index.js\";\nimport { __userLevelColor, __imgPath } from \"@jx3box/jx3box-common/data/jx3box\";\nimport { getDecoration, setDecoration } from \"@/service/decoration\";\nimport { cloneDeep } from \"lodash\";\nexport default {\n    name: \"honor\",\n    props: [],\n    data: function () {\n        return {\n            tabList: themeTab,\n            isVIP: false,\n            info: {\n                uid: User.getInfo().uid,\n                name: \"匿名\",\n                user_avatar: \"https://img.jx3box.com/image/common/avatar.png\",\n                user_avatar_frame: \"default\",\n                bio: \"-\",\n                sign: 0,\n            },\n            list: [],\n            listBak: [],\n            isSelect: {},\n            isSelectBak: {},\n        };\n    },\n    computed: {\n        uid: function () {\n            return User.getInfo().uid;\n        },\n        data: function () {\n            return this.info;\n        },\n        avatar: function () {\n            return this.data.user_avatar || \"\";\n        },\n        avatar_frame: function () {\n            return this.data.user_avatar_frame || \"\";\n        },\n        isPRO: function () {\n            return this.data?.is_pro;\n        },\n        isSuperAuthor: function () {\n            return !!this.data?.sign;\n        },\n        vipType: function () {\n            return this.isPRO ? \"PRO\" : \"PRE\";\n        },\n        vipTypeTitle: function () {\n            return this.isPRO ? \"专业版会员用户\" : \"高级版会员用户\";\n        },\n        level: function () {\n            return User.getLevel(this.data?.experience || 0);\n        },\n    },\n    methods: {\n        loadUserInfo: function () {\n            getMyInfo().then((res) => {\n                if (res.data.data) {\n                    this.info = res.data.data;\n                }\n            });\n        },\n        loadDecoration() {\n            getDecoration({ type: \"honor\" }).then((data) => {\n                let res = data.data.data;\n                let filter = res.filter((item) => item.using == 1);\n                this.list = res || [];\n                let isCustomize = {\n                    type: \"honor_customize\",\n                    val: \"不佩戴称号\",\n                    using: filter.length ? 0 : 1,\n                    isCustomize: true,\n                };\n                if (filter.length) {\n                    this.isSelect = filter[0];\n                } else {\n                    this.isSelect = isCustomize;\n                }\n\n                this.list.unshift(isCustomize);\n                this.isSelectBak = cloneDeep(this.isSelect);\n                this.listBak = cloneDeep(this.list);\n            });\n        },\n        selectChange(item) {\n            let list = this.list;\n            let find = list.find((e) => e.using == 1);\n            if (find) find.using = 0;\n            item.using = 1;\n            this.isSelect = item;\n        },\n        reset() {\n            this.$set(this, \"list\", cloneDeep(this.listBak));\n            this.$set(this, \"isSelect\", cloneDeep(this.isSelectBak));\n        },\n        showLevelColor: function (level) {\n            return __userLevelColor[level];\n        },\n        submit() {\n            setDecoration(this.list).then((data) => {\n                this.$message({\n                    message: \"称号更新成功\",\n                    type: \"success\",\n                });\n            });\n        },\n    },\n    mounted: function () {\n        this.loadUserInfo();\n        this.loadDecoration();\n    },\n    components: {\n        uc,\n    },\n};\n</script>\n<style lang=\"less\">\n@import \"../assets/css/honor.less\";\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./honor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./honor.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./honor.vue?vue&type=template&id=2d6c3703&\"\nimport script from \"./honor.vue?vue&type=script&lang=js&\"\nexport * from \"./honor.vue?vue&type=script&lang=js&\"\nimport style0 from \"./honor.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./honor.vue?vue&type=style&index=0&lang=less&\"","import { $cms } from \"@jx3box/jx3box-common/js/https.js\";\nimport axios from \"axios\";\nimport { __imgPath, __dataPath } from \"@jx3box/jx3box-common/data/jx3box.json\";\nfunction getDecoration(params) {\n    return $cms().get(`/api/cms/user/decoration`, {\n        params,\n    });\n}\nfunction setDecoration(data) {\n    return $cms().post(`/api/cms/user/decoration`, data);\n}\nfunction getDecorationJson() {\n    let url = __imgPath + \"decoration/index.json\";\n    return axios.get(url);\n}\nfunction getEmotion() {\n    return axios.get(`${__dataPath}emotion/output/catalog.json`);\n}\nfunction receive(user_id, val) {\n    return $cms().post(`/api/cms/user/decoration/check-suit/${user_id}/${val}/for/avatar`);\n}\n\nfunction updateAvatarFrame(data) {\n    return $cms().put(\"/api/cms/user/my/avatar-frame\", data);\n}\nexport { getDecoration, setDecoration, getDecorationJson, getEmotion, receive, updateAvatarFrame };\n"],"sourceRoot":""}