{"version":3,"sources":["webpack:///./src/views/tasks.vue?9d8c","webpack:///./src/service/tasks.js","webpack:///src/views/tasks.vue","webpack:///./src/views/tasks.vue?19b7","webpack:///./src/views/tasks.vue","webpack:///./src/views/tasks.vue?7d1b"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_m","directives","name","rawName","value","expression","_l","item","index","key","attrs","task","task_icon","defaultTaskIcon","action_type_desc","task_url","_v","_s","task_detail","attr","attr_name","count","hasFinish","on","$event","checkFinish","id","staticRenderFns","getTasks","params","$pay","get","getCheckTasks","props","data","loading","list","experience","points","computed","watch","methods","loadTasks","is_limit_everyday","os_visible","then","finally","title","message","type","location","mounted","component"],"mappings":"kJAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,oBAAoB,CAACN,EAAIO,GAAG,GAAGH,EAAG,MAAM,CAACI,WAAW,CAAC,CAACC,KAAK,UAAUC,QAAQ,YAAYC,MAAOX,EAAW,QAAEY,WAAW,YAAYN,YAAY,gBAAgBN,EAAIa,GAAIb,EAAQ,MAAE,SAASc,EAAKC,GAAO,OAAOX,EAAG,MAAM,CAACY,IAAID,EAAMT,YAAY,UAAU,CAACF,EAAG,MAAM,CAACE,YAAY,QAAQW,MAAM,CAAC,IAAMH,EAAKI,KAAKC,WAAanB,EAAIoB,gBAAgB,IAAMN,EAAKI,KAAKG,oBAAoBjB,EAAG,MAAM,CAACE,YAAY,SAAS,CAACF,EAAG,MAAM,CAACE,YAAY,UAAU,CAACF,EAAG,IAAI,CAACE,YAAY,UAAUW,MAAM,CAAC,KAAOH,EAAKI,KAAKI,SAAS,OAAS,WAAW,CAACtB,EAAIuB,GAAGvB,EAAIwB,GAAGV,EAAKI,KAAKG,qBAAqBjB,EAAG,OAAO,CAACE,YAAY,UAAU,CAACN,EAAIuB,GAAG,IAAIvB,EAAIwB,GAAGV,EAAKI,KAAKO,aAAa,OAAOzB,EAAIa,GAAIC,EAAS,MAAE,SAASY,EAAKV,GAAK,OAAOZ,EAAG,OAAO,CAACY,IAAIA,EAAIV,YAAY,UAAU,CAACN,EAAIuB,GAAG,IAAIvB,EAAIwB,GAAGxB,EAAI2B,UAAUD,EAAKjB,OAAO,KAAKT,EAAIwB,GAAGE,EAAKE,OAAO,WAAU,KAAKxB,EAAG,MAAM,CAACE,YAAY,SAAS,CAACF,EAAG,YAAY,CAACa,MAAM,CAAC,KAAO,QAAQ,KAAOH,EAAKe,UAAY,UAAY,UAAU,SAAWf,EAAKe,UAAU,KAAOf,EAAKe,UAAa,gBAAmB,IAAIC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAO/B,EAAIgC,YAAYlB,EAAKI,KAAKe,OAAO,CAACjC,EAAIuB,GAAGvB,EAAIwB,GAAGV,EAAKe,UAAY,MAAQ,YAAY,UAAS,MACnuCK,EAAkB,CAAC,WAAa,IAAIlC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,KAAK,CAACE,YAAY,WAAW,CAACF,EAAG,IAAI,CAACE,YAAY,uBAAuBN,EAAIuB,GAAG,a,wBCC7L,SAASY,EAASC,GACd,OAAOC,iBAAOC,IAAP,qBAAiC,CACpCF,WAGR,SAASG,EAAcN,GACnB,OAAOI,iBAAOC,IAAP,6BAAiCL,EAAjC,kB,gBC0BI,GACfxB,aACA+B,SAEAC,gBACA,OACAC,WACAC,QACAhB,WACAiB,gBACAC,eAIAC,UACA1B,gBADA,WAEA,wDAGA2B,SACAC,SAEAC,UAFA,WAEA,WACA,gBACAd,GAAAe,oBAAAC,eACAC,MAAA,YACA,2BAEAC,SAAA,WACA,iBAIArB,YAbA,SAaAC,GAAA,WACAM,uBACA,uBACA,WACAe,WACAC,oBACAC,iBAEAC,mBAEA,WACAH,WACAC,kBACAC,sBAMAE,mBACA,mBCvF0Y,I,wBCQtYC,EAAY,eACd,EACA5D,EACAmC,GACA,EACA,KACA,KACA,MAIa,aAAAyB,E,6CCnBf","file":"js/chunk-d3a530c6.f24b0e55.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"m-credit m-tasks\"},[_vm._m(0),_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"m-tasks-list\"},_vm._l((_vm.list),function(item,index){return _c('div',{key:index,staticClass:\"u-item\"},[_c('img',{staticClass:\"u-img\",attrs:{\"src\":item.task.task_icon || _vm.defaultTaskIcon,\"alt\":item.task.action_type_desc}}),_c('div',{staticClass:\"u-box\"},[_c('div',{staticClass:\"u-info\"},[_c('a',{staticClass:\"u-title\",attrs:{\"href\":item.task.task_url,\"target\":\"_blank\"}},[_vm._v(_vm._s(item.task.action_type_desc))]),_c('span',{staticClass:\"u-desc\"},[_vm._v(\" \"+_vm._s(item.task.task_detail)+\" ∕ \"),_vm._l((item.attr),function(attr,key){return _c('span',{key:key,staticClass:\"u-attr\"},[_vm._v(\" \"+_vm._s(_vm.attr_name[attr.name])+\" +\"+_vm._s(attr.count)+\" \")])})],2)]),_c('div',{staticClass:\"u-btn\"},[_c('el-button',{attrs:{\"size\":\"small\",\"type\":item.hasFinish ? 'success' : 'warning',\"disabled\":item.hasFinish,\"icon\":item.hasFinish && 'el-icon-check' || ''},on:{\"click\":function($event){return _vm.checkFinish(item.task.id)}}},[_vm._v(_vm._s(item.hasFinish ? '已完成' : '接受任务'))])],1)])])}),0)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('h2',{staticClass:\"u-title\"},[_c('i',{staticClass:\"el-icon-coffee-cup\"}),_vm._v(\" 我的任务\")])}]\n\nexport { render, staticRenderFns }","import { $pay } from \"@jx3box/jx3box-common/js/https\";\n\nfunction getTasks(params) {\n    return $pay().get(`/api/personal/task`, {\n        params,\n    });\n}\nfunction getCheckTasks(id) {\n    return $pay().get(`/api/personal/task/${id}/check-status`);\n}\n\nexport { getTasks, getCheckTasks };\n","<template>\n    <div class=\"m-credit m-tasks\">\n        <h2 class=\"u-title\"><i class=\"el-icon-coffee-cup\"></i> 我的任务</h2>\n        <div class=\"m-tasks-list\" v-loading=\"loading\">\n            <div class=\"u-item\" v-for=\"(item, index) in list\" :key=\"index\">\n                <img class=\"u-img\" :src=\"item.task.task_icon || defaultTaskIcon\" :alt=\"item.task.action_type_desc\" />\n                <div class=\"u-box\">\n                    <div class=\"u-info\">\n                        <a class=\"u-title\" :href=\"item.task.task_url\" target=\"_blank\">{{ item.task.action_type_desc }}</a>\n                        <span class=\"u-desc\">\n                            {{item.task.task_detail}} ∕\n                            <span v-for=\"(attr, key) in item.attr\" :key=\"key\" class=\"u-attr\">\n                                {{ attr_name[attr.name] }} +{{ attr.count }}\n                            </span>\n                        </span>\n                    </div>\n                    <div class=\"u-btn\">\n                        <el-button\n                            size=\"small\"\n                            :type=\"item.hasFinish ? 'success' : 'warning'\"\n                            :disabled=\"item.hasFinish\"\n                            :icon=\"item.hasFinish && 'el-icon-check' || ''\"\n                            @click=\"checkFinish(item.task.id)\"\n                            >{{item.hasFinish ? '已完成' : '接受任务'}}</el-button\n                        >\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n<script>\nimport { getTasks, getCheckTasks } from \"@/service/tasks.js\";\nimport { __imgPath } from \"@jx3box/jx3box-common/data/jx3box.json\";\nexport default {\n    name: \"tasks\",\n    props: [],\n\n    data: function () {\n        return {\n            loading: false,\n            list: [],\n            attr_name: {\n                experience: \"经验\",\n                points: \"积分\",\n            },\n        };\n    },\n    computed: {\n        defaultTaskIcon() {\n            return __imgPath + \"image/common/jx3box_black.svg\";\n        },\n    },\n    watch: {},\n    methods: {\n        // 加载任务列表\n        loadTasks() {\n            this.loading = true;\n            getTasks({ is_limit_everyday: 0, os_visible: 1 })\n                .then((res) => {\n                    this.list = res.data.data.list;\n                })\n                .finally(() => {\n                    this.loading = false;\n                });\n        },\n        // 点击完成\n        checkFinish(id) {\n            getCheckTasks(id).then((res) => {\n                if (res.data.data.hasFinish) {\n                    this.$notify({\n                        title: \"成功\",\n                        message: \"完成任务，获得奖励\",\n                        type: \"success\",\n                    });\n                    location.reload();\n                } else {\n                    this.$notify({\n                        title: \"提示\",\n                        message: \"您没有完成任务\",\n                        type: \"warning\",\n                    });\n                }\n            });\n        },\n    },\n    mounted: function () {\n        this.loadTasks();\n    },\n};\n</script>\n<style lang=\"less\">\n@import \"~@/assets/css/tasks.less\";\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./tasks.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./tasks.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./tasks.vue?vue&type=template&id=60804e2e&\"\nimport script from \"./tasks.vue?vue&type=script&lang=js&\"\nexport * from \"./tasks.vue?vue&type=script&lang=js&\"\nimport style0 from \"./tasks.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./tasks.vue?vue&type=style&index=0&lang=less&\""],"sourceRoot":""}