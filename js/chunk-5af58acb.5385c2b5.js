(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5af58acb"],{"337f":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"m-dashboard-keycode m-credit"},[t._m(0),a("el-alert",{staticClass:"m-boxcoin-tip",attrs:{title:"请务必妥善保管，并注意过期时间。",type:"warning","show-icon":""}},[a("a",{attrs:{href:"https://charge.xoyo.com/pay?item=jx3&way=kcard",target:"_blank"}},[t._v("金山一卡通充值页面")])]),a("el-tabs",{attrs:{type:"border-card"},on:{"tab-click":t.tabClick},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("el-tab-pane",{attrs:{label:"一卡通",name:"keycode"}},[t.list.length?a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"m-table",attrs:{data:t.list,"show-header":""}},[a("el-table-column",{attrs:{prop:"type",label:"类型",width:"140"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.keycode[e.row.type]||"其他"))]}}],null,!1,1249896633)}),a("el-table-column",{attrs:{prop:"subtype",label:"渠道",width:"140"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.subtypes[e.row.subtype]||"其他"))]}}],null,!1,704203944)}),a("el-table-column",{attrs:{label:"面额",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.count))]}}],null,!1,1801049342)}),a("el-table-column",{attrs:{label:"卡密","min-width":"330"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"u-card"},[a("div",{staticClass:"u-count"},[a("div",{staticClass:"u-line"},[a("span",[t._v("卡号："+t._s(e.row.code||"****************")+" ")]),e.row.code?a("el-button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:""+e.row.code,expression:"'' + scope.row.code",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:t.onError,expression:"onError",arg:"error"}],staticClass:"u-btn",attrs:{type:"txt",size:"mini",icon:"el-icon-document-copy"}},[t._v("复制卡号")]):t._e()],1),a("div",{staticClass:"u-line"},[a("span",[t._v("卡密："+t._s(e.row.key||"****************"))]),e.row.key?a("el-button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:""+e.row.key,expression:"'' + scope.row.key",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:t.onError,expression:"onError",arg:"error"}],staticClass:"u-btn",attrs:{type:"txt",size:"mini",icon:"el-icon-document-copy"}},[t._v("复制密码")]):t._e()],1)]),e.row.code?t._e():a("el-button",{attrs:{type:"primary",icon:"el-icon-view",size:"small",plain:""},on:{click:function(a){return t.getKeycode(e.$index,e.row)}}},[t._v("点击查看")])],1)]}}],null,!1,1182821010)}),a("el-table-column",{attrs:{label:"过期时间","min-width":"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.expire_at?a("div",{staticClass:"u-time"},[a("span",{staticClass:"u-tag",class:t.compareTime(e.row.expire_at,"tag")},[t._v(t._s(t.compareTime(e.row.expire_at,"time")))]),a("span",[t._v(t._s(e.row.expire_at))])]):a("span",[t._v("-")])]}}],null,!1,2673936506)}),a("el-table-column",{attrs:{prop:"remark",label:"备注","min-width":"200"}})],1):a("el-alert",{staticClass:"m-credit-null m-packet-null",attrs:{title:"没有找到任何记录",type:"info",center:"","show-icon":""}}),t.showPagination?a("el-pagination",{staticClass:"m-credit-pages",attrs:{background:"","page-size":t.per,"hide-on-single-page":!0,"current-page":t.page,layout:"total, prev, pager, next, jumper",total:t.total},on:{"current-change":t.currentChange,"update:currentPage":function(e){t.page=e},"update:current-page":function(e){t.page=e}}}):t._e()],1),a("el-tab-pane",{attrs:{label:"激活码",name:"sn"}},[t.list.length?a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"m-table",attrs:{data:t.list,"show-header":"","cell-class-name":"u-table-cell","header-cell-class-name":"u-header-cell"}},[a("el-table-column",{attrs:{prop:"type",label:"类型"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.types[e.row.type]||"其他"))]}}],null,!1,1514819432)}),a("el-table-column",{attrs:{prop:"subtype",label:"渠道"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.subtypes[e.row.subtype]||"其他"))]}}],null,!1,704203944)}),a("el-table-column",{attrs:{label:"激活码","min-width":"300"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"u-code"},[a("span",{staticClass:"u-txt"},[t._v(t._s(e.row.code||"****************"))]),e.row.code?a("el-button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:""+e.row.code,expression:"'' + scope.row.code",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:t.onError,expression:"onError",arg:"error"}],staticClass:"u-btn",attrs:{type:"txt",size:"mini",icon:"el-icon-document-copy"}},[t._v("复制")]):a("el-button",{attrs:{type:"primary",icon:"el-icon-view",size:"small",plain:""},on:{click:function(a){return t.getSn(e.$index,e.row)}}},[t._v("点击查看")])],1)]}}],null,!1,2751949383)}),a("el-table-column",{attrs:{label:"过期时间","min-width":"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.expire_at?a("div",{staticClass:"u-time"},[a("span",{staticClass:"u-tag",class:t.compareTime(e.row.expire_at,"tag")},[t._v(t._s(t.compareTime(e.row.expire_at,"time")))]),a("span",[t._v(t._s(e.row.expire_at))])]):a("span",[t._v("-")])]}}],null,!1,2673936506)}),a("el-table-column",{attrs:{prop:"remark",label:"备注","min-width":"300"}})],1):a("el-alert",{staticClass:"m-credit-null m-packet-null",attrs:{title:"没有找到任何记录",type:"info",center:"","show-icon":""}}),t.showPagination?a("el-pagination",{staticClass:"m-credit-pages",attrs:{background:"","page-size":t.per,"hide-on-single-page":!0,"current-page":t.page,layout:"total, prev, pager, next, jumper",total:t.total},on:{"current-change":t.currentChange,"update:currentPage":function(e){t.page=e},"update:current-page":function(e){t.page=e}}}):t._e()],1)],1)],1)},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h2",{staticClass:"u-title"},[a("i",{staticClass:"el-icon-bank-card"}),t._v(" 我的卡密")])}],o=(a("fb6a"),a("d3b7"),a("d81d"),a("b0c0"),a("a9e3"),a("41cb"));function i(t){return Object(o["e"])().get("/api/my/codekeycode/history",{params:t})}function s(t){return Object(o["e"])().get("/api/my/codesn/history",{params:t})}function c(t,e){return Object(o["e"])().post("/api/my/codesn/".concat(t,"/activation-code"),e)}function l(t,e){return Object(o["e"])().post("/api/my/codekeycode/".concat(t,"/activation-code"),e)}var u=a("674a"),p=(a("2ef0"),{name:"card",data:function(){return{loading:!1,per:10,page:1,total:0,tab:"keycode",list:[],keycode:u["a"],types:u["c"],subtypes:u["b"],showPagination:!0}},computed:{params:function(){return{tab:this.tab,pageIndex:this.page,pageSize:this.per}},loadName:function(){return"load"+this.tab.slice(0,1).toUpperCase()+this.tab.slice(1)}},methods:{loadKeycode:function(){var t=this;this.loading=!0,this.$router.push({name:"card",query:{tab:"keycode",page:this.page}}),this.showPagination=!1,i(this.params).then((function(e){t.list=e.data.data.list.map((function(t){return t.code="",t.key="",t})),t.total=e.data.data.page.total})).finally((function(){t.loading=!1,t.showPagination=!0}))},loadSn:function(){var t=this;this.loading=!0,this.$router.push({name:"card",query:{tab:"sn",page:this.page}}),this.showPagination=!1,s(this.params).then((function(e){t.list=e.data.data.list.map((function(t){return t.sn="",t})),t.total=e.data.data.page.total})).finally((function(){t.loading=!1,t.showPagination=!0}))},getKeycode:function(t,e){var a=this;this.$prompt("请输入密码","提示",{confirmButtonText:"确定",cancelButtonText:"取消",inputType:"password"}).then((function(n){var r=n.value;l(e.id,{password:r}).then((function(n){var r=n.data.data,o=r.code,i=r.key;e.code=o,e.key=i,a.$set(a.list,t,e)}))}))},getSn:function(t,e){var a=this;this.$prompt("请输入密码","提示",{confirmButtonText:"确定",cancelButtonText:"取消",inputType:"password"}).then((function(n){var r=n.value;c(e.id,{password:r}).then((function(n){e.code=n.data.data.sn,a.$set(a.list,t,e)}))}))},compareTime:function(t,e){var a=new Date(t).getTime()>Date.now()?0:1,n={0:"green",1:"gray"},r={0:"未过期",1:"已过期"};return"tag"==e?n[a]:r[a]},onCopy:function(t){this.$notify({title:"复制成功",message:"复制内容 : "+t.text,type:"success"})},onError:function(){this.$notify.error({title:"复制失败",message:"请手动复制"})},currentChange:function(t){this.page=t,this[this.loadName]()},tabClick:function(t){this.page=1,this.tab=t.name,this[this.loadName]()}},mounted:function(){this.$route.query.tab&&(this.tab=this.$route.query.tab),this.page=Number(this.$route.query.page||1),this.loadName&&this[this.loadName]()}}),d=p,m=(a("fc8d"),a("2877")),b=Object(m["a"])(d,n,r,!1,null,null,null);e["default"]=b.exports},"408a":function(t,e,a){var n=a("e330");t.exports=n(1..valueOf)},"551b":function(t,e,a){},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,a){var n=a("e330"),r=a("1d80"),o=a("577e"),i=a("5899"),s=n("".replace),c="["+i+"]",l=RegExp("^"+c+c+"*"),u=RegExp(c+c+"*$"),p=function(t){return function(e){var a=o(r(e));return 1&t&&(a=s(a,l,"")),2&t&&(a=s(a,u,"")),a}};t.exports={start:p(1),end:p(2),trim:p(3)}},"674a":function(t){t.exports=JSON.parse('{"a":{"seasun_ykt":"金山一卡通"},"c":{"tf":"体服激活码","game":"游戏内激活码"},"b":{"jdt_tf":"秘境百强","point_lottery":"积分抽奖","boxcoin":"盒币兑换"}}')},7156:function(t,e,a){var n=a("1626"),r=a("861d"),o=a("d2bb");t.exports=function(t,e,a){var i,s;return o&&n(i=e.constructor)&&i!==a&&r(s=i.prototype)&&s!==a.prototype&&o(t,s),t}},a9e3:function(t,e,a){"use strict";var n=a("83ab"),r=a("da84"),o=a("e330"),i=a("94ca"),s=a("cb2d"),c=a("1a2d"),l=a("7156"),u=a("3a9b"),p=a("d9b5"),d=a("c04e"),m=a("d039"),b=a("241c").f,f=a("06cf").f,g=a("9bf2").f,h=a("408a"),y=a("58a8").trim,v="Number",w=r[v],_=w.prototype,x=r.TypeError,k=o("".slice),C=o("".charCodeAt),N=function(t){var e=d(t,"number");return"bigint"==typeof e?e:E(e)},E=function(t){var e,a,n,r,o,i,s,c,l=d(t,"number");if(p(l))throw x("Cannot convert a Symbol value to a number");if("string"==typeof l&&l.length>2)if(l=y(l),e=C(l,0),43===e||45===e){if(a=C(l,2),88===a||120===a)return NaN}else if(48===e){switch(C(l,1)){case 66:case 98:n=2,r=49;break;case 79:case 111:n=8,r=55;break;default:return+l}for(o=k(l,2),i=o.length,s=0;s<i;s++)if(c=C(o,s),c<48||c>r)return NaN;return parseInt(o,n)}return+l};if(i(v,!w(" 0o1")||!w("0b1")||w("+0x1"))){for(var S,I=function(t){var e=arguments.length<1?0:w(N(t)),a=this;return u(_,a)&&m((function(){h(a)}))?l(Object(e),a,I):e},T=n?b(w):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),$=0;T.length>$;$++)c(w,S=T[$])&&!c(I,S)&&g(I,S,f(w,S));I.prototype=_,_.constructor=I,s(r,v,I,{constructor:!0})}},d81d:function(t,e,a){"use strict";var n=a("23e7"),r=a("b727").map,o=a("1dde"),i=o("map");n({target:"Array",proto:!0,forced:!i},{map:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},fc8d:function(t,e,a){"use strict";a("551b")}}]);
//# sourceMappingURL=chunk-5af58acb.5385c2b5.js.map