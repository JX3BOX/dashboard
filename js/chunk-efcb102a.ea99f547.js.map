{"version":3,"sources":["webpack:///./src/service/profile.js","webpack:///./src/views/email.vue?b457","webpack:///./node_modules/sterilizer/main.js","webpack:///./src/components/uc.vue?af9d","webpack:///./src/components/tabs.vue?e77b","webpack:///src/components/tabs.vue","webpack:///./src/components/tabs.vue?0e28","webpack:///./src/components/tabs.vue","webpack:///src/components/uc.vue","webpack:///./src/components/uc.vue?b1e0","webpack:///./src/components/uc.vue","webpack:///./src/views/email.vue?7e5d","webpack:///src/views/email.vue","webpack:///./src/views/email.vue?3362","webpack:///./src/views/email.vue","webpack:///./src/components/uc.vue?aa75"],"names":["getProfile","$cms","get","updateProfile","data","put","updateAvatar","uploadAvatar","post","getFrames","axios","__imgPath","getUserOverview","uid","updatePassword","$_server","checkEmailStatus","checkEmailAvailable","email","params","user_email","sendBindEmail","sendVerifyEmail","checkOAuth","unbindOAuth","_typeof","o","s","Object","prototype","toString","call","match","toLowerCase","defineProperty","exports","value","Sterilizer","str","Error","this","_symbols","$","_","symbols","keys","regs","values","_str","_type","_iter","includes","_toRemove","join","re","RegExp","replace","germ","undefined","Set","_detected","_germ","char","add","_sterilize","probiotics","delete","kill","words","replacement","custom","some","item","sterilizer","Validator","val","opt","isOptional","rule","e","console","error","_invalid","test","is","range","length","options","isIn","status","maxValue","minValue","validator","ins","check","render","_vm","_h","$createElement","_c","_self","staticClass","_m","_t","staticRenderFns","_v","on","changeTab","model","callback","$$v","active","expression","attrs","slot","component","class","verified","_s","address","changeEmail","_e","verify","changeEmailMode","checkEmail","directives","name","rawName","email_validate","email_validate_tip","email_available","email_available_tip","ready","bind"],"mappings":"2IAAA,keAMA,SAASA,IACL,OAAOC,iBAAOC,IAAI,4BAEtB,SAASC,EAAcC,GACnB,OAAOH,iBAAOI,IAAI,2BAA4BD,GAKlD,SAASE,EAAaF,GAClB,OAAOH,iBAAOI,IAAI,0BAA2BD,GAEjD,SAASG,EAAaH,GAClB,OAAOH,iBAAOO,KAAK,yBAA0BJ,GAEjD,SAASK,IACL,OAAOC,OAAMR,IAAIS,eAAY,+BAEjC,SAASC,EAAgBC,GACrB,OAAOZ,iBAAOC,IAAP,wBAA4BW,EAA5B,UAKX,SAASC,EAAeV,GACpB,OAAOW,OAASP,KAAK,mBAAoBJ,GAK7C,SAASY,IACL,OAAOD,OAASb,IAAI,uBAGxB,SAASe,EAAoBC,GACzB,OAAOH,OAASb,IAAI,0BAA2B,CAC3CiB,OAAQ,CACJC,WAAYF,KAKxB,SAASG,EAAcjB,GACnB,OAAOW,OAASP,KAAK,qBAAsBJ,GAG/C,SAASkB,IACL,OAAOP,OAASP,KAAK,wBAIzB,SAASe,IACL,OAAOR,OAASb,IAAI,uBAGxB,SAASsB,EAAYpB,GACjB,OAAOW,OAASP,KAAK,uBAAwBJ,K,oCC9DjD,Y,kCCSA,SAASqB,EAAQC,GACb,IAAIC,EAAIC,OAAOC,UAAUC,SAASC,KAAKL,GACvC,OAAOC,EAAEK,MAAM,oBAAoB,GAAGC,cAT1CL,OAAOM,eAAeC,EAAS,aAAc,CAAEC,OAAO,IAkBtD,MAAMC,EACF,YAAYC,GAER,GAAkB,WAAfb,EAAQa,GACP,MAAM,IAAIC,MACN,8CAIRC,KAAKC,SAAW,CACZ,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACLC,EAAG,MACH,IAAK,IACL,IAAK,MACL,IAAK,IACL,IAAK,MACL,IAAK,MACLC,EAAG,IACH,IAAK,IACL,IAAK,IACL,IAAK,MACL,IAAK,MACL,IAAK,MACL,IAAK,MACL,IAAK,MACL,IAAK,MACL,IAAK,MACL,KAAM,OACN,IAAK,IACL,IAAK,MACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,OAETH,KAAKI,QAAUhB,OAAOiB,KAAKL,KAAKC,UAChCD,KAAKM,KAAOlB,OAAOmB,OAAOP,KAAKC,UAC/BD,KAAKF,IAAMA,EACXE,KAAKQ,KAAOV,EAIhB,WACI,OAAOE,KAAKQ,KAIhB,UAAUtB,GACN,IAAIuB,EAAQxB,EAAQC,GAChBwB,EAAQ,CAAC,SAAU,QAAS,OAChC,IAAKA,EAAMC,SAASF,GAChB,MAAM,IAAIV,MACN,0DAER,OAAOb,EAIX,WAAW0B,GACPA,EAAY,IAAIA,GAAWC,KAAK,IAChC,IAAIC,EAAK,IAAIC,OAAO,IAAIH,KAAc,MAEtC,OADAZ,KAAKQ,KAAOR,KAAKQ,KAAKQ,QAAQF,EAAI,IAC3Bd,KAIX,KAAKiB,GACD,IAAIL,EAAY,KAGhB,QAAYM,GAARD,EACAL,EAAY,IAAIO,IAAInB,KAAKM,UACtB,CACHN,KAAKoB,UAAUH,GACfL,EAAY,IAAIO,IAChB,IAAIE,EAAQ,IAAIF,IAAIF,GACpB,IAAK,IAAIK,KAAQD,EACTrB,KAAKI,QAAQO,SAASW,IACtBV,EAAUW,IAAIvB,KAAKC,SAASqB,IAIxC,OAAOtB,KAAKwB,WAAWZ,GAI3B,KAAKa,GACDzB,KAAKoB,UAAUK,GAGf,IAAIb,EAAY,IAAIO,IAAInB,KAAKM,MAC7B,IAAK,IAAIgB,KAAQG,EACTzB,KAAKI,QAAQO,SAASW,IACtBV,EAAUc,OAAO1B,KAAKC,SAASqB,IAIvC,OAAOtB,KAAKwB,WAAWZ,GAI3B,OACI,OAAOZ,KAAK2B,KAAK,CACb,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,MAKR,YACI,OAAO3B,KAAK2B,KAAK,CAAC,IAAK,IAAK,IAAK,IAAK,MAI1C,YACI,OAAO3B,KAAK2B,KAAK,CAAC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,MAIzD,cAEI,OADA3B,KAAKQ,KAAOR,KAAKQ,KAAKQ,QAAQ,OAAQ,IAC/BhB,KAIX,OAAO4B,EAAOC,GACV,IAAIf,EAAK,IAAIC,OAAO,GAAGa,EAAS,MAGhC,OAFAC,OAA8BX,IAAhBW,EAA4BA,EAAc,GACxD7B,KAAKQ,KAAOR,KAAKQ,KAAKQ,QAAQF,EAAIe,GAC3B7B,KAIX,gBAEI,OADAA,KAAKQ,KAAOR,KAAKQ,KAAKQ,QAAQ,YAAa,IACpChB,KAIX,QAAQ8B,GACJ,OAAGA,EACQ9B,KAAKF,IAAIa,SAASmB,GAElB9B,KAAKI,QAAQ2B,KAAMC,GACfhC,KAAKF,IAAIa,SAASqB,KAMzC,SAASC,EAAWnC,GAChB,OAAO,IAAID,EAAWC,GAS1B,MAAMoC,EACF,YAAYC,EAAKC,GACbpC,KAAKmC,IAAMA,EACXnC,KAAKoC,IAAMA,GAAO,GAGtB,QACI,IAEI,GAA2B,GAAvBpC,KAAKoC,IAAIC,YACLrC,KAAKqC,aACL,OAAO,EAKf,IAAK,IAAIC,KAAQtC,KAAKoC,IAClB,GAAY,cAARE,IACCtC,KAAKsC,GAAMtC,KAAKoC,IAAIE,IACrB,OAAO,EAIf,OAAO,EACT,MAAOC,GACLC,QAAQC,MAAMF,IAItB,aACI,IAAIG,EAAW,CAAC,QAAIxB,EAAW,MAC/B,QAAOwB,EAAS/B,SAASX,KAAKmC,KAGlC,GAAGrB,GACC,IAAKA,aAAcC,OACf,MAAM,IAAIhB,MAAM,4CACpB,OAAOe,EAAG6B,KAAK3C,KAAKmC,KAGxB,IAAIrB,GACA,OAAQd,KAAK4C,GAAG9B,GAGpB,IAAI+B,GACA,IAAIC,EAAS9C,KAAKmC,IAAIW,OACtB,GAAsB,SAAlB7D,EAAQ4D,GACR,OAAOC,GAAUD,EAAM,IAAMC,GAAUD,EAAM,GAEjD,GAAsB,UAAlB5D,EAAQ4D,IAAwC,UAAlB5D,EAAQ4D,GACtC,OAAOC,GAAUD,EAErB,MAAM,IAAI9C,MAAM,wDAGpB,KAAKgD,GACD,GAAwB,SAApB9D,EAAQ8D,GACR,MAAM,IAAIhD,MAAM,8CAEpB,QAAOgD,EAAQpC,SAASX,KAAKmC,KAGjC,MAAMY,GACF,OAAQ/C,KAAKgD,KAAKD,GAGtB,QAAQE,GACJ,OAAOA,GAAS,YAAYN,KAAK3C,KAAKmC,KAG1C,eAAec,GACX,OAAOA,GAAS,eAAeN,KAAK3C,KAAKmC,KAG7C,UAAUc,GACN,OAAOA,GAAS,WAAWN,KAAK3C,KAAKmC,KAGzC,MAAMc,GACF,OAAOA,GAAS,+BAA+BN,KAAK3C,KAAKmC,KAG7D,QAAQc,GACJ,OAAOA,GAAS,yBAAyBN,KAAK3C,KAAKmC,KAGvD,IAAIe,GACA,OAAOlD,KAAKmC,KAAOe,EAGvB,IAAIC,GACA,OAAOnD,KAAKmC,KAAOgB,EAIvB,UAAUF,GACN,OAAOA,GAAS,qBAAqBN,KAAK3C,KAAKmC,KAInD,eAAec,GACX,OAAOA,GACD,uFAAuFN,KACrF3C,KAAKmC,KAMjB,cAAcc,GACV,OAAOA,GAAS,oBAAoBN,KAAK3C,KAAKmC,KAIlD,QAAQc,GACJ,OAAOA,GACD,0EAA0EN,KAAK3C,KAAKmC,KAK9F,SAASc,GACL,OAAOA,IACA,OAAON,KAAK3C,KAAKmC,MAKhC,SAASiB,EAAUjB,EAAKC,GACpB,MAAMiB,EAAM,IAAInB,EAAUC,EAAKC,GAC/B,OAAOiB,EAAIC,QAGf3D,EAAQE,WAAaA,EACrBF,EAAQuC,UAAYA,EACpBvC,EAAQsC,WAAaA,EACrBtC,EAAQyD,UAAYA,G,kCC9UpB,IAAIG,EAAS,WAAa,IAAIC,EAAIxD,KAASyD,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,iCAAiC,CAACL,EAAIM,GAAG,GAAGH,EAAG,QAAQH,EAAIO,GAAG,YAAY,IAC5LC,EAAkB,CAAC,WAAa,IAAIR,EAAIxD,KAASyD,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,KAAK,CAACE,YAAY,WAAW,CAACF,EAAG,IAAI,CAACE,YAAY,iBAAiBL,EAAIS,GAAG,aCDnL,EAAS,WAAa,IAAIT,EAAIxD,KAASyD,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,UAAU,CAACE,YAAY,mBAAmBK,GAAG,CAAC,YAAYV,EAAIW,WAAWC,MAAM,CAACxE,MAAO4D,EAAU,OAAEa,SAAS,SAAUC,GAAMd,EAAIe,OAAOD,GAAKE,WAAW,WAAW,CAACb,EAAG,cAAc,CAACc,MAAM,CAAC,KAAO,YAAY,CAACd,EAAG,OAAO,CAACc,MAAM,CAAC,KAAO,SAASC,KAAK,SAAS,CAACf,EAAG,IAAI,CAACE,YAAY,iBAAiBL,EAAIS,GAAG,aAAaN,EAAG,cAAc,CAACc,MAAM,CAAC,KAAO,WAAW,CAACd,EAAG,OAAO,CAACc,MAAM,CAAC,KAAO,SAASC,KAAK,SAAS,CAACf,EAAG,IAAI,CAACE,YAAY,mBAAmBL,EAAIS,GAAG,aAAaN,EAAG,cAAc,CAACc,MAAM,CAAC,KAAO,QAAQ,CAACd,EAAG,OAAO,CAACc,MAAM,CAAC,KAAO,SAASC,KAAK,SAAS,CAACf,EAAG,IAAI,CAACE,YAAY,iBAAiBL,EAAIS,GAAG,aAAaN,EAAG,cAAc,CAACc,MAAM,CAAC,KAAO,UAAU,CAACd,EAAG,OAAO,CAACc,MAAM,CAAC,KAAO,SAASC,KAAK,SAAS,CAACf,EAAG,IAAI,CAACE,YAAY,oBAAoBL,EAAIS,GAAG,aAAaN,EAAG,cAAc,CAACc,MAAM,CAAC,KAAO,YAAY,CAACd,EAAG,OAAO,CAACc,MAAM,CAAC,KAAO,SAASC,KAAK,SAAS,CAACf,EAAG,IAAI,CAACE,YAAY,uBAAuBL,EAAIS,GAAG,cAAc,IAC1/B,EAAkB,GC8BtB,G,UAAA,CACE,KAAF,GACE,MAAF,GACE,KAAF,WACI,MAAJ,CACM,OAAN,YAGE,MAAF,CACI,OAAJ,WACM,KAAN,0BAGE,SAAF,GACE,QAAF,CACI,UAAJ,WACM,KAAN,cAAQ,KAAR,gBAGE,QAAF,WACI,KAAJ,yBAEE,WAAF,KCrDyY,I,YCOrYU,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,KACA,MAIa,EAAAA,E,QCRf,GACE,KAAF,KACE,MAAF,GACE,KAAF,WACI,MAAJ,IAEE,SAAF,GACE,QAAF,GACE,QAAF,aACE,WAAF,CACI,KAAJ,ICpBuY,ICQnY,G,UAAY,eACd,EACApB,EACAS,GACA,EACA,KACA,KACA,OAIa,S,mDCnBf,IAAIT,EAAS,WAAa,IAAIC,EAAIxD,KAASyD,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,KAAK,CAACE,YAAY,qBAAqB,CAACF,EAAG,MAAM,CAACE,YAAY,mBAAmB,CAACF,EAAG,MAAM,CAACiB,MAAM,QAAQH,MAAM,CAAC,MAAQ,6BAA6B,QAAU,sBAAsB,aAAa,GAAG,KAAO,eAAe,UAAY,QAAQ,SAAW,OAAO,CAACd,EAAG,OAAO,CAACc,MAAM,CAAC,EAAI,6DAA6D,KAAO,aAAad,EAAG,OAAO,CAACc,MAAM,CAAC,EAAI,+LAA+L,KAAO,aAAad,EAAG,OAAO,CAACc,MAAM,CAAC,EAAI,gOAAgO,KAAO,aAAad,EAAG,OAAO,CAACc,MAAM,CAAC,EAAI,yJAAyJ,KAAO,aAAad,EAAG,OAAO,CAACc,MAAM,CAAC,EAAI,mIAAmI,KAAO,aAAad,EAAG,OAAO,CAACc,MAAM,CAAC,EAAI,gtBAAgtB,KAAO,aAAad,EAAG,OAAO,CAACc,MAAM,CAAC,EAAI,mHAAmH,KAAO,eAA8B,GAAdjB,EAAIP,OAAgBU,EAAG,MAAM,CAACE,YAAY,UAAU,CAAkB,GAAhBL,EAAIqB,SAAkB,CAAClB,EAAG,KAAK,CAACE,YAAY,WAAW,CAACL,EAAIS,GAAG,WAAWN,EAAG,IAAI,CAACE,YAAY,aAAa,CAACL,EAAIS,GAAGT,EAAIsB,GAAGtB,EAAIuB,YAAYpB,EAAG,WAAW,CAACE,YAAY,QAAQY,MAAM,CAAC,MAAQ,QAAQ,KAAO,UAAU,YAAc,qBAAqB,YAAY,GAAG,UAAW,KAASd,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,YAAY,CAACE,YAAY,WAAWY,MAAM,CAAC,KAAO,UAAU,KAAO,gBAAgBP,GAAG,CAAC,MAAQV,EAAIwB,cAAc,CAACxB,EAAIS,GAAG,WAAW,IAAIT,EAAIyB,KAAsB,GAAhBzB,EAAIqB,SAAmB,CAAClB,EAAG,KAAK,CAACE,YAAY,WAAW,CAACL,EAAIS,GAAG,WAAWN,EAAG,IAAI,CAACE,YAAY,aAAa,CAACL,EAAIS,GAAGT,EAAIsB,GAAGtB,EAAIuB,YAAYpB,EAAG,WAAW,CAACE,YAAY,QAAQY,MAAM,CAAC,MAAQ,QAAQ,KAAO,UAAU,YAAc,6BAA6B,YAAY,GAAG,UAAW,KAASd,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,YAAY,CAACE,YAAY,WAAWY,MAAM,CAAC,KAAO,UAAU,KAAO,uBAAuBP,GAAG,CAAC,MAAQV,EAAI0B,SAAS,CAAC1B,EAAIS,GAAG,UAAUN,EAAG,YAAY,CAACE,YAAY,WAAWY,MAAM,CAAC,KAAO,UAAU,KAAO,gBAAgBP,GAAG,CAAC,MAAQV,EAAIwB,cAAc,CAACxB,EAAIS,GAAG,WAAW,IAAIT,EAAIyB,MAAM,GAAGzB,EAAIyB,KAAoB,GAAdzB,EAAIP,OAAiBU,EAAG,MAAM,CAACE,YAAY,UAAU,CAACF,EAAG,KAAK,CAACE,YAAY,WAAW,CAACL,EAAIS,GAAG,IAAIT,EAAIsB,GAAGtB,EAAI2B,gBAAkB,OAAS,SAAS,OAAOxB,EAAG,MAAM,CAACE,YAAY,WAAW,CAACF,EAAG,WAAW,CAACE,YAAY,iBAAiBY,MAAM,CAAC,YAAc,OAAO,UAAY,IAAI,UAAY,MAAMP,GAAG,CAAC,OAASV,EAAI4B,YAAYhB,MAAM,CAACxE,MAAO4D,EAAS,MAAEa,SAAS,SAAUC,GAAMd,EAAI9E,MAAM4F,GAAKE,WAAW,UAAU,CAACb,EAAG,WAAW,CAACe,KAAK,WAAW,CAACf,EAAG,MAAM,CAACE,YAAY,uBAAuBe,MAAM,SAASH,MAAM,CAAC,QAAU,YAAY,MAAQ,KAAK,OAAS,KAAK,cAAc,OAAO,aAAa,GAAG,KAAO,eAAe,UAAY,QAAQ,SAAW,OAAO,CAACd,EAAG,OAAO,CAACc,MAAM,CAAC,YAAY,UAAU,EAAI,+KAA+K,GAAGd,EAAG,MAAM,CAACE,YAAY,WAAW,CAACF,EAAG,WAAW,CAAC0B,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAAS3F,MAA6B,GAAtB4D,EAAIgC,eAAyBhB,WAAW,4BAA4BC,MAAM,CAAC,MAAQjB,EAAIiC,mBAAmB,KAAO,QAAQ,YAAY,GAAG,UAAW,KAAS9B,EAAG,WAAW,CAAC0B,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAAS3F,MAA8B,GAAvB4D,EAAIkC,gBAA0BlB,WAAW,6BAA6BC,MAAM,CAAC,MAAQjB,EAAImC,oBAAoB,KAAO,QAAQ,YAAY,GAAG,UAAW,MAAU,GAAGhC,EAAG,IAAI,CAAC0B,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAAS3F,MAAO4D,EAAS,MAAEgB,WAAW,UAAUX,YAAY,qCAAqC,GAAGF,EAAG,WAAW,CAACE,YAAY,QAAQY,MAAM,CAAC,MAAQ,aAAa,KAAO,UAAU,YAAc,oCAAoC,YAAY,GAAG,UAAW,KAASd,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,YAAY,CAACE,YAAY,WAAWY,MAAM,CAAC,KAAO,UAAU,UAAYjB,EAAIoC,OAAO1B,GAAG,CAAC,MAAQV,EAAIqC,OAAO,CAACrC,EAAIS,GAAG,WAAW,IAAI,GAAGT,EAAIyB,UACnnKjB,EAAkB,G,gDCwItB,GACE,KAAF,QACE,MAAF,GACE,KAAF,WACI,MAAJ,CACM,OAAN,KACM,IAAN,qBACM,QAAN,GACM,SAAN,KAEM,MAAN,GACM,eAAN,KACM,mBAAN,iBACM,gBAAN,KACM,oBAAN,aAEM,iBAAN,IAGE,SAAF,CACI,MAAJ,WACM,OAAN,4CAGE,QAAF,CACI,OAAJ,WAAM,IAAN,OACM,OAAN,OAAM,CAAN,4BACQ,EAAR,UACU,QAAV,WACU,KAAV,gBAII,WAAJ,WAAM,IAAN,OAEM,GAAN,eAGQ,OAFA,KAAR,yBACQ,KAAR,sBAKM,IAAN,qCACQ,SAAR,EACQ,IAAR,SAEM,KAAN,iBACA,GAGM,OAAN,OAAM,CAAN,8BACQ,EAAR,gCAGI,KAAJ,WAAM,IAAN,OACA,WAKM,OAAN,OAAM,CAAN,CACQ,IAAR,SACQ,MAAR,aACA,kBACQ,EAAR,8BACU,kBAAV,OAEQ,EAAR,UACQ,EAAR,YACQ,EAAR,mBAbQ,KAAR,2BAgBI,YAAJ,WACM,KAAN,UACM,KAAN,qBAGE,QAAF,WAAI,IAAJ,OACI,KAAJ,yBACI,OAAJ,OAAI,GAAJ,kBACA,mBACQ,EAAR,UACQ,EAAR,0BACQ,EAAR,2CAEQ,EAAR,cAIE,WAAF,CACI,GAAJ,SCnO0Y,I,wBCQtYW,EAAY,eACd,EACApB,EACAS,GACA,EACA,KACA,KACA,MAIa,aAAAW,E,2CCnBf,W","file":"js/chunk-efcb102a.ea99f547.js","sourcesContent":["import { axios, $server, $_server } from \"./axios\";\nimport { $cms } from \"@jx3box/jx3box-common/js/https.js\";\nimport { __imgPath } from \"@jx3box/jx3box-common/data/jx3box.json\";\n\n// 1.资料\n// -------------------------------\nfunction getProfile() {\n    return $cms().get(\"/api/cms/user/my/profile\");\n}\nfunction updateProfile(data) {\n    return $cms().put(\"/api/cms/user/my/profile\", data);\n}\n\n// 2.头像\n// -------------------------------\nfunction updateAvatar(data) {\n    return $cms().put(\"/api/cms/user/my/avatar\", data);\n}\nfunction uploadAvatar(data) {\n    return $cms().post(\"/api/cms/upload/avatar\", data);\n}\nfunction getFrames() {\n    return axios.get(__imgPath + \"data/user_avatar_frame.json\");\n}\nfunction getUserOverview(uid) {\n    return $cms().get(`/api/cms/user/${uid}/info`);\n}\n\n// 3.密码\n// -------------------------------\nfunction updatePassword(data) {\n    return $_server.post(\"profile/password\", data);\n}\n\n// 4.邮箱\n// -------------------------------\nfunction checkEmailStatus() {\n    return $_server.get(\"profile/email/check\");\n}\n\nfunction checkEmailAvailable(email) {\n    return $_server.get(\"profile/email/available\", {\n        params: {\n            user_email: email,\n        },\n    });\n}\n\nfunction sendBindEmail(data) {\n    return $_server.post(\"profile/email/bind\", data);\n}\n\nfunction sendVerifyEmail() {\n    return $_server.post(\"profile/email/verify\");\n}\n\n// 5.互联\nfunction checkOAuth() {\n    return $_server.get(\"profile/oauth/check\");\n}\n\nfunction unbindOAuth(data) {\n    return $_server.post(\"profile/oauth/unbind\", data);\n}\n\n// 6.亲友设置\n\n\nexport {\n    updateProfile,\n    getProfile,\n    updateAvatar,\n    updatePassword,\n    sendVerifyEmail,\n    checkEmailAvailable,\n    checkEmailStatus,\n    sendBindEmail,\n    unbindOAuth,\n    checkOAuth,\n    uploadAvatar,\n    getFrames,\n    getUserOverview,\n};\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/style-resources-loader/lib/index.js??ref--10-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./email.vue?vue&type=style&index=0&lang=less&\"","'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\n/**\n * \n * @param {any} o any object to be detected\n * @return {string} the type string\n */\nfunction _typeof(o){\n    var s = Object.prototype.toString.call(o);\n    return s.match(/\\[object (.*?)\\]/)[1].toLowerCase();\n}\n\n/**\n * @desc  Remove specified symbols & charaters\n * @param {string} str string will be sterilized\n * @return {str} the clean string\n * @return {object} a sterilizer object \n */\nclass Sterilizer {\n    constructor(str) {\n\n        if(_typeof(str)!=='string'){\n            throw new Error(\n                \"[Sterilizer::init] params should be string\"\n            );\n        }\n\n        this._symbols = {\n            \"`\": \"`\",\n            \"~\": \"~\",\n            \"!\": \"!\",\n            \"@\": \"@\",\n            \"#\": \"#\",\n            $: \"\\\\$\",\n            \"%\": \"%\",\n            \"^\": \"\\\\^\",\n            \"&\": \"&\",\n            \"*\": \"\\\\*\",\n            \"-\": \"\\\\-\",\n            _: \"_\",\n            \"=\": \"=\",\n            \"+\": \"+\",\n            \"(\": \"\\\\(\",\n            \")\": \"\\\\)\",\n            \"[\": \"\\\\[\",\n            \"]\": \"\\\\]\",\n            \"{\": \"\\\\{\",\n            \"}\": \"\\\\}\",\n            \"|\": \"\\\\|\",\n            \"\\\\\": \"\\\\\\\\\",\n            \"/\": \"/\",\n            \"?\": \"\\\\?\",\n            \":\": \":\",\n            \";\": \";\",\n            \"'\": \"'\",\n            '\"': '\"',\n            \">\": \">\",\n            \"<\": \"<\",\n            \",\": \",\",\n            \".\": \"\\\\.\",\n        };\n        this.symbols = Object.keys(this._symbols);\n        this.regs = Object.values(this._symbols);\n        this.str = str;\n        this._str = str;\n    }\n\n    // output the clean string\n    toString() {\n        return this._str;\n    }\n\n    // detected the object type\n    _detected(o) {\n        let _type = _typeof(o);\n        let _iter = [\"string\", \"array\", \"set\"];\n        if (!_iter.includes(_type))\n            throw new Error(\n                \"[Sterilizer::remove] params should be string|array|set\"\n            );\n        return o;\n    }\n\n    // replaced the specified symbols by RegExp\n    _sterilize(_toRemove) {\n        _toRemove = [..._toRemove].join(\"\");\n        let re = new RegExp(`[${_toRemove}]`, \"gm\");\n        this._str = this._str.replace(re, \"\");\n        return this\n    }\n\n    // remove the specified symbols\n    kill(germ) {\n        let _toRemove = null;\n\n        // build unique toRemove set\n        if (germ == undefined) {\n            _toRemove = new Set(this.regs);\n        } else {\n            this._detected(germ);\n            _toRemove = new Set();\n            let _germ = new Set(germ);\n            for (let char of _germ) {\n                if (this.symbols.includes(char))\n                    _toRemove.add(this._symbols[char]);\n            }\n        }\n\n        return this._sterilize(_toRemove);\n    }\n\n    // remove all the symbols exclude args\n    live(probiotics) {\n        this._detected(probiotics);\n\n        // build unique toRemove set\n        let _toRemove = new Set(this.regs);\n        for (let char of probiotics) {\n            if (this.symbols.includes(char)) {\n                _toRemove.delete(this._symbols[char]);\n            }\n        }\n\n        return this._sterilize(_toRemove);\n    }\n\n    // remove htmlspecialchars + urlspecialchars\n    safe() {\n        return this.kill([\n            \"&\",\n            \"<\",\n            \">\",\n            '\"',\n            \"'\",\n            \"+\",\n            \":\",\n            \"/\",\n            \"?\",\n            \"=\",\n            \"#\",\n            \"%\",\n        ]);\n    }\n\n    // remove htmlspecialchars\n    removeHSC() {\n        return this.kill([\"&\", \"<\", \">\", '\"', \"'\"]);\n    }\n\n    // remove urlspecialchars\n    removeURL() {\n        return this.kill([\"+\", \":\", \"/\", \"?\", \"=\", \"&\", \"#\", \"%\"]);\n    }\n\n    // remove all the space\n    removeSpace() {\n        this._str = this._str.replace(/\\s/gm, \"\");\n        return this\n    }\n\n    // remove specified charaters\n    remove(words, replacement) {\n        let re = new RegExp(`${words}`, \"gm\");\n        replacement = replacement !== undefined ? replacement : \"\";\n        this._str = this._str.replace(re, replacement);\n        return this\n    }\n\n    // remove all the HTML tags\n    removeHTMLtag() {\n        this._str = this._str.replace(/<[^>]+>/gm, \"\");\n        return this\n    }\n\n    // has symbols\n    isDirty(custom){\n        if(custom){\n            return this.str.includes(custom)\n        }else {\n            return this.symbols.some((item) => {\n                return this.str.includes(item)\n            })\n        }\n    }\n}\n\nfunction sterilizer(str) {\n    return new Sterilizer(str);\n}\n\n/**\n * @desc  Validate input value with sequelize similar interface\n * @param {any} val input will be validated\n * @param {object} opt validate option\n * @return {boolean} true or false\n */\nclass Validator {\n    constructor(val, opt) {\n        this.val = val;\n        this.opt = opt || {};\n    }\n\n    check() {\n        try {\n            // if it sets optional && invalid value\n            if (this.opt.isOptional == true) {\n                if (this.isOptional()) {\n                    return true;\n                }\n            }\n\n            // check all the conditions are right\n            for (let rule in this.opt) {\n                if (rule == \"isOptional\") continue;\n                if (!this[rule](this.opt[rule])) {\n                    return false;\n                }\n            }\n\n            return true;\n        } catch (e) {\n            console.error(e);\n        }\n    }\n\n    isOptional() {\n        let _invalid = [\"\", undefined, null];\n        return _invalid.includes(this.val) ? true : false;\n    }\n\n    is(re) {\n        if (!re instanceof RegExp)\n            throw new Error(\"[Validator::is] param should be a RegExp\");\n        return re.test(this.val);\n    }\n\n    not(re) {\n        return !this.is(re);\n    }\n\n    len(range) {\n        let length = this.val.length;\n        if (_typeof(range) == \"array\") {\n            return length >= range[0] && length <= range[1];\n        }\n        if (_typeof(range) == \"string\" || _typeof(range) == \"number\") {\n            return length == range;\n        }\n        throw new Error(\"[Validator::len] param should be array|string|number\");\n    }\n\n    isIn(options) {\n        if (_typeof(options) != \"array\") {\n            throw new Error(\"[Validator::isIn] param should be an array\");\n        }\n        return options.includes(this.val) ? true : false;\n    }\n\n    notIn(options) {\n        return !this.isIn(options);\n    }\n\n    isAlpha(status) {\n        return status ? /^[A-Z]+$/i.test(this.val) : true;\n    }\n\n    isAlphanumeric(status) {\n        return status ? /^[A-Z0-9]+$/i.test(this.val) : true;\n    }\n\n    isNumeric(status) {\n        return status ? /^[0-9]+$/.test(this.val) : true;\n    }\n\n    isInt(status) {\n        return status ? /^(?:[-+]?(?:0|[1-9][0-9]*))$/.test(this.val) : true;\n    }\n\n    isFloat(status) {\n        return status ? /^[-+]?[0-9]*\\.?[0-9]+$/.test(this.val) : true;\n    }\n\n    max(maxValue) {\n        return this.val <= maxValue;\n    }\n\n    min(minValue) {\n        return this.val >= minValue;\n    }\n\n    // Chinese Characters\n    isChinese(status) {\n        return status ? /^[\\u4e00-\\u9fa5]+$/.test(this.val) : true;\n    }\n\n    // Chinese Identity Card (should be verfied the validity again)\n    isIdentityCard(status) {\n        return status\n            ? /^[1-9]\\d{5}(18|19|20)\\d{2}((0[1-9])|(1[0-2]))(([0-2][1-9])|10|20|30|31)\\d{3}[0-9Xx]$/.test(\n                this.val\n            )\n            : true;\n    }\n\n    // Chinese Mobile Phone Number\n    isMobilePhone(status) {\n        return status ? /^1[3456789]\\d{9}$/.test(this.val) : true;\n    }\n\n    // Only English domain\n    isEmail(status) {\n        return status\n            ? /^([A-Za-z0-9_\\-\\.\\u4e00-\\u9fa5])+@([A-Za-z0-9_\\-\\.])+\\.([A-Za-z]{2,8})$/.test(this.val)\n            : true;\n    }\n\n    // not empty allowed\n    notEmpty(status){\n        return status\n            ? !/\\s/gm.test(this.val)\n            : true;\n    }\n}\n\nfunction validator(val, opt) {\n    const ins = new Validator(val, opt);\n    return ins.check();\n}\n\nexports.Sterilizer = Sterilizer;\nexports.Validator = Validator;\nexports.sterilizer = sterilizer;\nexports.validator = validator;\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"m-dashboard-profile m-profile\"},[_vm._m(0),_c('tabs'),_vm._t(\"default\")],2)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('h2',{staticClass:\"u-title\"},[_c('i',{staticClass:\"el-icon-user\"}),_vm._v(\" 我的资料\")])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-tabs',{staticClass:\"m-dashboard-tabs\",on:{\"tab-click\":_vm.changeTab},model:{value:(_vm.active),callback:function ($$v) {_vm.active=$$v},expression:\"active\"}},[_c('el-tab-pane',{attrs:{\"name\":\"profile\"}},[_c('span',{attrs:{\"slot\":\"label\"},slot:\"label\"},[_c('i',{staticClass:\"el-icon-user\"}),_vm._v(\" 基本资料\")])]),_c('el-tab-pane',{attrs:{\"name\":\"avatar\"}},[_c('span',{attrs:{\"slot\":\"label\"},slot:\"label\"},[_c('i',{staticClass:\"el-icon-camera\"}),_vm._v(\" 修改头像\")])]),_c('el-tab-pane',{attrs:{\"name\":\"pwd\"}},[_c('span',{attrs:{\"slot\":\"label\"},slot:\"label\"},[_c('i',{staticClass:\"el-icon-lock\"}),_vm._v(\" 修改密码\")])]),_c('el-tab-pane',{attrs:{\"name\":\"email\"}},[_c('span',{attrs:{\"slot\":\"label\"},slot:\"label\"},[_c('i',{staticClass:\"el-icon-message\"}),_vm._v(\" 邮箱设置\")])]),_c('el-tab-pane',{attrs:{\"name\":\"connect\"}},[_c('span',{attrs:{\"slot\":\"label\"},slot:\"label\"},[_c('i',{staticClass:\"el-icon-connection\"}),_vm._v(\" 绑定账号\")])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <el-tabs class=\"m-dashboard-tabs\" v-model=\"active\" @tab-click=\"changeTab\">\n        <el-tab-pane name=\"profile\"\n            ><span slot=\"label\"\n                ><i class=\"el-icon-user\"></i> 基本资料</span\n            ></el-tab-pane\n        >\n        <el-tab-pane name=\"avatar\"\n            ><span slot=\"label\"\n                ><i class=\"el-icon-camera\"></i> 修改头像</span\n            ></el-tab-pane\n        >\n        <el-tab-pane name=\"pwd\"\n            ><span slot=\"label\"\n                ><i class=\"el-icon-lock\"></i> 修改密码</span\n            ></el-tab-pane\n        >\n        <el-tab-pane name=\"email\"\n            ><span slot=\"label\"\n                ><i class=\"el-icon-message\"></i> 邮箱设置</span\n            ></el-tab-pane\n        >\n        <el-tab-pane name=\"connect\"\n            ><span slot=\"label\"\n                ><i class=\"el-icon-connection\"></i> 绑定账号</span\n            ></el-tab-pane\n        >\n    </el-tabs>\n</template>\n\n<script>\nexport default {\n    name: \"\",\n    props: [],\n    data: function() {\n        return {\n            active : 'profile'\n        };\n    },\n    watch : {\n        $route : function (){\n            this.active = this.$route.name\n        }  \n    },\n    computed: {},\n    methods: {\n        changeTab : function (){\n            this.$router.push({name : this.active})\n        }\n    },\n    mounted: function() {\n        this.active = this.$route.name\n    },\n    components: {},\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./tabs.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./tabs.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./tabs.vue?vue&type=template&id=241be414&\"\nimport script from \"./tabs.vue?vue&type=script&lang=js&\"\nexport * from \"./tabs.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n    <div class=\"m-dashboard-profile m-profile\">\n        <h2 class=\"u-title\"><i class=\"el-icon-user\"></i> 我的资料</h2>\n        <tabs />\n        <slot></slot>\n    </div>\n</template>\n\n<script>\nimport tabs from \"@/components/tabs.vue\";\nexport default {\n    name: \"uc\",\n    props: [],\n    data: function() {\n        return {};\n    },\n    computed: {},\n    methods: {},\n    mounted: function() {},\n    components: {\n        tabs\n    },\n};\n</script>\n\n<style lang=\"less\">\n@import \"../assets/css/profile/uc.less\";\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./uc.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./uc.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./uc.vue?vue&type=template&id=29cfa590&\"\nimport script from \"./uc.vue?vue&type=script&lang=js&\"\nexport * from \"./uc.vue?vue&type=script&lang=js&\"\nimport style0 from \"./uc.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('uc',{staticClass:\"m-dashboard-email\"},[_c('div',{staticClass:\"m-profile-email\"},[_c('svg',{class:'u-pic',attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 504.124 504.124\",\"svg-inline\":'',\"role\":'presentation',\"focusable\":'false',\"tabindex\":'-1'}},[_c('path',{attrs:{\"d\":\"M0 200.862L252.062 51.2l252.062 149.662v220.554H0V200.862z\",\"fill\":\"#d07c40\"}}),_c('path',{attrs:{\"d\":\"M55.138 11.815h393.846c8.665 0 15.754 7.089 15.754 15.754v275.692c0 8.665-7.089 15.754-15.754 15.754H55.138c-8.665 0-15.754-7.089-15.754-15.754V27.569c.001-8.664 7.09-15.754 15.754-15.754z\",\"fill\":\"#efefef\"}}),_c('path',{attrs:{\"d\":\"M415.902 43.323l25.206-31.508h7.877c8.665 0 15.754 7.089 15.754 15.754v15.754h-48.837zm-204.8 0l25.206-31.508h55.138L266.24 43.323h-55.138zm-171.717 0V27.569c0-8.665 7.089-15.754 15.754-15.754h39.385L69.317 43.323H39.385z\",\"fill\":\"#26a6d1\"}}),_c('path',{attrs:{\"d\":\"M504.123 468.677c0 12.997-10.634 23.631-23.631 23.631H23.631C10.634 492.309 0 481.674 0 468.677V200.862l252.062 110.277 252.062-110.277v267.815h-.001z\",\"fill\":\"#efc75e\"}}),_c('path',{attrs:{\"d\":\"M504.123 468.677c0 12.997-10.634 23.631-23.631 23.631H23.631C10.634 492.309 0 481.674 0 468.677v-47.262l504.123-220.554v267.816z\",\"fill\":\"#e8c15b\"}}),_c('path',{attrs:{\"d\":\"M160.295 151.631l3.151 16.542-25.206-39.385-35.446 55.138c-.394 5.12 22.449 9.058 50.806 9.058s51.2-3.938 51.2-9.058l-31.114-46.08-13.391 13.785zm3.151-21.662c5.514 0 9.846-4.332 9.846-9.846s-4.332-9.846-9.846-9.846-9.846 4.332-9.846 9.846 4.332 9.846 9.846 9.846zm80.739-3.938h157.538c4.332 0 7.877-3.545 7.877-7.877s-3.545-7.877-7.877-7.877H244.185c-4.332 0-7.877 3.545-7.877 7.877s3.544 7.877 7.877 7.877zm157.538 15.754H244.185c-4.332 0-7.877 3.545-7.877 7.877s3.545 7.877 7.877 7.877h157.538c4.332 0 7.877-3.545 7.877-7.877 0-4.333-3.545-7.877-7.877-7.877zm-39.385 31.507H244.185c-4.332 0-7.877 3.545-7.877 7.877s3.545 7.877 7.877 7.877h118.154c4.332 0 7.877-3.545 7.877-7.877-.001-4.332-3.545-7.877-7.878-7.877z\",\"fill\":\"#d6d9db\"}}),_c('path',{attrs:{\"d\":\"M313.502 43.323l25.206-31.508h55.138L368.64 43.323h-55.138zm-204.8 0l25.206-31.508h55.138L163.84 43.323h-55.138z\",\"fill\":\"#e2574c\"}})]),(_vm.status == true)?_c('div',{staticClass:\"u-done\"},[(_vm.verified == true)?[_c('h1',{staticClass:\"u-title\"},[_vm._v(\"已绑定邮箱\")]),_c('p',{staticClass:\"u-address\"},[_vm._v(_vm._s(_vm.address))]),_c('el-alert',{staticClass:\"u-tip\",attrs:{\"title\":\"已验证邮箱\",\"type\":\"success\",\"description\":\"仅绑定邮箱用户支持邮件订阅通知等功能\",\"show-icon\":\"\",\"closable\":false}}),_c('div',{staticClass:\"u-btngroup\"},[_c('el-button',{staticClass:\"u-button\",attrs:{\"type\":\"primary\",\"icon\":\"el-icon-edit\"},on:{\"click\":_vm.changeEmail}},[_vm._v(\"修改邮箱\")])],1)]:_vm._e(),(_vm.verified == false)?[_c('h1',{staticClass:\"u-title\"},[_vm._v(\"未验证邮箱\")]),_c('p',{staticClass:\"u-address\"},[_vm._v(_vm._s(_vm.address))]),_c('el-alert',{staticClass:\"u-tip\",attrs:{\"title\":\"未验证邮箱\",\"type\":\"warning\",\"description\":\"请尽快进行邮箱验证,否则您的账号将面临风险与权限受阻\",\"show-icon\":\"\",\"closable\":false}}),_c('div',{staticClass:\"u-btngroup\"},[_c('el-button',{staticClass:\"u-button\",attrs:{\"type\":\"primary\",\"icon\":\"el-icon-s-promotion\"},on:{\"click\":_vm.verify}},[_vm._v(\"验证邮箱\")]),_c('el-button',{staticClass:\"u-button\",attrs:{\"type\":\"primary\",\"icon\":\"el-icon-edit\"},on:{\"click\":_vm.changeEmail}},[_vm._v(\"修改邮箱\")])],1)]:_vm._e()],2):_vm._e(),(_vm.status == false)?_c('div',{staticClass:\"u-none\"},[_c('h1',{staticClass:\"u-title\"},[_vm._v(\" \"+_vm._s(_vm.changeEmailMode ? \"修改邮箱\" : \"未绑定邮箱\")+\" \")]),_c('div',{staticClass:\"u-email\"},[_c('el-input',{staticClass:\"u-text u-email\",attrs:{\"placeholder\":\"邮箱地址\",\"minlength\":\"3\",\"maxlength\":\"50\"},on:{\"change\":_vm.checkEmail},model:{value:(_vm.email),callback:function ($$v) {_vm.email=$$v},expression:\"email\"}},[_c('template',{slot:\"prepend\"},[_c('svg',{staticClass:\"octicon octicon-mail\",class:'i-mail',attrs:{\"viewBox\":\"0 0 14 16\",\"width\":\"14\",\"height\":\"16\",\"aria-hidden\":\"true\",\"svg-inline\":'',\"role\":'presentation',\"focusable\":'false',\"tabindex\":'-1'}},[_c('path',{attrs:{\"fill-rule\":\"evenodd\",\"d\":\"M0 4v8c0 .55.45 1 1 1h12c.55 0 1-.45 1-1V4c0-.55-.45-1-1-1H1c-.55 0-1 .45-1 1zm13 0L7 9 1 4h12zM1 5.5l4 3-4 3v-6zM2 12l3.5-3L7 10.5 8.5 9l3.5 3H2zm11-.5l-4-3 4-3v6z\"}})])])],2),_c('div',{staticClass:\"u-error\"},[_c('el-alert',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.email_validate == false),expression:\"email_validate == false\"}],attrs:{\"title\":_vm.email_validate_tip,\"type\":\"error\",\"show-icon\":\"\",\"closable\":false}}),_c('el-alert',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.email_available == false),expression:\"email_available == false\"}],attrs:{\"title\":_vm.email_available_tip,\"type\":\"error\",\"show-icon\":\"\",\"closable\":false}})],1),_c('i',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.ready),expression:\"ready\"}],staticClass:\"el-icon-success el-icons-status\"})],1),_c('el-alert',{staticClass:\"u-tip\",attrs:{\"title\":\"请填写正确的邮箱地址\",\"type\":\"warning\",\"description\":\"绑定邮箱后将可以使用邮箱进行登录,当第三方登录出现异常时不会受影响\",\"show-icon\":\"\",\"closable\":false}}),_c('div',{staticClass:\"u-btngroup\"},[_c('el-button',{staticClass:\"u-button\",attrs:{\"type\":\"primary\",\"disabled\":!_vm.ready},on:{\"click\":_vm.bind}},[_vm._v(\"绑定邮箱\")])],1)],1):_vm._e()])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <uc class=\"m-dashboard-email\">\n        <div class=\"m-profile-email\">\n            <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 504.124 504.124\" v-bind:class=\"'u-pic'\" v-bind:svg-inline=\"''\" v-bind:role=\"'presentation'\" v-bind:focusable=\"'false'\" v-bind:tabindex=\"'-1'\"><path d=\"M0 200.862L252.062 51.2l252.062 149.662v220.554H0V200.862z\" fill=\"#d07c40\"/><path d=\"M55.138 11.815h393.846c8.665 0 15.754 7.089 15.754 15.754v275.692c0 8.665-7.089 15.754-15.754 15.754H55.138c-8.665 0-15.754-7.089-15.754-15.754V27.569c.001-8.664 7.09-15.754 15.754-15.754z\" fill=\"#efefef\"/><path d=\"M415.902 43.323l25.206-31.508h7.877c8.665 0 15.754 7.089 15.754 15.754v15.754h-48.837zm-204.8 0l25.206-31.508h55.138L266.24 43.323h-55.138zm-171.717 0V27.569c0-8.665 7.089-15.754 15.754-15.754h39.385L69.317 43.323H39.385z\" fill=\"#26a6d1\"/><path d=\"M504.123 468.677c0 12.997-10.634 23.631-23.631 23.631H23.631C10.634 492.309 0 481.674 0 468.677V200.862l252.062 110.277 252.062-110.277v267.815h-.001z\" fill=\"#efc75e\"/><path d=\"M504.123 468.677c0 12.997-10.634 23.631-23.631 23.631H23.631C10.634 492.309 0 481.674 0 468.677v-47.262l504.123-220.554v267.816z\" fill=\"#e8c15b\"/><path d=\"M160.295 151.631l3.151 16.542-25.206-39.385-35.446 55.138c-.394 5.12 22.449 9.058 50.806 9.058s51.2-3.938 51.2-9.058l-31.114-46.08-13.391 13.785zm3.151-21.662c5.514 0 9.846-4.332 9.846-9.846s-4.332-9.846-9.846-9.846-9.846 4.332-9.846 9.846 4.332 9.846 9.846 9.846zm80.739-3.938h157.538c4.332 0 7.877-3.545 7.877-7.877s-3.545-7.877-7.877-7.877H244.185c-4.332 0-7.877 3.545-7.877 7.877s3.544 7.877 7.877 7.877zm157.538 15.754H244.185c-4.332 0-7.877 3.545-7.877 7.877s3.545 7.877 7.877 7.877h157.538c4.332 0 7.877-3.545 7.877-7.877 0-4.333-3.545-7.877-7.877-7.877zm-39.385 31.507H244.185c-4.332 0-7.877 3.545-7.877 7.877s3.545 7.877 7.877 7.877h118.154c4.332 0 7.877-3.545 7.877-7.877-.001-4.332-3.545-7.877-7.878-7.877z\" fill=\"#d6d9db\"/><path d=\"M313.502 43.323l25.206-31.508h55.138L368.64 43.323h-55.138zm-204.8 0l25.206-31.508h55.138L163.84 43.323h-55.138z\" fill=\"#e2574c\"/></svg>\n\n            <!-- 已绑定 -->\n            <div v-if=\"status == true\" class=\"u-done\">\n                <template v-if=\"verified == true\">\n                    <h1 class=\"u-title\">已绑定邮箱</h1>\n                    <p class=\"u-address\">{{ address }}</p>\n                    <el-alert\n                        class=\"u-tip\"\n                        title=\"已验证邮箱\"\n                        type=\"success\"\n                        description=\"仅绑定邮箱用户支持邮件订阅通知等功能\"\n                        show-icon\n                        :closable=\"false\"\n                    >\n                    </el-alert>\n                    <div class=\"u-btngroup\">\n                        <el-button\n                            type=\"primary\"\n                            class=\"u-button\"\n                            @click=\"changeEmail\"\n                            icon=\"el-icon-edit\"\n                            >修改邮箱</el-button\n                        >\n                    </div>\n                </template>\n\n                <template v-if=\"verified == false\">\n                    <h1 class=\"u-title\">未验证邮箱</h1>\n                    <p class=\"u-address\">{{ address }}</p>\n                    <el-alert\n                        title=\"未验证邮箱\"\n                        class=\"u-tip\"\n                        type=\"warning\"\n                        description=\"请尽快进行邮箱验证,否则您的账号将面临风险与权限受阻\"\n                        show-icon\n                        :closable=\"false\"\n                    >\n                    </el-alert>\n                    <div class=\"u-btngroup\">\n                        <el-button\n                            type=\"primary\"\n                            class=\"u-button\"\n                            @click=\"verify\"\n                            icon=\"el-icon-s-promotion\"\n                            >验证邮箱</el-button\n                        >\n                        <el-button\n                            type=\"primary\"\n                            class=\"u-button\"\n                            @click=\"changeEmail\"\n                            icon=\"el-icon-edit\"\n                            >修改邮箱</el-button\n                        >\n                    </div>\n                </template>\n            </div>\n\n            <!-- 未绑定 -->\n            <div v-if=\"status == false\" class=\"u-none\">\n                <h1 class=\"u-title\">\n                    {{ changeEmailMode ? \"修改邮箱\" : \"未绑定邮箱\" }}\n                </h1>\n\n                <div class=\"u-email\">\n                    <el-input\n                        class=\"u-text u-email\"\n                        v-model=\"email\"\n                        placeholder=\"邮箱地址\"\n                        minlength=\"3\"\n                        maxlength=\"50\"\n                        @change=\"checkEmail\"\n                    >\n                        <template slot=\"prepend\">\n                            <svg class=\"octicon octicon-mail\" viewBox=\"0 0 14 16\" width=\"14\" height=\"16\" aria-hidden=\"true\" v-bind:class=\"'i-mail'\" v-bind:svg-inline=\"''\" v-bind:role=\"'presentation'\" v-bind:focusable=\"'false'\" v-bind:tabindex=\"'-1'\"><path fill-rule=\"evenodd\" d=\"M0 4v8c0 .55.45 1 1 1h12c.55 0 1-.45 1-1V4c0-.55-.45-1-1-1H1c-.55 0-1 .45-1 1zm13 0L7 9 1 4h12zM1 5.5l4 3-4 3v-6zM2 12l3.5-3L7 10.5 8.5 9l3.5 3H2zm11-.5l-4-3 4-3v6z\"/></svg>\n                        </template>\n                    </el-input>\n                    <div class=\"u-error\">\n                        <el-alert\n                            v-show=\"email_validate == false\"\n                            :title=\"email_validate_tip\"\n                            type=\"error\"\n                            show-icon\n                            :closable=\"false\"\n                        ></el-alert>\n                        <el-alert\n                            v-show=\"email_available == false\"\n                            :title=\"email_available_tip\"\n                            type=\"error\"\n                            show-icon\n                            :closable=\"false\"\n                        ></el-alert>\n                    </div>\n                    <i\n                        v-show=\"ready\"\n                        class=\"el-icon-success el-icons-status\"\n                    ></i>\n                </div>\n\n                <el-alert\n                    title=\"请填写正确的邮箱地址\"\n                    class=\"u-tip\"\n                    type=\"warning\"\n                    description=\"绑定邮箱后将可以使用邮箱进行登录,当第三方登录出现异常时不会受影响\"\n                    show-icon\n                    :closable=\"false\"\n                >\n                </el-alert>\n\n                <div class=\"u-btngroup\">\n                    <el-button\n                        type=\"primary\"\n                        class=\"u-button\"\n                        @click=\"bind\"\n                        :disabled=\"!ready\"\n                        >绑定邮箱</el-button\n                    >\n                </div>\n            </div>\n        </div>\n    </uc>\n</template>\n\n<script>\nimport uc from '@/components/uc.vue'\nimport { validator } from \"sterilizer\";\nimport User from \"@jx3box/jx3box-common/js/user\";\nimport {\n    sendVerifyEmail,\n    sendBindEmail,\n    checkEmailAvailable,\n    checkEmailStatus,\n} from \"../service/profile\";\n\nexport default {\n    name: \"email\",\n    props: [],\n    data: function() {\n        return {\n            status: null,\n            uid: User.getInfo().uid,\n            address: \"\",\n            verified: null,\n\n            email: \"\",\n            email_validate: null,\n            email_validate_tip: \"邮箱格式不正确或长度超出限制\",\n            email_available: null,\n            email_available_tip: \"邮箱已被使用,请更换\",\n\n            changeEmailMode: false,\n        };\n    },\n    computed: {\n        ready: function() {\n            return this.email_validate && this.email_available;\n        },\n    },\n    methods: {\n        verify: function() {\n            sendVerifyEmail(this.uid).then((res) => {\n                this.$message({\n                    message: \"邮件已发送请查收\",\n                    type: \"success\",\n                });\n            });\n        },\n        checkEmail: function() {\n            // 如果为空\n            if (this.email == \"\") {\n                this.email_validate = null;\n                this.email_available = null;\n                return;\n            }\n\n            // 校验格式\n            let result = validator(this.email, {\n                isEmail: true,\n                len: [3, 50],\n            });\n            this.email_validate = result;\n            if (!result) return;\n\n            // 邮箱是否可用\n            checkEmailAvailable(this.email).then((res) => {\n                this.email_available = res.data.data;\n            });\n        },\n        bind: function() {\n            if (!this.ready) {\n                this.$message.error(\"邮箱地址不合法\");\n                return;\n            }\n\n            sendBindEmail({\n                uid: this.uid,\n                email: this.email,\n            }).then((res) => {\n                this.$alert(\"申请提交成功,请前往邮箱验证\", \"消息\", {\n                    confirmButtonText: \"确定\",\n                });\n                this.status = true;\n                this.verified = false;\n                this.address = this.email;\n            });\n        },\n        changeEmail: function() {\n            this.status = false;\n            this.changeEmailMode = true;\n        },\n    },\n    mounted: function() {\n        this.uid = User.getInfo().uid;\n        checkEmailStatus().then((res) => {\n            if (res.data.data.email) {\n                this.status = true;\n                this.address = res.data.data.email;\n                this.verified = !!parseInt(res.data.data.verified);\n            } else {\n                this.status = false;\n            }\n        });\n    },\n    components : {\n        uc\n    }\n};\n</script>\n\n<style lang=\"less\">\n@import \"../assets/css/profile/email.less\";\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./email.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./email.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./email.vue?vue&type=template&id=702cad35&\"\nimport script from \"./email.vue?vue&type=script&lang=js&\"\nexport * from \"./email.vue?vue&type=script&lang=js&\"\nimport style0 from \"./email.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/style-resources-loader/lib/index.js??ref--10-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./uc.vue?vue&type=style&index=0&lang=less&\""],"sourceRoot":""}