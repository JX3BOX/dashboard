(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d3a530c6"],{"499e":function(t,s,a){},"6d24":function(t,s,a){"use strict";a.r(s);var i=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"m-credit m-tasks"},[t._m(0),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"m-tasks-list"},t._l(t.list,(function(s,i){return a("div",{key:i,staticClass:"u-item"},[a("img",{staticClass:"u-img",attrs:{src:s.task.task_icon||t.defaultTaskIcon,alt:s.task.action_type_desc}}),a("div",{staticClass:"u-box"},[a("div",{staticClass:"u-info"},[a("a",{staticClass:"u-title",attrs:{href:s.task.task_url,target:"_blank"}},[t._v(t._s(s.task.action_type_desc))]),a("span",{staticClass:"u-desc"},[t._v(" "+t._s(s.task.task_detail)+" ∕ "),t._l(s.attr,(function(s,i){return a("span",{key:i,staticClass:"u-attr"},[t._v(" "+t._s(t.attr_name[s.name])+" +"+t._s(s.count)+" ")])}))],2)]),a("div",{staticClass:"u-btn"},[a("el-button",{attrs:{size:"small",type:s.hasFinish?"success":"warning",disabled:s.hasFinish,icon:s.hasFinish?"el-icon-check":""},on:{click:function(a){return t.checkFinish(s.task.id)}}},[t._v(t._s(s.hasFinish?"已完成":"接受任务"))])],1)])])})),0)])},n=[function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("h2",{staticClass:"u-title"},[a("i",{staticClass:"el-icon-coffee-cup"}),t._v(" 我的任务")])}],e=(a("d3b7"),a("41cb"));function c(t){return Object(e["e"])().get("/api/personal/task",{params:t})}function l(t){return Object(e["e"])().get("/api/personal/task/".concat(t,"/check-status"))}var o=a("65c2"),u={name:"tasks",props:[],data:function(){return{loading:!1,list:[],attr_name:{experience:"经验",points:"积分"}}},computed:{defaultTaskIcon:function(){return o["__imgPath"]+"image/common/jx3box_black.svg"}},watch:{},methods:{loadTasks:function(){var t=this;this.loading=!0,c({is_limit_everyday:0,os_visible:1}).then((function(s){t.list=s.data.data.list})).finally((function(){t.loading=!1}))},checkFinish:function(t){var s=this;l(t).then((function(t){t.data.data.hasFinish?(s.$notify({title:"成功",message:"完成任务，获得奖励",type:"success"}),location.reload()):s.$notify({title:"提示",message:"您没有完成任务",type:"warning"})}))}},mounted:function(){this.loadTasks()}},r=u,d=(a("96f6"),a("2877")),_=Object(d["a"])(r,i,n,!1,null,null,null);s["default"]=_.exports},"96f6":function(t,s,a){"use strict";a("499e")}}]);
//# sourceMappingURL=chunk-d3a530c6.b0dd711c.js.map